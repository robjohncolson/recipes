/*!
 * v0.21.17 (c) 2022
 *
 * Includes:
 * - https://www.npmjs.com/package/bowser
 * - https://www.npmjs.com/package/delay
 * - https://www.npmjs.com/package/es6-error
 * - https://www.npmjs.com/package/es6-symbol
 * - https://www.npmjs.com/package/eventemitter3
 * - https://www.npmjs.com/package/json-stringify-safe
 * - https://www.npmjs.com/package/p-defer
 * - https://www.npmjs.com/package/p-finally
 * - https://www.npmjs.com/package/promise-queue
 * - https://www.npmjs.com/package/protochain
 * - https://www.npmjs.com/package/typescript
 * - https://www.npmjs.com/package/unfetch
 * - https://www.npmjs.com/package/upper-case-first
 */
!function(){Function.prototype.$asyncbind=function t(e,n){"use strict";function r(){return i.apply(e,arguments)}Function.prototype.$asyncbind||Object.defineProperty(Function.prototype,"$asyncbind",{value:t,enumerable:!1,configurable:!0,writable:!0}),t.trampoline||(t.trampoline=function(t,e,n,r,i){return function o(s){for(;s;){if(s.then)return s=s.then(o,r),i?void 0:s;try{if(s.pop){if(s.length)return s.pop()?e.call(t):s;s=n}else s=s.call(t)}catch(t){return r(t)}}}}),t.LazyThenable||(t.LazyThenable=function(){function t(t){return t&&t instanceof Object&&"function"==typeof t.then}function e(n,r,i){try{var o=i?i(r):r;if(n===o)return n.reject(new TypeError("Promise resolution loop"));t(o)?o.then((function(t){e(n,t)}),(function(t){n.reject(t)})):n.resolve(o)}catch(t){n.reject(t)}}function n(t){}function r(){}function i(n,i){var o=new r;try{this._resolver((function(r){return t(r)?r.then(n,i):e(o,r,n)}),(function(t){e(o,t,i)}))}catch(t){e(o,t,i)}return o}function o(t){this._resolver=t,this.then=i}return r.prototype={resolve:n,reject:n,then:function(t,e){this.resolve=t,this.reject=e}},o.resolve=function(t){return o.isThenable(t)?t:{then:function(e){return e(t)}}},o.isThenable=t,o}(),t.EagerThenable=t.Thenable=(t.EagerThenableFactory=function(t){t=t||"object"==typeof process&&process.nextTick||"function"==typeof setImmediate&&setImmediate||function(t){setTimeout(t,0)};var e=function(){var e=[],n=0;function r(){for(;e.length-n;){try{e[n]()}catch(t){}e[n++]=void 0,1024===n&&(e.splice(0,1024),n=0)}}return function(i){e.push(i),e.length-n==1&&t(r)}}();function n(t){if(t){var e=this;t((function(t){e.resolve(t)}),(function(t){e.reject(t)}))}}function r(t,e){if("function"==typeof t.y)try{var n=t.y.call(void 0,e);t.p.resolve(n)}catch(e){t.p.reject(e)}else t.p.resolve(e)}function i(t,e){if("function"==typeof t.n)try{var n=t.n.call(void 0,e);t.p.resolve(n)}catch(e){t.p.reject(e)}else t.p.reject(e)}return n.prototype={resolve:function(t){if(void 0===this.state){if(t===this)return this.reject(new TypeError("Attempt to resolve promise with self"));var n=this;if(t&&("function"==typeof t||"object"==typeof t))try{var i=0,o=t.then;if("function"==typeof o)return void o.call(t,(function(t){i++||n.resolve(t)}),(function(t){i++||n.reject(t)}))}catch(t){return void(i||this.reject(t))}this.state=r,this.v=t,n.c&&e((function(){for(var e=0,i=n.c.length;e<i;e++)r(n.c[e],t)}))}},reject:function(t){if(void 0===this.state){this.state=i,this.v=t;var n=this.c;n&&e((function(){for(var e=0,r=n.length;e<r;e++)i(n[e],t)}))}},then:function(t,r){var i=new n,o={y:t,n:r,p:i};if(void 0===this.state)this.c?this.c.push(o):this.c=[o];else{var s=this.state,u=this.v;e((function(){s(o,u)}))}return i}},n.resolve=function(t){if(t&&t instanceof n)return t;var e=new n;return e.resolve(t),e},n.reject=function(t){if(t&&t instanceof n)return t;var e=new n;return e.reject(t),e},n.version="2.3.3-nodent",n})());var i=this;switch(n){case!0:return new t.Thenable(r);case 0:return new t.LazyThenable(r);case void 0:return r.then=r,r;default:return function(){try{return i.apply(e,arguments)}catch(t){return n(t)}}}};var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},e=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")},n=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(t){return e()}try{return __global__||e()}finally{delete Object.prototype.__global__}}(),r="object"==typeof globalThis&&globalThis&&globalThis.Array===Array?globalThis:n,i=r,o={object:!0,symbol:!0},s={}.toString,u=function(t){return s.call(t).slice(8,-1)},a={exports:{}},c={exports:{}},l={exports:{}},h=l.exports={version:"2.6.12"};"number"==typeof __e&&(__e=h);var f={exports:{}},d=f.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=d);var p=l.exports,v=f.exports,m="__core-js_shared__",g=v[m]||(v[m]={});(c.exports=function(t,e){return g[t]||(g[t]=void 0!==e?e:{})})("versions",[]).push({version:p.version,mode:"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"});var y=0,b=Math.random(),_=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++y+b).toString(36))},A=c.exports("wks"),w=_,E=f.exports.Symbol,S="function"==typeof E;(a.exports=function(t){return A[t]||(A[t]=S&&E[t]||(S?E:w)("Symbol."+t))}).store=A;var P=u,k=a.exports("toStringTag"),T="Arguments"==P(function(){return arguments}()),O=function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),k))?n:T?P(e):"Object"==(r=P(e))&&"function"==typeof e.callee?"Arguments":r},x={exports:{}},C={},I=function(t){return"object"==typeof t?null!==t:"function"==typeof t},M=I,j=function(t){if(!M(t))throw TypeError(t+" is not an object!");return t},D=function(t){try{return!!t()}catch(t){return!0}},V=!D((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),R=I,U=f.exports.document,N=R(U)&&R(U.createElement),L=function(t){return N?U.createElement(t):{}},F=!V&&!D((function(){return 7!=Object.defineProperty(L("div"),"a",{get:function(){return 7}}).a})),B=I,G=function(t,e){if(!B(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!B(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!B(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!B(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},H=j,z=F,W=G,q=Object.defineProperty;C.f=V?Object.defineProperty:function(t,e,n){if(H(t),e=W(e,!0),H(n),z)try{return q(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t};var Y=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},Q=C,X=Y,$=V?function(t,e,n){return Q.f(t,e,X(1,n))}:function(t,e,n){return t[e]=n,t},K={}.hasOwnProperty,Z=function(t,e){return K.call(t,e)},J=c.exports("native-function-to-string",Function.toString),tt=f.exports,et=$,nt=Z,rt=_("src"),it=J,ot="toString",st=(""+it).split(ot);l.exports.inspectSource=function(t){return it.call(t)},(x.exports=function(t,e,n,r){var i="function"==typeof n;i&&(nt(n,"name")||et(n,"name",e)),t[e]!==n&&(i&&(nt(n,rt)||et(n,rt,t[e]?""+t[e]:st.join(String(e)))),t===tt?t[e]=n:r?t[e]?t[e]=n:et(t,e,n):(delete t[e],et(t,e,n)))})(Function.prototype,ot,(function(){return"function"==typeof this&&this[rt]||it.call(this)}));var ut=O,at={};at[a.exports("toStringTag")]="z",at+""!="[object z]"&&x.exports(Object.prototype,"toString",(function(){return"[object "+ut(this)+"]"}),!0);var ct=j,lt=function(){var t=ct(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e};V&&"g"!=/./g.flags&&C.f(RegExp.prototype,"flags",{configurable:!0,get:lt});var ht=j,ft=lt,dt=V,pt="toString",vt=/./.toString,mt=function(t){x.exports(RegExp.prototype,pt,t,!0)};D((function(){return"/a/b"!=vt.call({source:"a",flags:"b"})}))?mt((function(){var t=ht(this);return"/".concat(t.source,"/","flags"in t?t.flags:!dt&&t instanceof RegExp?ft.call(t):void 0)})):vt.name!=pt&&mt((function(){return vt.call(this)}));var gt={exports:{}},yt=function(t){return null!=t},bt=yt,_t={object:!0,function:!0,undefined:!0},At=/^\s*class[\s{/}]/,wt=Function.prototype.toString,Et=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},St=Et,Pt=function(t,e,n){if(St(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},kt=f.exports,Tt=l.exports,Ot=$,xt=x.exports,Ct=Pt,It=function(t,e,n){var r,i,o,s,u=t&It.F,a=t&It.G,c=t&It.S,l=t&It.P,h=t&It.B,f=a?kt:c?kt[e]||(kt[e]={}):(kt[e]||{}).prototype,d=a?Tt:Tt[e]||(Tt[e]={}),p=d.prototype||(d.prototype={});for(r in a&&(n=e),n)o=((i=!u&&f&&void 0!==f[r])?f:n)[r],s=h&&i?Ct(o,kt):l&&"function"==typeof o?Ct(Function.call,o):o,f&&xt(f,r,o,t&It.U),d[r]!=o&&Ot(d,r,s),l&&p[r]!=o&&(p[r]=o)};kt.core=Tt,It.F=1,It.G=2,It.S=4,It.P=8,It.B=16,It.W=32,It.U=64,It.R=128;var Mt=It,jt=u,Dt=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==jt(t)?t.split(""):Object(t)},Vt=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},Rt=Dt,Ut=Vt,Nt=function(t){return Rt(Ut(t))},Lt=Math.ceil,Ft=Math.floor,Bt=function(t){return isNaN(t=+t)?0:(t>0?Ft:Lt)(t)},Gt=Bt,Ht=Math.min,zt=function(t){return t>0?Ht(Gt(t),9007199254740991):0},Wt=Bt,qt=Math.max,Yt=Math.min,Qt=function(t,e){return(t=Wt(t))<0?qt(t+e,0):Yt(t,e)},Xt=Nt,$t=zt,Kt=Qt,Zt=function(t){return function(e,n,r){var i,o=Xt(e),s=$t(o.length),u=Kt(r,s);if(t&&n!=n){for(;s>u;)if((i=o[u++])!=i)return!0}else for(;s>u;u++)if((t||u in o)&&o[u]===n)return t||u||0;return!t&&-1}},Jt=c.exports("keys"),te=_,ee=function(t){return Jt[t]||(Jt[t]=te(t))},ne=Z,re=Nt,ie=Zt(!1),oe=ee("IE_PROTO"),se=function(t,e){var n,r=re(t),i=0,o=[];for(n in r)n!=oe&&ne(r,n)&&o.push(n);for(;e.length>i;)ne(r,n=e[i++])&&(~ie(o,n)||o.push(n));return o},ue="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),ae=se,ce=ue,le=Object.keys||function(t){return ae(t,ce)},he={};he.f=Object.getOwnPropertySymbols;var fe={};fe.f={}.propertyIsEnumerable;var de=Vt,pe=function(t){return Object(de(t))},ve=V,me=le,ge=he,ye=fe,be=pe,_e=Dt,Ae=Object.assign,we=!Ae||D((function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=Ae({},t)[n]||Object.keys(Ae({},e)).join("")!=r}))?function(t,e){for(var n=be(t),r=arguments.length,i=1,o=ge.f,s=ye.f;r>i;)for(var u,a=_e(arguments[i++]),c=o?me(a).concat(o(a)):me(a),l=c.length,h=0;l>h;)u=c[h++],ve&&!s.call(a,u)||(n[u]=a[u]);return n}:Ae,Ee=Mt;Ee(Ee.S+Ee.F,"Object",{assign:we});var Se=Mt,Pe=l.exports,ke=D,Te=function(t,e){var n=(Pe.Object||{})[t]||Object[t],r={};r[t]=e(n),Se(Se.S+Se.F*ke((function(){n(1)})),"Object",r)},Oe=pe,xe=le;Te("keys",(function(){return function(t){return xe(Oe(t))}}));var Ce=function(t){return null!=t},Ie=Ce,Me=Object.keys,je=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}()?Object.keys:function(t){return Me(Ie(t)?Object(t):t)},De=Ce,Ve=je,Re=function(t){if(!De(t))throw new TypeError("Cannot use null or undefined");return t},Ue=Math.max,Ne=function(){var t,e=Object.assign;return"function"==typeof e&&(e(t={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}()?Object.assign:function(t,e){var n,r,i,o=Ue(arguments.length,2);for(t=Object(Re(t)),i=function(r){try{t[r]=e[r]}catch(t){n||(n=t)}},r=1;r<o;++r)Ve(e=arguments[r]).forEach(i);if(void 0!==n)throw n;return t},Le=Ce,Fe=Array.prototype.forEach,Be=Object.create,Ge=function(t,e){var n;for(n in t)e[n]=t[n]},He="razdwatrzy",ze=String.prototype.indexOf,We="function"==typeof He.contains&&!0===He.contains("dwa")&&!1===He.contains("foo")?String.prototype.contains:function(t){return ze.call(this,t,arguments[1])>-1},qe=yt,Ye=function(t){return!!function(t){if("function"!=typeof t)return!1;if(!hasOwnProperty.call(t,"length"))return!1;try{if("number"!=typeof t.length)return!1;if("function"!=typeof t.call)return!1;if("function"!=typeof t.apply)return!1}catch(t){return!1}return!function(t){if(!function(t){return!!bt(t)&&hasOwnProperty.call(_t,typeof t)}(t))return!1;try{return!!t.constructor&&t.constructor.prototype===t}catch(t){return!1}}(t)}(t)&&!At.test(wt.call(t))},Qe=Ne,Xe=function(t){var e=Be(null);return Fe.call(arguments,(function(t){Le(t)&&Ge(Object(t),e)})),e},$e=We;(gt.exports=function(t,e){var n,r,i,o,s;return arguments.length<2||"string"!=typeof t?(o=e,e=t,t=null):o=arguments[2],qe(t)?(n=$e.call(t,"c"),r=$e.call(t,"e"),i=$e.call(t,"w")):(n=i=!0,r=!1),s={value:e,configurable:n,enumerable:r,writable:i},o?Qe(Xe(o),s):s}).gs=function(t,e,n){var r,i,o,s;return"string"!=typeof t?(o=n,n=e,e=t,t=null):o=arguments[3],qe(e)?Ye(e)?qe(n)?Ye(n)||(o=n,n=void 0):n=void 0:(o=e,e=n=void 0):e=void 0,qe(t)?(r=$e.call(t,"c"),i=$e.call(t,"e")):(r=!0,i=!1),s={get:e,set:n,configurable:r,enumerable:i},o?Qe(Xe(o),s):s};var Ke=C.f,Ze=Function.prototype,Je=/^\s*function ([^ (]*)/,tn="name";tn in Ze||V&&Ke(Ze,tn,{configurable:!0,get:function(){try{return(""+this).match(Je)[1]}catch(t){return""}}});var en=function(t){if(!function(t){return!!t&&("symbol"==typeof t||!!t.constructor&&"Symbol"===t.constructor.name&&"Symbol"===t[t.constructor.toStringTag])}(t))throw new TypeError(t+" is not a symbol");return t},nn=gt.exports,rn=Object.create,on=Object.defineProperty,sn=Object.prototype,un=rn(null),an=Bt,cn=Vt,ln=function(t){return function(e,n){var r,i,o=String(cn(e)),s=an(n),u=o.length;return s<0||s>=u?t?"":void 0:(r=o.charCodeAt(s))<55296||r>56319||s+1===u||(i=o.charCodeAt(s+1))<56320||i>57343?t?o.charAt(s):r:t?o.slice(s,s+2):i-56320+(r-55296<<10)+65536}},hn=ln(!0),fn=function(t,e,n){return e+(n?hn(t,e).length:1)},dn=O,pn=RegExp.prototype.exec,vn=function(t,e){var n=t.exec;if("function"==typeof n){var r=n.call(t,e);if("object"!=typeof r)throw new TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==dn(t))throw new TypeError("RegExp#exec called on incompatible receiver");return pn.call(t,e)},mn=lt,gn=RegExp.prototype.exec,yn=String.prototype.replace,bn=gn,_n=function(){var t=/a/,e=/b*/g;return gn.call(t,"a"),gn.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),An=void 0!==/()??/.exec("")[1];(_n||An)&&(bn=function(t){var e,n,r,i,o=this;return An&&(n=new RegExp("^"+o.source+"$(?!\\s)",mn.call(o))),_n&&(e=o.lastIndex),r=gn.call(o,t),_n&&r&&(o.lastIndex=o.global?r.index+r[0].length:e),An&&r&&r.length>1&&yn.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r});var wn=bn;Mt({target:"RegExp",proto:!0,forced:wn!==/./.exec},{exec:wn});var En=x.exports,Sn=$,Pn=D,kn=Vt,Tn=a.exports,On=wn,xn=Tn("species"),Cn=!Pn((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),In=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}(),Mn=function(t,e,n){var r=Tn(t),i=!Pn((function(){var e={};return e[r]=function(){return 7},7!=""[t](e)})),o=i?!Pn((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[xn]=function(){return n}),n[r](""),!e})):void 0;if(!i||!o||"replace"===t&&!Cn||"split"===t&&!In){var s=/./[r],u=n(kn,r,""[t],(function(t,e,n,r,o){return e.exec===On?i&&!o?{done:!0,value:s.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}})),a=u[0],c=u[1];En(String.prototype,t,a),Sn(RegExp.prototype,r,2==e?function(t,e){return c.call(t,this,e)}:function(t){return c.call(t,this)})}},jn=j,Dn=zt,Vn=fn,Rn=vn;Mn("match",1,(function(t,e,n,r){return[function(n){var r=t(this),i=null==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=r(n,t,this);if(e.done)return e.value;var i=jn(t),o=String(this);if(!i.global)return Rn(i,o);var s=i.unicode;i.lastIndex=0;for(var u,a=[],c=0;null!==(u=Rn(i,o));){var l=String(u[0]);a[c]=l,""===l&&(i.lastIndex=Vn(o,Dn(i.lastIndex),s)),c++}return 0===c?null:a}]}));var Un=j,Nn=pe,Ln=zt,Fn=Bt,Bn=fn,Gn=vn,Hn=Math.max,zn=Math.min,Wn=Math.floor,qn=/\$([$&`']|\d\d?|<[^>]*>)/g,Yn=/\$([$&`']|\d\d?)/g;Mn("replace",2,(function(t,e,n,r){return[function(r,i){var o=t(this),s=null==r?void 0:r[e];return void 0!==s?s.call(r,o,i):n.call(String(o),r,i)},function(t,e){var o=r(n,t,this,e);if(o.done)return o.value;var s=Un(t),u=String(this),a="function"==typeof e;a||(e=String(e));var c=s.global;if(c){var l=s.unicode;s.lastIndex=0}for(var h=[];;){var f=Gn(s,u);if(null===f)break;if(h.push(f),!c)break;""===String(f[0])&&(s.lastIndex=Bn(u,Ln(s.lastIndex),l))}for(var d,p="",v=0,m=0;m<h.length;m++){f=h[m];for(var g=String(f[0]),y=Hn(zn(Fn(f.index),u.length),0),b=[],_=1;_<f.length;_++)b.push(void 0===(d=f[_])?d:String(d));var A=f.groups;if(a){var w=[g].concat(b,y,u);void 0!==A&&w.push(A);var E=String(e.apply(void 0,w))}else E=i(g,u,y,b,A,e);y>=v&&(p+=u.slice(v,y)+E,v=y+g.length)}return p+u.slice(v)}];function i(t,e,r,i,o,s){var u=r+t.length,a=i.length,c=Yn;return void 0!==o&&(o=Nn(o),c=qn),n.call(s,c,(function(n,s){var c;switch(s.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(u);case"<":c=o[s.slice(1,-1)];break;default:var l=+s;if(0===l)return n;if(l>a){var h=Wn(l/10);return 0===h?n:h<=a?void 0===i[h-1]?s.charAt(1):i[h-1]+s.charAt(1):n}c=i[l-1]}return void 0===c?"":c}))}}));var Qn=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e},Xn=j,$n=Qn,Kn=vn;Mn("search",1,(function(t,e,n,r){return[function(n){var r=t(this),i=null==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=r(n,t,this);if(e.done)return e.value;var i=Xn(t),o=String(this),s=i.lastIndex;$n(s,0)||(i.lastIndex=0);var u=Kn(i,o);return $n(i.lastIndex,s)||(i.lastIndex=s),null===u?-1:u.index}]}));var Zn=I,Jn=u,tr=a.exports("match"),er=function(t){var e;return Zn(t)&&(void 0!==(e=t[tr])?!!e:"RegExp"==Jn(t))},nr=j,rr=Et,ir=a.exports("species"),or=function(t,e){var n,r=nr(t).constructor;return void 0===r||null==(n=nr(r)[ir])?e:rr(n)},sr=er,ur=j,ar=or,cr=fn,lr=zt,hr=vn,fr=wn,dr=D,pr=Math.min,vr=[].push,mr=4294967295,gr=!dr((function(){RegExp(mr,"y")}));Mn("split",2,(function(t,e,n,r){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,e){var r=String(this);if(void 0===t&&0===e)return[];if(!sr(t))return n.call(r,t,e);for(var i,o,s,u=[],a=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),c=0,l=void 0===e?mr:e>>>0,h=new RegExp(t.source,a+"g");(i=fr.call(h,r))&&!((o=h.lastIndex)>c&&(u.push(r.slice(c,i.index)),i.length>1&&i.index<r.length&&vr.apply(u,i.slice(1)),s=i[0].length,c=o,u.length>=l));)h.lastIndex===i.index&&h.lastIndex++;return c===r.length?!s&&h.test("")||u.push(""):u.push(r.slice(c)),u.length>l?u.slice(0,l):u}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,r){var o=t(this),s=null==n?void 0:n[e];return void 0!==s?s.call(n,o,r):i.call(String(o),n,r)},function(t,e){var o=r(i,t,this,e,i!==n);if(o.done)return o.value;var s=ur(t),u=String(this),a=ar(s,RegExp),c=s.unicode,l=(s.ignoreCase?"i":"")+(s.multiline?"m":"")+(s.unicode?"u":"")+(gr?"y":"g"),h=new a(gr?s:"^(?:"+s.source+")",l),f=void 0===e?mr:e>>>0;if(0===f)return[];if(0===u.length)return null===hr(h,u)?[u]:[];for(var d=0,p=0,v=[];p<u.length;){h.lastIndex=gr?p:0;var m,g=hr(h,gr?u:u.slice(p));if(null===g||(m=pr(lr(h.lastIndex+(gr?0:p)),u.length))===d)p=cr(u,p,c);else{if(v.push(u.slice(d,p)),v.length===f)return v;for(var y=1;y<=g.length-1;y++)if(v.push(g[y]),v.length===f)return v;p=d=m}}return v.push(u.slice(d)),v}]}));var yr,br,_r,Ar=gt.exports,wr=r.Symbol,Er=gt.exports,Sr=en,Pr=Object.create(null),kr=gt.exports,Tr=en,Or=r.Symbol,xr=function(t){for(var e,n,r=0;un[t+(r||"")];)++r;return un[t+=r||""]=!0,on(sn,e="@@"+t,nn.gs(null,(function(t){n||(n=!0,on(this,e,nn(t)),n=!1)}))),e},Cr=Object.create,Ir=Object.defineProperties,Mr=Object.defineProperty;if("function"==typeof Or)try{String(Or()),_r=!0}catch(t){}else Or=null;br=function(t){if(this instanceof br)throw new TypeError("Symbol is not a constructor");return yr(t)};var jr=yr=function t(e){var n;if(this instanceof t)throw new TypeError("Symbol is not a constructor");return _r?Or(e):(n=Cr(br.prototype),e=void 0===e?"":String(e),Ir(n,{__description__:kr("",e),__name__:kr("",xr(e))}))};function Dr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vr(t,e,n){return e&&Dr(t.prototype,e),n&&Dr(t,n),t}function Rr(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Ur(t,e)}function Ur(t,e){return(Ur=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Nr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(function(t){Object.defineProperties(t,{hasInstance:Ar("",wr&&wr.hasInstance||t("hasInstance")),isConcatSpreadable:Ar("",wr&&wr.isConcatSpreadable||t("isConcatSpreadable")),iterator:Ar("",wr&&wr.iterator||t("iterator")),match:Ar("",wr&&wr.match||t("match")),replace:Ar("",wr&&wr.replace||t("replace")),search:Ar("",wr&&wr.search||t("search")),species:Ar("",wr&&wr.species||t("species")),split:Ar("",wr&&wr.split||t("split")),toPrimitive:Ar("",wr&&wr.toPrimitive||t("toPrimitive")),toStringTag:Ar("",wr&&wr.toStringTag||t("toStringTag")),unscopables:Ar("",wr&&wr.unscopables||t("unscopables"))})})(yr),function(t){Object.defineProperties(t,{for:Er((function(e){return Pr[e]?Pr[e]:Pr[e]=t(String(e))})),keyFor:Er((function(t){var e;for(e in Sr(t),Pr)if(Pr[e]===t)return e}))})}(yr),Ir(br.prototype,{constructor:kr(yr),toString:kr("",(function(){return this.__name__}))}),Ir(yr.prototype,{toString:kr((function(){return"Symbol ("+Tr(this).__description__+")"})),valueOf:kr((function(){return Tr(this)}))}),Mr(yr.prototype,yr.toPrimitive,kr("",(function(){var t=Tr(this);return"symbol"==typeof t?t:t.toString()}))),Mr(yr.prototype,yr.toStringTag,kr("c","Symbol")),Mr(br.prototype,yr.toStringTag,kr("c",yr.prototype[yr.toStringTag])),Mr(br.prototype,yr.toPrimitive,kr("c",yr.prototype[yr.toPrimitive])),function(){var t,e=i.Symbol;if("function"!=typeof e)return!1;t=e("test symbol");try{String(t)}catch(t){return!1}return!!o[typeof e.iterator]&&!!o[typeof e.toPrimitive]&&!!o[typeof e.toStringTag]}()||Object.defineProperty(r,"Symbol",{value:jr,configurable:!0,enumerable:!1,writable:!0});var Lr=f.exports.document,Fr=Lr&&Lr.documentElement,Br=Mt,Gr=Fr,Hr=u,zr=Qt,Wr=zt,qr=[].slice;Br(Br.P+Br.F*D((function(){Gr&&qr.call(Gr)})),"Array",{slice:function(t,e){var n=Wr(this.length),r=Hr(this);if(e=void 0===e?n:e,"Array"==r)return qr.call(this,t,e);for(var i=zr(t,n),o=zr(e,n),s=Wr(o-i),u=new Array(s),a=0;a<s;a++)u[a]="String"==r?this.charAt(i+a):this[i+a];return u}});var Yr=u,Qr=Array.isArray||function(t){return"Array"==Yr(t)},Xr=I,$r=Qr,Kr=a.exports("species"),Zr=Pt,Jr=Dt,ti=pe,ei=zt,ni=function(t,e){return new(function(t){var e;return $r(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!$r(e.prototype)||(e=void 0),Xr(e)&&null===(e=e[Kr])&&(e=void 0)),void 0===e?Array:e}(t))(e)},ri=function(t,e){var n=1==t,r=2==t,i=3==t,o=4==t,s=6==t,u=5==t||s,a=e||ni;return function(e,c,l){for(var h,f,d=ti(e),p=Jr(d),v=Zr(c,l,3),m=ei(p.length),g=0,y=n?a(e,m):r?a(e,0):void 0;m>g;g++)if((u||g in p)&&(f=v(h=p[g],g,d),t))if(n)y[g]=f;else if(f)switch(t){case 3:return!0;case 5:return h;case 6:return g;case 2:y.push(h)}else if(o)return!1;return s?-1:i||o?o:y}},ii={exports:{}},oi=_("meta"),si=I,ui=Z,ai=C.f,ci=0,li=Object.isExtensible||function(){return!0},hi=!D((function(){return li(Object.preventExtensions({}))})),fi=function(t){ai(t,oi,{value:{i:"O"+ ++ci,w:{}}})},di=ii.exports={KEY:oi,NEED:!1,fastKey:function(t,e){if(!si(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!ui(t,oi)){if(!li(t))return"F";if(!e)return"E";fi(t)}return t[oi].i},getWeak:function(t,e){if(!ui(t,oi)){if(!li(t))return!0;if(!e)return!1;fi(t)}return t[oi].w},onFreeze:function(t){return hi&&di.NEED&&li(t)&&!ui(t,oi)&&fi(t),t}},pi=x.exports,vi=function(t,e,n){for(var r in e)pi(t,r,e[r],n);return t},mi=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t},gi={exports:{}},yi=j,bi=function(t,e,n,r){try{return r?e(yi(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&yi(i.call(t)),e}},_i={},Ai=_i,wi=a.exports("iterator"),Ei=Array.prototype,Si=function(t){return void 0!==t&&(Ai.Array===t||Ei[wi]===t)},Pi=O,ki=a.exports("iterator"),Ti=_i,Oi=l.exports.getIteratorMethod=function(t){if(null!=t)return t[ki]||t["@@iterator"]||Ti[Pi(t)]},xi=Pt,Ci=bi,Ii=Si,Mi=j,ji=zt,Di=Oi,Vi={},Ri={},Ui=gi.exports=function(t,e,n,r,i){var o,s,u,a,c=i?function(){return t}:Di(t),l=xi(n,r,e?2:1),h=0;if("function"!=typeof c)throw TypeError(t+" is not iterable!");if(Ii(c)){for(o=ji(t.length);o>h;h++)if((a=e?l(Mi(s=t[h])[0],s[1]):l(t[h]))===Vi||a===Ri)return a}else for(u=c.call(t);!(s=u.next()).done;)if((a=Ci(u,l,s.value,e))===Vi||a===Ri)return a};Ui.BREAK=Vi,Ui.RETURN=Ri;var Ni=I,Li=function(t,e){if(!Ni(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t},Fi=vi,Bi=ii.exports.getWeak,Gi=j,Hi=I,zi=mi,Wi=gi.exports,qi=ri,Yi=Z,Qi=Li,Xi=qi(5),$i=qi(6),Ki=0,Zi=function(t){return t._l||(t._l=new Ji)},Ji=function(){this.a=[]},to=function(t,e){return Xi(t.a,(function(t){return t[0]===e}))};Ji.prototype={get:function(t){var e=to(this,t);if(e)return e[1]},has:function(t){return!!to(this,t)},set:function(t,e){var n=to(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=$i(this.a,(function(e){return e[0]===t}));return~e&&this.a.splice(e,1),!!~e}};var eo={getConstructor:function(t,e,n,r){var i=t((function(t,o){zi(t,i,e,"_i"),t._t=e,t._i=Ki++,t._l=void 0,null!=o&&Wi(o,n,t[r],t)}));return Fi(i.prototype,{delete:function(t){if(!Hi(t))return!1;var n=Bi(t);return!0===n?Zi(Qi(this,e)).delete(t):n&&Yi(n,this._i)&&delete n[this._i]},has:function(t){if(!Hi(t))return!1;var n=Bi(t);return!0===n?Zi(Qi(this,e)).has(t):n&&Yi(n,this._i)}}),i},def:function(t,e,n){var r=Bi(Gi(e),!0);return!0===r?Zi(t).set(e,n):r[t._i]=n,t},ufstore:Zi},no=a.exports("iterator"),ro=!1;try{var io=[7][no]();io.return=function(){ro=!0},Array.from(io,(function(){throw 2}))}catch(t){}var oo=function(t,e){if(!e&&!ro)return!1;var n=!1;try{var r=[7],i=r[no]();i.next=function(){return{done:n=!0}},r[no]=function(){return i},t(r)}catch(t){}return n},so=C.f,uo=Z,ao=a.exports("toStringTag"),co=function(t,e,n){t&&!uo(t=n?t:t.prototype,ao)&&so(t,ao,{configurable:!0,value:e})},lo={},ho=fe,fo=Y,po=Nt,vo=G,mo=Z,go=F,yo=Object.getOwnPropertyDescriptor;lo.f=V?yo:function(t,e){if(t=po(t),e=vo(e,!0),go)try{return yo(t,e)}catch(t){}if(mo(t,e))return fo(!ho.f.call(t,e),t[e])};var bo,_o=I,Ao=j,wo=function(t,e){if(Ao(t),!_o(e)&&null!==e)throw TypeError(e+": can't set as prototype!")},Eo={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{(n=Pt(Function.call,lo.f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,r){return wo(t,r),e?t.__proto__=r:n(t,r),t}}({},!1):void 0),check:wo},So=I,Po=Eo.set,ko=function(t,e,n){var r,i=e.constructor;return i!==n&&"function"==typeof i&&(r=i.prototype)!==n.prototype&&So(r)&&Po&&Po(t,r),t},To=f.exports,Oo=Mt,xo=x.exports,Co=vi,Io=ii.exports,Mo=gi.exports,jo=mi,Do=I,Vo=D,Ro=oo,Uo=co,No=ko,Lo=f.exports,Fo=ri(0),Bo=x.exports,Go=ii.exports,Ho=we,zo=eo,Wo=I,qo=Li,Yo=Li,Qo=!Lo.ActiveXObject&&"ActiveXObject"in Lo,Xo="WeakMap",$o=Go.getWeak,Ko=Object.isExtensible,Zo=zo.ufstore,Jo=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},ts={get:function(t){if(Wo(t)){var e=$o(t);return!0===e?Zo(qo(this,Xo)).get(t):e?e[this._i]:void 0}},set:function(t,e){return zo.def(qo(this,Xo),t,e)}},es=function(t,e,n,r,i,o){var s=To[t],u=s,a=u&&u.prototype,c={},l=function(t){var e=a[t];xo(a,t,"delete"==t||"has"==t?function(t){return!!Do(t)&&e.call(this,0===t?0:t)}:"get"==t?function(t){return Do(t)?e.call(this,0===t?0:t):void 0}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof u){var h=new u,f=h.set({},1)!=h,d=Vo((function(){h.has(1)}));Ro((function(t){new u(t)}))||((u=e((function(e,n){jo(e,u,t);var r=No(new s,e,u);return null!=n&&Mo(n,true,r.set,r),r}))).prototype=a,a.constructor=u),!!d&&(l("delete"),l("has"),l("get")),f&&l("set"),a.clear&&delete a.clear}else u=r.getConstructor(e,t,true,"set"),Co(u.prototype,n),Io.NEED=!0;return Uo(u,t),c[t]=u,Oo(Oo.G+Oo.W+Oo.F*(u!=s),c),u}(Xo,Jo,ts,zo);Yo&&Qo&&(Ho((bo=zo.getConstructor(Jo,Xo)).prototype,ts),Go.NEED=!0,Fo(["delete","has","get","set"],(function(t){var e=es.prototype,n=e[t];Bo(e,t,(function(e,r){if(Wo(e)&&!Ko(e)){this._f||(this._f=new bo);var i=this._f[t](e,r);return"set"==t?this:i}return n.call(this,e,r)}))})));var ns=C,rs=j,is=le,os=V?Object.defineProperties:function(t,e){rs(t);for(var n,r=is(e),i=r.length,o=0;i>o;)ns.f(t,n=r[o++],e[n]);return t},ss=j,us=os,as=ue,cs=ee("IE_PROTO"),ls=function(){},hs=function(){var t,e=L("iframe"),n=as.length;for(e.style.display="none",Fr.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),hs=t.F;n--;)delete hs.prototype[as[n]];return hs()},fs=Object.create||function(t,e){var n;return null!==t?(ls.prototype=ss(t),n=new ls,ls.prototype=null,n[cs]=t):n=hs(),void 0===e?n:us(n,e)},ds=Y,ps=co,vs={};$(vs,a.exports("iterator"),(function(){return this}));var ms=Z,gs=pe,ys=ee("IE_PROTO"),bs=Object.prototype,_s=Object.getPrototypeOf||function(t){return t=gs(t),ms(t,ys)?t[ys]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?bs:null},As=Mt,ws=x.exports,Es=$,Ss=_i,Ps=function(t,e,n){t.prototype=fs(vs,{next:ds(1,n)}),ps(t,e+" Iterator")},ks=co,Ts=_s,Os=a.exports("iterator"),xs=!([].keys&&"next"in[].keys()),Cs="keys",Is="values",Ms=function(){return this},js=function(t,e,n,r,i,o,s){Ps(n,e,r);var u,a,c,l=function(t){if(!xs&&t in p)return p[t];switch(t){case Cs:case Is:return function(){return new n(this,t)}}return function(){return new n(this,t)}},h=e+" Iterator",f=i==Is,d=!1,p=t.prototype,v=p[Os]||p["@@iterator"]||i&&p[i],m=v||l(i),g=i?f?l("entries"):m:void 0,y="Array"==e&&p.entries||v;if(y&&(c=Ts(y.call(new t)))!==Object.prototype&&c.next&&(ks(c,h,!0),"function"!=typeof c[Os]&&Es(c,Os,Ms)),f&&v&&v.name!==Is&&(d=!0,m=function(){return v.call(this)}),(xs||d||!p[Os])&&Es(p,Os,m),Ss[e]=m,Ss[h]=Ms,i)if(u={values:f?m:l(Is),keys:o?m:l(Cs),entries:g},s)for(a in u)a in p||ws(p,a,u[a]);else As(As.P+As.F*(xs||d),e,u);return u},Ds=ln(!0);js(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=Ds(e,n),this._i+=t.length,{value:t,done:!1})}));var Vs=a.exports("unscopables"),Rs=Array.prototype;null==Rs[Vs]&&$(Rs,Vs,{});var Us=function(t){Rs[Vs][t]=!0},Ns=Us,Ls=function(t,e){return{value:e,done:!!t}},Fs=_i,Bs=Nt,Gs=js(Array,"Array",(function(t,e){this._t=Bs(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,Ls(1)):Ls(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values");Fs.Arguments=Fs.Array,Ns("keys"),Ns("values"),Ns("entries");for(var Hs=Gs,zs=le,Ws=x.exports,qs=f.exports,Ys=$,Qs=_i,Xs=a.exports,$s=Xs("iterator"),Ks=Xs("toStringTag"),Zs=Qs.Array,Js={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},tu=zs(Js),eu=0;eu<tu.length;eu++){var nu,ru=tu[eu],iu=Js[ru],ou=qs[ru],su=ou&&ou.prototype;if(su&&(su[$s]||Ys(su,$s,Zs),su[Ks]||Ys(su,Ks,ru),Qs[ru]=Zs,iu))for(nu in Hs)su[nu]||Ws(su,nu,Hs[nu],!0)}var uu="undefined"!=typeof process?[process.env.LOG_LEVEL,process.env.NODE_ENV]:[],au=uu[0],cu=uu[1],lu=function(){function t(t,e){this._scope=t,this.level=e,this._init()}var e=t.prototype;return e.isAllowed=function(e){return t.LEVELS.indexOf(e)>=this._levelIndex},e.formatArgs=function(t){var e=Date.now(),n=e-this._startTime,r=e-this._prevTime;return this._prevTime=e,(t=t.slice()).unshift("("+n+", +"+r+")"),null!=this._scope&&t.unshift(this._scope+":"),t.join(" ")},e._init=function(){var e=this;this._startTime="undefined"!=typeof window&&null!=window.performance&&null!=window.performance.timing?window.performance.timing.navigationStart:Date.now(),this._prevTime=this._startTime;for(var n=function(n){var r=t.LEVELS[n];Object.defineProperty(e,r,{value:function(){if(n>=e._levelIndex){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];console[r](e.formatArgs(i))}}})},r=0;r<t.LEVELS.length;++r)n(r)},Vr(t,[{key:"scope",get:function(){return this._scope}},{key:"level",get:function(){return this._level},set:function(e){this._level=e,this._levelIndex=t.LEVELS.indexOf(this._level)}}]),t}();Object.defineProperty(lu,"LEVELS",{value:["debug","log","info","warn","error"]});var hu=new WeakMap,fu=0,du=function(t){return"string"!=typeof t||0===t.length},pu=D,vu=function(t,e){return!!t&&pu((function(){e?t.call(null,(function(){}),1):t.call(null)}))},mu=Mt,gu=ri(1);mu(mu.P+mu.F*!vu([].map,!0),"Array",{map:function(t){return gu(this,t,arguments[1])}});var yu,bu=-2,_u={AdLoaded:"AdLoaded",AdStarted:"AdStarted",AdStopped:"AdStopped",AdSkipped:"AdSkipped",AdSkippableStateChange:"AdSkippableStateChange",AdSizeChange:"AdSizeChange",AdLinearChange:"AdLinearChange",AdDurationChange:"AdDurationChange",AdExpandedChange:"AdExpandedChange",AdRemainingTimeChange:"AdRemainingTimeChange",AdVolumeChange:"AdVolumeChange",AdImpression:"AdImpression",AdVideoStart:"AdVideoStart",AdVideoFirstQuartile:"AdVideoFirstQuartile",AdVideoMidpoint:"AdVideoMidpoint",AdVideoThirdQuartile:"AdVideoThirdQuartile",AdVideoComplete:"AdVideoComplete",AdClickThru:"AdClickThru",AdInteraction:"AdInteraction",AdUserAcceptInvitation:"AdUserAcceptInvitation",AdUserMinimize:"AdUserMinimize",AdUserClose:"AdUserClose",AdPaused:"AdPaused",AdPlaying:"AdPlaying",AdLog:"AdLog",AdError:"AdError",AdMutedUnmutedPlayback:"AdMutedUnmutedPlayback"},Au=[_u.AdLoaded,_u.AdStarted,_u.AdStopped,_u.AdSkipped,_u.AdImpression,_u.AdVideoStart,_u.AdVideoFirstQuartile,_u.AdVideoMidpoint,_u.AdVideoThirdQuartile,_u.AdVideoComplete,_u.AdError],wu={initAd:"initAd",resizeAd:"resizeAd",startAd:"startAd",stopAd:"stopAd",pauseAd:"pauseAd",resumeAd:"resumeAd",expandAd:"expandAd",collapseAd:"collapseAd",skipAd:"skipAd"},Eu=[wu.initAd,wu.startAd,wu.stopAd,wu.skipAd];(yu={})[wu.initAd]=[_u.AdLoaded],yu[wu.resizeAd]=[_u.AdSizeChange],yu[wu.startAd]=[_u.AdStarted],yu[wu.stopAd]=[_u.AdStopped],yu[wu.pauseAd]=[_u.AdPaused],yu[wu.resumeAd]=[_u.AdPlaying],yu[wu.expandAd]=[_u.AdExpandedChange],yu[wu.collapseAd]=[_u.AdExpandedChange],yu[wu.skipAd]=[_u.AdSkipped,_u.AdStopped];var Su,Pu={adLinear:{defaultValue:!0},adWidth:{defaultValue:bu},adHeight:{defaultValue:bu},adExpanded:{defaultValue:!1},adSkippableState:{defaultValue:!1},adRemainingTime:{defaultValue:bu},adDuration:{defaultValue:bu},adVolume:{writable:!0,defaultValue:bu},adCompanions:{defaultValue:""},adIcons:{defaultValue:!1}},ku=[_u.AdVideoStart,_u.AdVideoFirstQuartile,_u.AdVideoMidpoint,_u.AdVideoThirdQuartile,_u.AdVideoComplete],Tu=[_u.AdStopped,_u.AdError];(Su={})[_u.AdSkipped]=["skip"],Su[_u.AdStarted]=["creativeView"],Su[_u.AdImpression]=["impression"],Su[_u.AdVideoStart]=["start"],Su[_u.AdVideoFirstQuartile]=["firstQuartile"],Su[_u.AdVideoMidpoint]=["midpoint"],Su[_u.AdVideoThirdQuartile]=["thirdQuartile"],Su[_u.AdVideoComplete]=["complete"],Su[_u.AdUserAcceptInvitation]=["acceptInvitation"],Su[_u.AdUserMinimize]=["collapse","playerCollapse"],Su[_u.AdUserClose]=["close","closeLinear"],Su[_u.AdPaused]=["pause"],Su[_u.AdPlaying]=["resume"],Su[_u.AdExpandedChange]=["expand","playerExpand"],Su[_u.AdError]=["error"],Su[_u.AdClickThru]=["click"];var Ou=function(t){return null!=t&&"function"==typeof t.then};Object.keys(_u).map((function(t){return _u[t]}));var xu,Cu=Mt,Iu=D,Mu=Vt,ju=/"/g;(xu={}).blink=function(){return function(t,e,n,r){var i=String(Mu(t)),o="<"+e;return""!==n&&(o+=" "+n+'="'+String(r).replace(ju,"&quot;")+'"'),o+">"+i+"</"+e+">"}(this,"blink","","")},Cu(Cu.P+Cu.F*Iu((function(){var t="".blink('"');return t!==t.toLowerCase()||t.split('"').length>3})),"String",xu);var Du,Vu,Ru,Uu={exports:{}};Vu=t,Ru=function(){var t=!0;function e(e){function n(t){var n=e.match(t);return n&&n.length>1&&n[1]||""}function r(t){var n=e.match(t);return n&&n.length>1&&n[2]||""}var i=n(/(ipod|iphone|ipad)/i).toLowerCase(),s=!/like android/i.test(e)&&/android/i.test(e),u=/nexus\s*[0-6]\s*/i.test(e),a=!u&&/nexus\s*[0-9]+/i.test(e),c=/CrOS/.test(e),l=/silk/i.test(e),h=/sailfish/i.test(e),f=/tizen/i.test(e),d=/(web|hpw)(o|0)s/i.test(e),p=/windows phone/i.test(e);/SamsungBrowser/i.test(e);var v,m=!p&&/windows/i.test(e),g=!i&&!l&&/macintosh/i.test(e),y=!s&&!h&&!f&&!d&&/linux/i.test(e),b=r(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),_=n(/version\/(\d+(\.\d+)?)/i),A=/tablet/i.test(e)&&!/tablet pc/i.test(e),w=!A&&/[^-]mobi/i.test(e),E=/xbox/i.test(e);/opera/i.test(e)?v={name:"Opera",opera:t,version:_||n(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(e)?v={name:"Opera",opera:t,version:n(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||_}:/SamsungBrowser/i.test(e)?v={name:"Samsung Internet for Android",samsungBrowser:t,version:_||n(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/Whale/i.test(e)?v={name:"NAVER Whale browser",whale:t,version:n(/(?:whale)[\s\/](\d+(?:\.\d+)+)/i)}:/MZBrowser/i.test(e)?v={name:"MZ Browser",mzbrowser:t,version:n(/(?:MZBrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/coast/i.test(e)?v={name:"Opera Coast",coast:t,version:_||n(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/focus/i.test(e)?v={name:"Focus",focus:t,version:n(/(?:focus)[\s\/](\d+(?:\.\d+)+)/i)}:/yabrowser/i.test(e)?v={name:"Yandex Browser",yandexbrowser:t,version:_||n(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(e)?v={name:"UC Browser",ucbrowser:t,version:n(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(e)?v={name:"Maxthon",maxthon:t,version:n(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(e)?v={name:"Epiphany",epiphany:t,version:n(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(e)?v={name:"Puffin",puffin:t,version:n(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(e)?v={name:"Sleipnir",sleipnir:t,version:n(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(e)?v={name:"K-Meleon",kMeleon:t,version:n(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:p?(v={name:"Windows Phone",osname:"Windows Phone",windowsphone:t},b?(v.msedge=t,v.version=b):(v.msie=t,v.version=n(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(e)?v={name:"Internet Explorer",msie:t,version:n(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:c?v={name:"Chrome",osname:"Chrome OS",chromeos:t,chromeBook:t,chrome:t,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(e)?v={name:"Microsoft Edge",msedge:t,version:b}:/vivaldi/i.test(e)?v={name:"Vivaldi",vivaldi:t,version:n(/vivaldi\/(\d+(\.\d+)?)/i)||_}:h?v={name:"Sailfish",osname:"Sailfish OS",sailfish:t,version:n(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(e)?v={name:"SeaMonkey",seamonkey:t,version:n(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(e)?(v={name:"Firefox",firefox:t,version:n(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(e)&&(v.firefoxos=t,v.osname="Firefox OS")):l?v={name:"Amazon Silk",silk:t,version:n(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(e)?v={name:"PhantomJS",phantom:t,version:n(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(e)?v={name:"SlimerJS",slimer:t,version:n(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(e)||/rim\stablet/i.test(e)?v={name:"BlackBerry",osname:"BlackBerry OS",blackberry:t,version:_||n(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:d?(v={name:"WebOS",osname:"WebOS",webos:t,version:_||n(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(e)&&(v.touchpad=t)):/bada/i.test(e)?v={name:"Bada",osname:"Bada",bada:t,version:n(/dolfin\/(\d+(\.\d+)?)/i)}:f?v={name:"Tizen",osname:"Tizen",tizen:t,version:n(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||_}:/qupzilla/i.test(e)?v={name:"QupZilla",qupzilla:t,version:n(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||_}:/chromium/i.test(e)?v={name:"Chromium",chromium:t,version:n(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||_}:/chrome|crios|crmo/i.test(e)?v={name:"Chrome",chrome:t,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:s?v={name:"Android",version:_}:/safari|applewebkit/i.test(e)?(v={name:"Safari",safari:t},_&&(v.version=_)):i?(v={name:"iphone"==i?"iPhone":"ipad"==i?"iPad":"iPod"},_&&(v.version=_)):v=/googlebot/i.test(e)?{name:"Googlebot",googlebot:t,version:n(/googlebot\/(\d+(\.\d+))/i)||_}:{name:n(/^(.*)\/(.*) /),version:r(/^(.*)\/(.*) /)},!v.msedge&&/(apple)?webkit/i.test(e)?(/(apple)?webkit\/537\.36/i.test(e)?(v.name=v.name||"Blink",v.blink=t):(v.name=v.name||"Webkit",v.webkit=t),!v.version&&_&&(v.version=_)):!v.opera&&/gecko\//i.test(e)&&(v.name=v.name||"Gecko",v.gecko=t,v.version=v.version||n(/gecko\/(\d+(\.\d+)?)/i)),v.windowsphone||!s&&!v.silk?!v.windowsphone&&i?(v[i]=t,v.ios=t,v.osname="iOS"):g?(v.mac=t,v.osname="macOS"):E?(v.xbox=t,v.osname="Xbox"):m?(v.windows=t,v.osname="Windows"):y&&(v.linux=t,v.osname="Linux"):(v.android=t,v.osname="Android");var S="";v.windows?S=function(t){switch(t){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}(n(/Windows ((NT|XP)( \d\d?.\d)?)/i)):v.windowsphone?S=n(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):v.mac?S=(S=n(/Mac OS X (\d+([_\.\s]\d+)*)/i)).replace(/[_\s]/g,"."):i?S=(S=n(/os (\d+([_\s]\d+)*) like mac os x/i)).replace(/[_\s]/g,"."):s?S=n(/android[ \/-](\d+(\.\d+)*)/i):v.webos?S=n(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):v.blackberry?S=n(/rim\stablet\sos\s(\d+(\.\d+)*)/i):v.bada?S=n(/bada\/(\d+(\.\d+)*)/i):v.tizen&&(S=n(/tizen[\/\s](\d+(\.\d+)*)/i)),S&&(v.osversion=S);var P=!v.windows&&S.split(".")[0];return A||a||"ipad"==i||s&&(3==P||P>=4&&!w)||v.silk?v.tablet=t:(w||"iphone"==i||"ipod"==i||s||u||v.blackberry||v.webos||v.bada)&&(v.mobile=t),v.msedge||v.msie&&v.version>=10||v.yandexbrowser&&v.version>=15||v.vivaldi&&v.version>=1||v.chrome&&v.version>=20||v.samsungBrowser&&v.version>=4||v.whale&&1===o([v.version,"1.0"])||v.mzbrowser&&1===o([v.version,"6.0"])||v.focus&&1===o([v.version,"1.0"])||v.firefox&&v.version>=20||v.safari&&v.version>=6||v.opera&&v.version>=10||v.ios&&v.osversion&&v.osversion.split(".")[0]>=6||v.blackberry&&v.version>=10.1||v.chromium&&v.version>=20?v.a=t:v.msie&&v.version<10||v.chrome&&v.version<20||v.firefox&&v.version<20||v.safari&&v.version<6||v.opera&&v.version<10||v.ios&&v.osversion&&v.osversion.split(".")[0]<6||v.chromium&&v.version<20?v.c=t:v.x=t,v}var n=e("undefined"!=typeof navigator&&navigator.userAgent||"");function r(t){return t.split(".").length}function i(t,e){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(t,e);for(n=0;n<t.length;n++)r.push(e(t[n]));return r}function o(t){for(var e=Math.max(r(t[0]),r(t[1])),n=i(t,(function(t){var n=e-r(t);return i((t+=new Array(n+1).join(".0")).split("."),(function(t){return new Array(20-t.length).join("0")+t})).reverse()}));--e>=0;){if(n[0][e]>n[1][e])return 1;if(n[0][e]!==n[1][e])return-1;if(0===e)return 0}}function s(t,r,i){var s=n;"string"==typeof r&&(i=r,r=void 0),void 0===r&&(r=!1),i&&(s=e(i));var u=""+s.version;for(var a in t)if(t.hasOwnProperty(a)&&s[a]){if("string"!=typeof t[a])throw new Error("Browser version in the minVersion map should be a string: "+a+": "+String(t));return o([u,t[a]])<0}return r}return n.test=function(t){for(var e=0;e<t.length;++e){var r=t[e];if("string"==typeof r&&r in n)return!0}return!1},n.isUnsupportedBrowser=s,n.compareVersions=o,n.check=function(t,e,n){return!s(t,e,n)},n._detect=e,n.detect=e,n},(Du=Uu).exports?Du.exports=Ru():Vu.bowser=Ru();var Nu,Lu=Uu.exports,Fu=["dns-prefetch","preconnect","prefetch","preload"],Bu={},Gu=Fu.reverse();(Nu=document.createElement("link")).relList&&Nu.relList.supports?Fu.forEach((function(t){Bu[t]=Nu.relList.supports(t)})):Object.assign(Bu,{"dns-prefetch":Lu.check({msie:"10",msedge:"12"},!0),prefetch:Lu.check({msie:"11",msedge:"12"},!0),preload:Lu.check({msedge:"17"},!0)});var Hu,zu,Wu,qu=function(t){return!!Bu[t]},Yu=function(t,e,n){if(void 0===e&&(e=document),void 0===n&&(n=null),null!=t&&null!=t.href&&null!=t.rel&&(t.rel=function(t,e){if(void 0===e&&(e=null),null==e){var n=Gu.indexOf(t);n>=0&&(e=Gu.slice(n+1))}if(null!=e)for(var r=0;r<e.length&&!qu(t);)t=e[r++];return qu(t)?t:null}(t.rel,n),null!=t.rel)){var r,i;"dns-prefetch"===t.rel||"preconnect"===t.rel?(t.href=function(t){var e=t.indexOf("//");if(e<0)return null;var n=t.indexOf("/",e+2);return n<0?t:t.substr(0,n)}(t.href),delete t.as,delete t.type):"prefetch"!==t.rel&&"preload"!==t.rel||(t.href=(i=(r=t.href).indexOf("#"))<0?r:r.substr(0,i));var o=e.createElement("link");Object.assign(o,t),e.head.appendChild(o)}},Qu=function(){return""+(1e9+Math.floor(9e9*Math.random()))},Xu=Symbol("name"),$u=Symbol("view"),Ku=function(){function t(t,e){var n,r;switch(void 0===e&&(e=null),typeof t){case"object":n=t.name,r=t.callback;break;case"string":n=t;break;case"function":r=t}null==n&&(n="cb_"+(new Date).getTime().toString(36)+parseInt(Qu()).toString(16).substring(1)),this[Xu]=n,null!=e&&null!=e.defaultView&&(e=e.defaultView),this[$u]=null!=e?e:window,null!=r&&(this.callback=r)}var e=t.prototype;return e.remove=function(){this.exists&&delete this[$u][this.name]},e.invoke=function(){this.exists&&this.callback.apply(this,arguments)},Vr(t,[{key:"name",get:function(){return this[Xu]}},{key:"exists",get:function(){return null!=this.callback}},{key:"callback",get:function(){return null!=this[$u]&&"function"==typeof this[$u][this.name]?this[$u][this.name]:null},set:function(t){null!=this[$u]&&(this[$u][this.name]=t)}}]),t}(),Zu=function(t){return null==t||""===(""+t).trim()||Array.isArray(t)&&null==t.length},Ju="vast",ta="video",ea="vpaid",na=/^(?:application|text)\/xml\+vast$/i,ra=/^(?:application|text)\/(?:x-)?javascript$/i,ia=/^video\//i,oa=function(t){var e=t.type,n=t.apiFramework;return Zu(n)&&na.test(e)},sa=function(t){var e=t.type;return"VPAID"===t.apiFramework&&ra.test(e)},ua=[{eval:oa,result:Ju},{eval:sa,result:ea},{eval:function(t){var e=t.type,n=t.apiFramework;return Zu(n)&&ia.test(e)},result:ta}],aa=function(t){return ua.reduce((function(e,n){return n.eval(t)?n.result:e}),null)},ca=Pt,la=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)},ha=Fr,fa=L,da=f.exports,pa=da.process,va=da.setImmediate,ma=da.clearImmediate,ga=da.MessageChannel,ya=da.Dispatch,ba=0,_a={},Aa=function(){var t=+this;if(_a.hasOwnProperty(t)){var e=_a[t];delete _a[t],e()}},wa=function(t){Aa.call(t.data)};va&&ma||(va=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return _a[++ba]=function(){la("function"==typeof t?t:Function(t),e)},Hu(ba),ba},ma=function(t){delete _a[t]},"process"==u(pa)?Hu=function(t){pa.nextTick(ca(Aa,t,1))}:ya&&ya.now?Hu=function(t){ya.now(ca(Aa,t,1))}:ga?(Wu=(zu=new ga).port2,zu.port1.onmessage=wa,Hu=ca(Wu.postMessage,Wu,1)):da.addEventListener&&"function"==typeof postMessage&&!da.importScripts?(Hu=function(t){da.postMessage(t+"","*")},da.addEventListener("message",wa,!1)):Hu="onreadystatechange"in fa("script")?function(t){ha.appendChild(fa("script")).onreadystatechange=function(){ha.removeChild(this),Aa.call(t)}}:function(t){setTimeout(ca(Aa,t,1),0)});var Ea={set:va,clear:ma},Sa=f.exports,Pa=Ea.set,ka=Sa.MutationObserver||Sa.WebKitMutationObserver,Ta=Sa.process,Oa=Sa.Promise,xa="process"==u(Ta),Ca={},Ia=Et;function Ma(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=Ia(e),this.reject=Ia(n)}Ca.f=function(t){return new Ma(t)};var ja,Da,Va,Ra,Ua=f.exports.navigator,Na=Ua&&Ua.userAgent||"",La=j,Fa=I,Ba=Ca,Ga=f.exports,Ha=C,za=V,Wa=a.exports("species"),qa=function(t){var e=Ga[t];za&&e&&!e[Wa]&&Ha.f(e,Wa,{configurable:!0,get:function(){return this}})},Ya=f.exports,Qa=Pt,Xa=O,$a=Mt,Ka=I,Za=Et,Ja=mi,tc=gi.exports,ec=or,nc=Ea.set,rc=function(){var t,e,n,r=function(){var r,i;for(xa&&(r=Ta.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(xa)n=function(){Ta.nextTick(r)};else if(!ka||Sa.navigator&&Sa.navigator.standalone)if(Oa&&Oa.resolve){var i=Oa.resolve(void 0);n=function(){i.then(r)}}else n=function(){Pa.call(Sa,r)};else{var o=!0,s=document.createTextNode("");new ka(r).observe(s,{characterData:!0}),n=function(){s.data=o=!o}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}(),ic=Ca,oc=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}},sc=Na,uc="Promise",ac=Ya.TypeError,cc=Ya.process,lc=cc&&cc.versions,hc=lc&&lc.v8||"",fc=Ya.Promise,dc="process"==Xa(cc),pc=function(){},vc=Da=ic.f,mc=!!function(){try{var t=fc.resolve(1),e=(t.constructor={})[a.exports("species")]=function(t){t(pc,pc)};return(dc||"function"==typeof PromiseRejectionEvent)&&t.then(pc)instanceof e&&0!==hc.indexOf("6.6")&&-1===sc.indexOf("Chrome/66")}catch(t){}}(),gc=function(t){var e;return!(!Ka(t)||"function"!=typeof(e=t.then))&&e},yc=function(t,e){if(!t._n){t._n=!0;var n=t._c;rc((function(){for(var r=t._v,i=1==t._s,o=0,s=function(e){var n,o,s,u=i?e.ok:e.fail,a=e.resolve,c=e.reject,l=e.domain;try{u?(i||(2==t._h&&Ac(t),t._h=1),!0===u?n=r:(l&&l.enter(),n=u(r),l&&(l.exit(),s=!0)),n===e.promise?c(ac("Promise-chain cycle")):(o=gc(n))?o.call(n,a,c):a(n)):c(r)}catch(t){l&&!s&&l.exit(),c(t)}};n.length>o;)s(n[o++]);t._c=[],t._n=!1,e&&!t._h&&bc(t)}))}},bc=function(t){nc.call(Ya,(function(){var e,n,r,i=t._v,o=_c(t);if(o&&(e=oc((function(){dc?cc.emit("unhandledRejection",i,t):(n=Ya.onunhandledrejection)?n({promise:t,reason:i}):(r=Ya.console)&&r.error&&r.error("Unhandled promise rejection",i)})),t._h=dc||_c(t)?2:1),t._a=void 0,o&&e.e)throw e.v}))},_c=function(t){return 1!==t._h&&0===(t._a||t._c).length},Ac=function(t){nc.call(Ya,(function(){var e;dc?cc.emit("rejectionHandled",t):(e=Ya.onrejectionhandled)&&e({promise:t,reason:t._v})}))},wc=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),yc(e,!0))},Ec=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw ac("Promise can't be resolved itself");(e=gc(t))?rc((function(){var r={_w:n,_d:!1};try{e.call(t,Qa(Ec,r,1),Qa(wc,r,1))}catch(t){wc.call(r,t)}})):(n._v=t,n._s=1,yc(n,!1))}catch(t){wc.call({_w:n,_d:!1},t)}}};mc||(fc=function(t){Ja(this,fc,uc,"_h"),Za(t),ja.call(this);try{t(Qa(Ec,this,1),Qa(wc,this,1))}catch(t){wc.call(this,t)}},(ja=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=vi(fc.prototype,{then:function(t,e){var n=vc(ec(this,fc));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=dc?cc.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&yc(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),Va=function(){var t=new ja;this.promise=t,this.resolve=Qa(Ec,t,1),this.reject=Qa(wc,t,1)},ic.f=vc=function(t){return t===fc||t===Ra?new Va(t):Da(t)}),$a($a.G+$a.W+$a.F*!mc,{Promise:fc}),co(fc,uc),qa(uc),Ra=l.exports.Promise,$a($a.S+$a.F*!mc,uc,{reject:function(t){var e=vc(this);return(0,e.reject)(t),e.promise}}),$a($a.S+$a.F*!mc,uc,{resolve:function(t){return function(t,e){if(La(t),Fa(e)&&e.constructor===t)return e;var n=Ba.f(t);return(0,n.resolve)(e),n.promise}(this,t)}}),$a($a.S+$a.F*!(mc&&oo((function(t){fc.all(t).catch(pc)}))),uc,{all:function(t){var e=this,n=vc(e),r=n.resolve,i=n.reject,o=oc((function(){var n=[],o=0,s=1;tc(t,!1,(function(t){var u=o++,a=!1;n.push(void 0),s++,e.resolve(t).then((function(t){a||(a=!0,n[u]=t,--s||r(n))}),i)})),--s||r(n)}));return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=vc(e),r=n.reject,i=oc((function(){tc(t,!1,(function(t){e.resolve(t).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}});var Sc=function(t,e,n){t.setAttribute(e,n)},Pc=function(t,e,n){var r;t[e]=0===(r=(r=n).trim()).length?r:1===r.length?r.toLowerCase():r.replace(/(^[-_.]+)|([-_.]+$)/g,"").replace(/[-_.\s]+(\w)/g,(function(t,e){return e.toUpperCase()})).replace(/(\d+)(\w)/g,(function(t,e,n){return e+n.toUpperCase()}))},kc=function(t,e,n){if(void 0===n&&(n=!1),null!=t&&null!=t.style){var r="function"==typeof t.style.setProperty,i=n?"important":"";Object.keys(e).forEach((function(n){var o=e[n];r?t.style.setProperty(n,o,i):t.style[n]=o}))}},Tc=function(t,e,n,r,i){return void 0===i&&(i=!1),function(t,e,n,r,i,o){void 0===o&&(o=!1);var s=t.createElementNS("http://www.w3.org/2000/svg",n);return null!=r&&function(t,e){var n="function"==typeof t.setAttribute?Sc:Pc;Object.keys(e).forEach((function(r){n(t,r,e[r])}))}(s,r),null!=i&&kc(s,i,o),s}(t,0,e,n,r,i)},Oc={exports:{}},xc=function(){var t=new Error("Delay aborted");return t.name="AbortError",t},Cc=function(t){var e=t.clearTimeout,n=t.setTimeout,r=t.willResolve;return function(t,i){var o,s,u,a=void 0===i?{}:i,c=a.value,l=a.signal;if(l&&l.aborted)return Promise.reject(xc());var h=e||clearTimeout,f=function(){h(o),u(xc())},d=new Promise((function(e,i){s=function(){l&&l.removeEventListener("abort",f),r?e(c):i(c)},u=i,o=(n||setTimeout)(s,t)}));return l&&l.addEventListener("abort",f,{once:!0}),d.clear=function(){h(o),o=null,s()},d}},Ic=function(t){var e=Cc(Object.assign({},t,{willResolve:!0}));return e.reject=Cc(Object.assign({},t,{willResolve:!1})),e.range=function(t,n,r){return e(function(t,e){return Math.floor(Math.random()*(e-t+1)+t)}(t,n),r)},e},Mc=Ic();Mc.createWithTimers=Ic,Oc.exports=Mc,Oc.exports.default=Mc;var jc=Oc.exports,Dc=function(){};function Vc(){var t={};return t.promise=new Promise((function(e,n){t.resolve=e,t.reject=n})),t}var Rc=function(t,e){var n=Vc(),r=function r(){t.removeEventListener(e,r),n.resolve()};return t.addEventListener(e,r),n.promise.cancel=function(){t.removeEventListener(e,r),n.reject(new Error("Canceled"))},n.promise},Uc=function(t){return new Promise((function(e,n){var r,i,o,s,u,a,c=function(t){return function(e){try{return r.cancel(),i.cancel(),t&&t.call(this,e)}catch(t){return n(t)}}.bind(this)}.bind(this);if(void 0===t&&(t=document),null!=t.body)return e();o=t,s=function(){return null!=o.body},u=Vc(),a=setInterval((function(){s()&&u.resolve()}),20),u.promise.cancel=function(){clearInterval(a),u.reject(new Error("Canceled"))},r=u.promise,i=Rc(t,"DOMContentLoaded"),r.catch(Dc),i.catch(Dc);var l=function(){try{return e()}catch(t){return n(t)}},h=function(t){try{throw t}catch(t){return c(n)(t)}};try{return Promise.resolve(Promise.race([r,i])).then((function(t){try{return c(l)()}catch(t){return h(t)}}),h)}catch(t){h(t)}}))},Nc=function(t){return new Promise((function(e,n){var r;function i(){return null==t.contentWindow||null==t.contentWindow.document?Promise.resolve(jc(100)).then((function(t){try{return i}catch(t){return n(t)}}),n):[1]}return(r=function(t){for(;t;){if(t.then)return void t.then(r,n);try{if(t.pop){if(t.length)return t.pop()?o.call(this):t;t=i}else t=t.call(this)}catch(t){return n(t)}}}.bind(this))(i);function o(){return e()}}))},Lc=Symbol("data"),Fc=function(){function t(){this[Lc]=Object.create(null)}var e=t.prototype;return e._get=function(t){return this[Lc][t]},e._put=function(t,e){this[Lc][t]=e},e._putAll=function(t){for(var e=Object.keys(t),n=0;n<e.length;++n){var r=e[n],i=t[r];this._put(r,i)}},t}(),Bc=Symbol("listeners"),Gc=function(){function t(){this[Bc]=[]}var e=t.prototype;return e.add=function(t,e,n,r){return void 0===r&&(r=null),function(t){return null!=t&&"function"==typeof t.addEventListener}(t)?(null!=r&&(n=n.bind(r)),t.addEventListener(e,n),this[Bc].push({target:t,type:e,listener:n}),this):this},e.addMany=function(t,e,n){var r=this;return void 0===n&&(n=null),Object.keys(e).forEach((function(i){return r.add(t,i,e[i],n)})),this},e.removeAll=function(){return this[Bc].splice(0).forEach((function(t){var e=t.target,n=t.type,r=t.listener;e.removeEventListener(n,r)})),this},Vr(t,[{key:"count",get:function(){return this[Bc].length}}]),t}(),Hc=pe,zc=_s;function Wc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qc(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}Te("getPrototypeOf",(function(){return function(t){return zc(Hc(t))}}));var Yc=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";Wc(this,e);var n=qc(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return Object.defineProperty(n,"message",{configurable:!0,enumerable:!1,value:t,writable:!0}),Object.defineProperty(n,"name",{configurable:!0,enumerable:!1,value:n.constructor.name,writable:!0}),Error.hasOwnProperty("captureStackTrace")?(Error.captureStackTrace(n,n.constructor),qc(n)):(Object.defineProperty(n,"stack",{configurable:!0,enumerable:!1,value:new Error(t).stack,writable:!0}),n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(function(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t,e}(Error)),Qc=function(t){function e(e){var n;return(n=t.call(this,e)||this).name="CancelError",n}return Rr(e,t),e}(Yc),Xc=function(t){function e(){var e;return(e=t.call(this,"Guest VPAID not available")||this).name="GuestNotAvailableError",e}return Rr(e,t),e}(Yc),$c=function(t){function e(e,n,r,i){var o;return void 0===e&&(e=null),void 0===n&&(n=null),void 0===r&&(r=null),void 0===i&&(i=null),(o=t.call(this,e)||this).message=e,o.code=n,o.subject=i,o.cause=r,o}return Rr(e,t),e.prototype.toString=function(){return"VAST error"+(null==this.code?"":" "+this.code)+(null==this.message||0===this.message.length?" (no error message)":": "+this.message)},e}(Yc),Kc=function(t){function e(e){var n;return(n=t.call(this,'Method "'+e+'" not available',405)||this).name="MethodNotAvailableError",n}return Rr(e,t),e}($c),Zc=/\/js\/vpaid-transformer\/[^/]+\/[a-z0-9-]+\.js#/,Jc=null,tl=function(){return null==Jc&&(Jc=document.currentScript||function(){for(var t=document.querySelectorAll("script"),e=null,n=t.length-1;n>=0&&null==e;){var r=t[n],i=r.src;null!=i&&Zc.test(i)&&(e=r),--n}return e}()),Jc},el={},nl=se,rl=ue.concat("length","prototype");el.f=Object.getOwnPropertyNames||function(t){return nl(t,rl)};var il=el,ol=he,sl=j,ul=f.exports.Reflect,al=ul&&ul.ownKeys||function(t){var e=il.f(sl(t)),n=ol.f;return n?e.concat(n(t)):e},cl=C,ll=Y,hl=function(t,e,n){e in t?cl.f(t,e,ll(0,n)):t[e]=n},fl=al,dl=Nt,pl=lo,vl=hl;Mt(Mt.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,r=dl(t),i=pl.f,o=fl(r),s={},u=0;o.length>u;)void 0!==(n=i(r,e=o[u++]))&&vl(s,e,n);return s}});var ml=Mt,gl=ri(2);ml(ml.P+ml.F*!vu([].filter,!0),"Array",{filter:function(t){return gl(this,t,arguments[1])}});var yl=["caller","callee","arguments"],bl=function(t,e){var n={enumerable:!1,writable:!1,value:t[e]};Object.defineProperty(t,e,n)},_l=Mt,Al=ri(5),wl="find",El=!0;wl in[]&&Array(1).find((function(){El=!1})),_l(_l.P+_l.F*El,"Array",{find:function(t){return Al(this,t,arguments.length>1?arguments[1]:void 0)}}),Us(wl);var Sl=function(t){if(null==t||""===t)return null;if("undefined"!=typeof URL&&URL instanceof Function)return new URL(t).hostname;var e=document.createElement("a");return e.href=t,e.hostname},Pl=function(t){return function(e){for(e=""+e;e.length<t;)e="0"+e;return e}},kl=Pl(2),Tl=Pl(3),Ol=function(t){var e=t.domainLookupStart,n=t.domainLookupEnd,r=t.connectStart,i=t.connectEnd,o=t.secureConnectionStart,s=t.requestStart,u=t.responseStart,a=t.responseEnd,c={dns:Math.round(n-e),tcpHandshake:Math.round(i-r),response:Math.round(a-u),requestStartUntilResponseEnd:Math.round(a-s)};return o>0&&(c.secureConnection=Math.round(i-o)),c},xl=function(t){var e=function(t){var e=null;try{e=performance.getEntriesByType("resource").find((function(e){return e.name===t}))}catch(t){}return e}(t);return null==e?null:Ol(e)},Cl=/^[^:]+:\/\/tpc\.googlesyndication\.com\/pagead\/js\/loader/,Il=/^[^:]+:\/\/imasdk\.googleapis\.com\/js\/sdkloader\/vpaid_adapter\.js\b/,Ml=function(t){return Il.test(t)},jl=function(t,e,n,r){return void 0===e&&(e=null),void 0===n&&(n=document),void 0===r&&(r=null),new Promise((function(i,o){var s=n.createElement("script");s.addEventListener("load",(function(){return i(s)})),s.addEventListener("error",(function(){return o(new $c('Failed to insert "'+t+'"',405))})),s.src=t,s.crossOrigin=e,r&&(s.dataset.doubleverifyParameters=r),n.getElementsByTagName("head")[0].appendChild(s)}))},Dl=er,Vl=Vt,Rl=function(t,e,n){if(Dl(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(Vl(t))},Ul=a.exports("match"),Nl=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[Ul]=!1,!"/./"[t](e)}catch(t){}}return!0},Ll=Mt,Fl=zt,Bl=Rl,Gl="startsWith",Hl="".startsWith;Ll(Ll.P+Ll.F*Nl(Gl),"String",{startsWith:function(t){var e=Bl(this,t,Gl),n=Fl(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return Hl?Hl.call(e,r,n):e.slice(n,n+r.length)===r}});var zl=function(t){var e=0,n=null;return function(){if(0===e)try{for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];n=t.apply(this,i),e=1}catch(t){n=t,e=2}if(2===e)throw n;return n}},Wl=function(){return(new Date).getTime()},ql={exports:{}};!function(e){!function(t,n){e.exports?e.exports=n():t.Queue=n()}(t,(function(){var t="undefined"!=typeof Promise?Promise:function(){return{then:function(){throw new Error("Queue.configure() before use Queue")}}},e=function(){};function n(t,e,n){this.options=n=n||{},this.pendingPromises=0,this.maxPendingPromises=void 0!==t?t:1/0,this.maxQueuedPromises=void 0!==e?e:1/0,this.queue=[]}return n.configure=function(e){t=e},n.prototype.add=function(n){var r=this;return new t((function(t,i,o){r.queue.length>=r.maxQueuedPromises?i(new Error("Queue limit reached")):(r.queue.push({promiseGenerator:n,resolve:t,reject:i,notify:o||e}),r._dequeue())}))},n.prototype.getPendingLength=function(){return this.pendingPromises},n.prototype.getQueueLength=function(){return this.queue.length},n.prototype._dequeue=function(){var e=this;if(this.pendingPromises>=this.maxPendingPromises)return!1;var n=this.queue.shift();if(!n)return this.options.onEmpty&&this.options.onEmpty(),!1;try{this.pendingPromises++,function(e){return e&&"function"==typeof e.then?e:new t((function(t){t(e)}))}(n.promiseGenerator()).then((function(t){e.pendingPromises--,n.resolve(t),e._dequeue()}),(function(t){e.pendingPromises--,n.reject(t),e._dequeue()}),(function(t){n.notify(t)}))}catch(t){e.pendingPromises--,n.reject(t),e._dequeue()}return!0},n}))}(ql);var Yl=ql.exports;function Ql(t){return t.charAt(0).toUpperCase()+t.substr(1)}var Xl,$l,Kl=Symbol("plugins"),Zl=Symbol("queue"),Jl=Symbol("logger"),th=function(){function t(){this[Kl]=[],this[Zl]=new Yl(1),this.dispose=zl(this.dispose)}var e=t.prototype;return e.addPlugin=function(t){this[Kl].push(t)},e.dispose=function(){var t=this;return Promise.all(this._runStageHooks("dispose",[])).then((function(){return t[Jl].info("Plugin disposal finished")}))},e.runPhase=function(t,e,n,r){return new Promise(function(i,o){var s=this;return void 0===r&&(r=null),i(this[Zl].add((function(){return new Promise((function(i,o){return i(s._runPhase0(t,e,n,r))}))})))}.bind(this))},e.runPhaseSync=function(t,e,n,r){var i=Ql(t);this._runStageHooks("before"+i+"Sync",e);var o=n.apply(void 0,e);return this._runStage("after"+i,[].concat(e,[o])).catch(r),o},e._runPhase0=function(t,e,n,r){return new Promise(function(i,o){var s,u,a;if(null!=r&&r())return o(new Error("Phase "+t+" canceled"));s=Ql(t);var c=function(){try{return u=n.apply(void 0,e),Promise.resolve(new Promise((function(t,e){return Ou(u)?Promise.resolve(u).then(t,e):t(u)}))).then(function(t){try{return a=t,Promise.resolve(this._runStage("after"+s,[].concat(e,[u]))).then((function(t){try{return i(a)}catch(t){return o(t)}}),o)}catch(t){return o(t)}}.bind(this),o)}catch(t){return o(t)}}.bind(this),l=function(t){try{if(t instanceof Qc)return i(null);throw t}catch(t){return o(t)}};try{return Promise.resolve(this._runStage("before"+s,e)).then((function(t){try{return c()}catch(t){return l(t)}}),l)}catch(t){l(t)}}.bind(this))},e._runStage=function(t,e){return new Promise(function(n,r){return n(Promise.all(this._runStageHooks(t,e)))}.bind(this))},e._runStageHooks=function(t,e){return this[Kl].filter((function(e){return null!=e[t]})).map((function(n){return n[t].apply(n,e)})).filter(Ou)},Vr(t,[{key:"plugins",get:function(){return this[Kl].slice()}}]),t}(),eh=function(t,e,n){void 0===n&&(n="Timed out");var r=jc.reject(e,{value:new Error(n)});return r.catch(Dc),function(t,e){return new Promise((function(n,r){var i;void 0===e&&(e=function(){});var o=function(t){try{return Promise.resolve(e()).then((function(e){try{throw t}catch(t){return r(t)}}),r)}catch(t){return r(t)}};try{return Promise.resolve(t).then((function(t){try{return i=t,function(){try{return Promise.resolve(e()).then((function(t){try{return n(i)}catch(t){return r(t)}}),r)}catch(t){return r(t)}}()}catch(t){return o(t)}}),o)}catch(t){o(t)}}))}(Promise.race([t,r]),(function(){r.clear()}))},nh={timestamp:function(){return encodeURIComponent((e=(t=new Date).getTimezoneOffset(),r=((n=Math.floor(e/60))<0?"+"+kl(-n):"-"+kl(n))+":"+kl(e%60),t.getFullYear()+"-"+kl(t.getMonth()+1)+"-"+kl(t.getDate())+"T"+kl(t.getHours())+":"+kl(t.getMinutes())+":"+kl(t.getSeconds())+"."+Tl(t.getMilliseconds())+r));var t,e,n,r},cachebusting:function(){return(""+Qu()).substring(0,8)},errorcode:function(t){var e=t.errorcode;return null!=e?e:900},serverside:function(){return"0"},apiframeworks:function(){return"2"},vastversions:function(){return"2,3,5,6,7,8,11,12,13,14"},verificationvendors:function(){return""},extensions:function(){return""}},rh=/\[([A-Z_]+)]/g,ih=function(t){var e,n=((e={})[91]=t.dns,e[92]=t.tcpHandshake,e[94]=t.response,e[95]=t.requestStartUntilResponseEnd,e);return t.secureConnectionStart>0&&(n[93]=t.secureConnectionStart),n},oh=V,sh=le,uh=Nt,ah=fe.f,ch=function(t){for(var e,n=uh(t),r=sh(n),i=r.length,o=0,s=[];i>o;)e=r[o++],oh&&!ah.call(n,e)||s.push([e,n[e]]);return s};Mt(Mt.S,"Object",{entries:function(t){return ch(t)}});var lh=Math.sqrt(2),hh=["video/3gpp"],fh=((Xl={}).vpaid=1,Xl.video=2,Xl.vast=3,Xl),dh=function(t){return t.width*t.height},ph=function(t){return t.reduce((function(t,e){return dh(e)<dh(t)?e:t}))},vh=function(t){return t.reduce((function(t,e){return dh(e)>dh(t)?e:t}))},mh=function(t,e){for(var n=e.selector,r=e.filter,i=null,o=0;o<t.length&&null==i;){var s=t[o].filter(r);s.length>0&&(i=n(s)),++o}return i},gh=function(t){return t>0?t:1/0},yh=function(t,e,n,r){var i=function(t,e,n){for(var r={},i=0;i<t.length;++i){var o=t[i].type;Object.prototype.hasOwnProperty.call(r,o)||(r[o]=e.canPlayType(o))}for(var s={},u=0;u<n.length;++u)s[n[u]]=[];for(var a=0;a<t.length;++a){var c=t[a],l=r[c.type];null!=s[l]&&s[l].push(c)}return s}(t,n,["probably"].concat(r?["maybe"]:[])),o=i.probably,s=void 0===o?[]:o,u=i.maybe,a=void 0===u?[]:u;if(s.length+a.length===0)return null;for(var c=null,l=0;l<e.length&&null==c;)c=mh([s,a],e[l]),++l;return c},bh=(($l={}).vast=function(t){return t[0]},$l.vpaid=function(t){return function(t){var e=t.filter(sa);return e.length>0?vh(e):null}(t)},$l.video=function(t,e,n){var r,i=t.filter((function(t){var e=t.type;return hh.indexOf(e)<0})),o=i.length>0?i:t;return null!=n&&"function"==typeof n.canPlayType&&(r=yh(o,e,n,!1)),null==r&&(r=yh(o,e,document.createElement("video"),!0)),r},$l),_h=function(t,e){return fh[t]-fh[e]},Ah=Pt,wh=Mt,Eh=pe,Sh=bi,Ph=Si,kh=zt,Th=hl,Oh=Oi;wh(wh.S+wh.F*!oo((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,r,i,o=Eh(t),s="function"==typeof this?this:Array,u=arguments.length,a=u>1?arguments[1]:void 0,c=void 0!==a,l=0,h=Oh(o);if(c&&(a=Ah(a,u>2?arguments[2]:void 0,2)),null==h||s==Array&&Ph(h))for(n=new s(e=kh(o.length));e>l;l++)Th(n,l,c?a(o[l],l):o[l]);else for(i=h.call(o),n=new s;!(r=i.next()).done;l++)Th(n,l,c?Sh(i,a,[r.value,l],!0):r.value);return n.length=l,n}});var xh={},Ch=Nt,Ih=el.f,Mh={}.toString,jh="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];xh.f=function(t){return jh&&"[object Window]"==Mh.call(t)?function(t){try{return Ih(t)}catch(t){return jh.slice()}}(t):Ih(Ch(t))},Te("getOwnPropertyNames",(function(){return xh.f}));var Dh={exports:{}};!function(t,e){function n(t,e){var n=[],r=[];return null==e&&(e=function(t,e){return n[0]===e?"[Circular ~]":"[Circular ~."+r.slice(0,n.indexOf(e)).join(".")+"]"}),function(i,o){if(n.length>0){var s=n.indexOf(this);~s?n.splice(s+1):n.push(this),~s?r.splice(s,1/0,i):r.push(i),~n.indexOf(o)&&(o=e.call(this,i,o))}else n.push(o);return null==t?o:t.call(this,i,o)}}(t.exports=function(t,e,r,i){return JSON.stringify(t,n(e,i),r)}).getSerialize=n}(Dh);var Vh=Dh.exports;function Rh(t){return null==t?null:Object.getPrototypeOf(Object(t))}var Uh=function t(e){if(null==e)return e;var n=Object.keys(e);if(1!==n.length||"message"!==n[0])return e;var r=e.message;return Array.isArray(r)&&1===r.length&&(r=r[0]),t(r)},Nh=function t(e,n){var r,i;switch(typeof e){case"object":return null==e?e:null!=e.nodeType?"[DOM "+function(t){if(null==t)return"null";if(1!==t.nodeType)return"node";try{var e=(t.nodeName||"unknown").toLowerCase();return null!=t.id&&(e+="#"+t.id),t.classList&&t.classList.length>0&&(e+="."+Array.from(t.classList).join(".")),e}catch(t){return"err"}}(e)+"]":n.indexOf(e)>=0?"[Circular]":(n.push(e),r=Array.isArray(e)?[]:{},i=function(t){for(var e=[],n=Rh(t);n;)e.push(n),n=Rh(n);return e}(e).filter((function(t){return t!==Object.prototype})),Uh([e].concat(i).map((function(t){return Object.getOwnPropertyNames(t)})).reduce((function(r,i){return i.forEach((function(i){try{e instanceof Error&&"stack"===i||(r[i]=t(e[i],n))}catch(t){r[i]="[Error: "+(t.message||t)+"]"}})),r}),r)));case"function":if(n.length>0)return;return"[Function "+(e.name||"anonymous")+"]";default:return e}},Lh=function(t){try{var e=Nh(t,[])||t;switch(typeof e){case"string":return e;case"number":return""+e;default:return Vh(e)}}catch(t){return"[Error]"}},Fh=function(t){var e=Object.keys(t);if(0===e.length)return"";for(var n=encodeURIComponent(e[0])+"="+encodeURIComponent(t[e[0]]),r=1;r<e.length;++r)n+="&"+encodeURIComponent(e[r])+"="+encodeURIComponent(t[e[r]]);return n},Bh=Wl(),Gh=function(){return Wl()-Bh},Hh=Symbol("runtime"),zh=Symbol("init"),Wh=Symbol("setGuest"),qh=Symbol("ensureContainer"),Yh=Symbol("slot"),Qh=Symbol("videoSlot"),Xh=Symbol("phaser"),$h=Symbol("pubSub"),Kh=Symbol("clickThroughUrl"),Zh=Symbol("adCompanions"),Jh=Symbol("options"),tf=Symbol("internal"),ef=Symbol("adParameters"),nf=Symbol("config"),rf=Symbol("logger"),of=function(){function t(){this[rf]=function(t,e){void 0===e&&(e={});var n=function(t){return null!=t&&"string"!=typeof t?(hu.has(t)||hu.set(t,fu++),t=("function"==typeof t?t.name:t.constructor.name)+"@"+hu.get(t)):"string"==typeof t&&(t=""+t),t}(t),r="test"===cu?"error":"log",i=[e.level,au,r].reduce((function(t,e){return du(t)&&!du(e)?e:t}));return new lu(n,i)}(this),this[nf]=null,this[Hh]=null,this.dispose=zl(this.dispose)}var e=t.prototype;return e.init=function(){},e.dispose=function(){},e.publish=function(t,e){return void 0===e&&(e=[]),this[Hh].publish(t,e,"plugin-"+this.constructor.id)},e.track=function(){var t;(t=this[Hh]).track.apply(t,arguments)},e.trackPixel=function(t,e){this[Hh].trackPixel(t,e)},e.trackError=function(){var t;(t=this[Hh]).trackError.apply(t,arguments)},e.setConfig=function(t){this[nf]=Object.assign({},this.constructor.defaultConfig,this[nf],t)},e[zh]=function(t,e){if(null!=this[nf])throw new Error("Already configured");this[Hh]=t,this.setConfig(e),this.init()},Vr(t,[{key:"runtime",get:function(){return this[Hh]}},{key:"config",get:function(){return this[nf]}},{key:"host",get:function(){return this[Hh].host}},{key:"hostInfo",get:function(){return this[Hh].hostInfo}},{key:"guest",get:function(){return this[Hh].guest}},{key:"logger",get:function(){return this[rf]}}],[{key:"id",get:function(){throw new Error("Method is abstract")}},{key:"defaultConfig",get:function(){return null}}]),t}(),sf=zh,uf=function(t){function e(){return t.apply(this,arguments)||this}return Rr(e,t),e}(of),af=Object.create(null),cf=new(function(){function t(){this._contents=Object.create(null)}var e=t.prototype;return e.register=function(t){var e=t.id;if(null!=this._contents[e]&&this._contents[e]!==t)throw new Error('Plugin "'+e+'" already registered');this._provisionParent(e),this._contents[e]=t},e.create=function(t,e,n){if(null==this._contents[t])throw new Error('Plugin "'+t+'" not registered');var r=new(0,this._contents[t]);return r[sf](n,e),r},e._provisionParent=function(t){var e=t.indexOf(".");if(!(e<0)){var n=t.substr(0,e);null==this._contents[n]&&(this._contents[n]=function(t){return null==af[t]&&(af[t]=function(e){function n(){return e.apply(this,arguments)||this}return Rr(n,e),Vr(n,null,[{key:"id",get:function(){return t}}]),n}(uf)),af[t]}(n))}},t}()),lf=Symbol("subscribers"),hf=Symbol("published"),ff=Symbol("options"),df=function(){function t(t){void 0===t&&(t={}),this[lf]={},this[hf]=[],this[ff]=t}var e=t.prototype;return e.subscribe=function(t,e,n){void 0===n&&(n=null),null==this[lf][e]&&(this[lf][e]=[]),this[lf][e].push({fn:t,ctx:n})},e.unsubscribe=function(t,e){var n=this[lf][e];if(null!=n)for(var r=n.length-1;r>=0;--r)n[r].fn===t&&n.splice(r,1)},e.publish=function(t,e){if(void 0===e&&(e=[]),!(Au.indexOf(t)>=0&&this.didPublish(t))){var n=this._normalizeEventArgs(t,e);if(this[hf].push({name:t,args:e}),null!=this[lf][t])for(var r=this[lf][t].slice(),i=0;i<r.length;++i){var o=r[i],s=o.fn,u=o.ctx,a=null!=u&&!0===u[tf];s.apply(u,a?e:n)}}},e.didPublish=function(t){return this[hf].some((function(e){var n=e.name;return t===n}))},e._normalizeEventArgs=function(t,e){if(t===_u.AdClickThru){var n=e[0],r=e[1],i=e[2];return["string"==typeof n?n:void 0,null!=r?r:"",null==i||!!i]}if(t===_u.AdError){var o=e[0],s=e[1];return!0===this[ff].sendErrorInfo?[o,(u=s,a={},Object.keys(u).filter((function(t){return null!=u[t]})).forEach((function(t){a[t]=u[t]})),a)]:[o]}return e;var u,a},Vr(t,[{key:"published",get:function(){return this[hf]}},{key:"options",get:function(){return this[ff]}}]),t}(),pf="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAAAAAA6fptVAAAAAXNCSVQI5gpbmQAAAApJREFUCB1jYAAAAAIAAc/INeUAAAAASUVORK5CYII=",vf="cdn.doubleverify.com",mf="rtb0.doubleverify.com",gf="https://c.amazon-adsystem.com/vfw/dv",yf="advb.js",bf="https://"+vf+"/dvbs_src.js",_f=[{id:"boot",pattern:bf+"?"},{id:"src",pattern:"//"+vf+"/dvbs_src_internal"},{id:"verify",pattern:"//"+mf+"/verify.js?"}],Af={tagtype:"video",dvtagver:"6.1.src",tagformat:"2",msrapi:"jsVpaid",dvp_zjsver:"0.21.17"},wf=["ctx","cmp","sid","plc","advid","crt","dup","adsrv","tagtype"],Ef=Symbol("name"),Sf=Symbol("states"),Pf=Symbol("infos"),kf=Symbol("state"),Tf=Symbol("initialState"),Of=Symbol("timings"),xf=function(){function t(t,e,n){void 0===e&&(e=0),void 0===n&&(n=void 0),this[Ef]=t,this[Sf]=[],this[Pf]=[],this[Of]=[],this[Tf]=e,this.set(e,n)}var e=t.prototype;return e.getInfo=function(t){if(t<=this.state)return this[Pf][t]},e.set=function(t,e){void 0===e&&(e=void 0);var n=this[kf];if(t<n)throw new Error("Invalid "+this[Ef]+" state change: "+n+" â "+t);if(t!==n){this._ensureStates(t);for(var r=n+1;r<t;++r)this[Sf][r].resolve();this[Sf][t].resolve(e),this[Pf][t]=e,this[Of][t]=Wl(),this[kf]=t,this[Tf]}},e.maybeSet=function(t,e){return void 0===e&&(e=void 0),!this.reached(t)&&(this.set(t,e),!0)},e.reach=function(t){return new Promise(function(e,n){return this._ensureStates(t),e(this[Sf][t].promise)}.bind(this))},e.reached=function(t){return t<=this.state},e.time=function(t){return this[Of][t]},e.timeBetween=function(t,e){if(t>e)throw new Error("toState ("+e+") must be greater than or equal to fromState ("+t+")");return this.time(e)-this.time(t)},e._ensureStates=function(t){for(var e=this[Sf].length;e<=t;++e)this[Sf].push(Vc()),this[Pf].push(void 0),this[Of].push(void 0)},Vr(t,[{key:"name",get:function(){return this[Ef]}},{key:"state",get:function(){return this[kf]}}]),t}(),Cf=Mt,If=Rl,Mf="includes";Cf(Cf.P+Cf.F*Nl(Mf),"String",{includes:function(t){return!!~If(this,t,Mf).indexOf(t,arguments.length>1?arguments[1]:void 0)}});var jf=Mt,Df=Zt(!0);jf(jf.P,"Array",{includes:function(t){return Df(this,t,arguments.length>1?arguments[1]:void 0)}}),Us("includes");var Vf=Symbol("facade"),Rf=Symbol("proxyCb"),Uf=function(){function t(t){this[Vf]=t,Yu({href:"//"+vf,rel:"preconnect",pr:"1.0"})}var e=t.prototype;return e.start=function(){return new Promise(function(t,e){var n=this;return this[Rf]=new Ku((function(){return n.facade.proxy})),this.facade.config.adid=this[Rf].name,t()}.bind(this))},e.decide=function(){return new Promise((function(t,e){return t(3)}))},e.enableDecisionTimeout=function(){return new Promise((function(t,e){return t()}))},e.onStartCreativeLoad=function(){},e.dispose=function(){return new Promise(function(t,e){return null!=this[Rf]&&(this[Rf].remove(),this[Rf]=null),t()}.bind(this))},e._insertScript=function(t,e,n){return new Promise(function(r,i){var o,s,u,a;if(o=this,void 0===n&&(n="?"),null!=e)for(var c in s={},e.forEach((function(t){null!=o.facade.config[t]&&(s[t]=o.facade.config[t])})),this.facade.config)Object.prototype.hasOwnProperty.call(this.facade.config,c)&&!e.includes(c)&&(s[c]=this.facade.config[c]);else s=this.facade.config;return s.falcon?(u="https://cdn.doubleverify.com/dvbm.js",a=Fh(s)):u=""+t+n+Fh(s),Promise.resolve(jl(u,void 0,void 0,a)).then((function(t){try{return r()}catch(t){return i(t)}}),i)}.bind(this))},Vr(t,[{key:"facade",get:function(){return this[Vf]}},{key:"logger",get:function(){return this.facade.logger}}]),t}(),Nf=Symbol("state"),Lf=Symbol("recommendationFromDvCb"),Ff=Symbol("ackConfirmationFromDvCb"),Bf=Symbol("timedOut"),Gf=Symbol("shouldAcknowledge"),Hf=Symbol("timingMonitorInterval"),zf=Symbol("timingMonitorSeen"),Wf=function(t,e){return t.startsWith("//")?e.startsWith("https:"+t)||e.startsWith("http:"+t):e.startsWith(t)},qf=function(t){function e(e){var n;return(n=t.call(this,e)||this)[Nf]=new xf("blocking-state"),n[Lf]=null,n[Ff]=null,n[Bf]=!1,n[Gf]=!1,n._scheduleAndProcessRecommendationTimeout=zl(n._scheduleAndProcessRecommendationTimeout),Yu({href:"//"+mf,rel:"preconnect",pr:"1.0"}),Yu({href:"//tps.doubleverify.com",rel:"preconnect",pr:"1.0"}),n}Rr(e,t);var n=e.prototype;return n.start=function(){return new Promise(function(e,n){var r,i;return Promise.resolve(t.prototype.start.call(this)).then(function(t){try{return this[Lf]=new Ku(this._processRecommendationFromDv.bind(this)),this.facade.config.DVP_DCB=this[Lf].name,this[Nf].set(1),this._startTimingMonitor(),null!=this.facade.config.proxy?(i=this.facade.config.dvbver,r=i?gf+"/advb/"+i+"/"+yf:gf+"/"+yf):r=bf,Promise.resolve(this._insertScript(r,wf)).then(function(t){try{return this._processTimings(),e()}catch(t){return n(t)}}.bind(this),n)}catch(t){return n(t)}}.bind(this),n)}.bind(this))},n.onStartCreativeLoad=function(t){null==t||null!=t.poster&&""!==t.poster||(t.poster=pf)},n.decide=function(){return new Promise(function(t,e){return t(this[Nf].reach(2))}.bind(this))},n.enableDecisionTimeout=function(){return new Promise(function(t,e){return this._scheduleAndProcessRecommendationTimeout(),t()}.bind(this))},n.dispose=function(){return new Promise(function(e,n){if(this[Nf].reached(1))return Promise.resolve(this.enableDecisionTimeout()).then(function(t){try{if(this[Gf]&&!this[Nf].reached(3))return Promise.resolve(this[Nf].reach(3)).then(function(t){try{return e.call(this)}catch(t){return n(t)}}.bind(this),n);function e(){return r.call(this)}return e.call(this)}catch(t){return n(t)}}.bind(this),n);function r(){return null!=this[Lf]&&(this[Lf].remove(),this[Lf]=null),null!=this[Ff]&&(this[Ff].remove(),this[Ff]=null),this._processTimings(),this._disposeTimingMonitor(),Promise.resolve(t.prototype.dispose.call(this)).then((function(t){try{return e()}catch(t){return n(t)}}),n)}return r.call(this)}.bind(this))},n._getBlockingTimeout=function(){var t=this.facade.config.blkto,e=null!=t?parseInt(t,10):900;return isNaN(e)?900:Math.min(Math.max(e,100),3e3)},n._scheduleAndProcessRecommendationTimeout=function(){return new Promise(function(t,e){var n,r,i;return Promise.resolve(this[Nf].reach(1)).then(function(o){try{if(n=this[Nf].time(1),r=this._getBlockingTimeout(),(i=n+r-Wl())>0)return Promise.resolve(jc(i)).then(function(t){try{return s.call(this)}catch(t){return e(t)}}.bind(this),e);function s(){return this[Bf]=this[Nf].maybeSet(2,"block"===this.facade.config.blktoa?1:2),this[Bf]&&(this.facade.timedOut=this[Bf]),t()}return s.call(this)}catch(t){return e(t)}}.bind(this),e)}.bind(this))},n._processRecommendationFromDv=function(t,e){this[Gf]=!0,this[Nf].maybeSet(2,t),this._sendRecommendationAckToDv(e,Wl())},n._sendRecommendationAckToDv=function(t,e){return new Promise(function(n,r){var i,o,s,u,a,c,l,h,f;return i=this,Promise.resolve(new Promise(function(t,e){return this.facade.creative.reached(3)?t([!1,!1]):Promise.resolve(Promise.race([this.facade.decide().then((function(t){return!!t&&i.facade.creative.reach(1).then((function(){return!0}))})),this.facade.creative.reach(3).then((function(){return!1}))])).then(function(n){try{return t([n,!this[Bf]])}catch(t){return e(t)}}.bind(this),e)}.bind(this))).then(function(i){try{s=(o=i)[0],u=o[1],a=this.facade.creative.time(1)||-1,c=this.facade.creative.time(2)||-1,l=Vc(),this[Ff]=new Ku((function(){l.resolve()})),h=[s,u,a,c,e,this[Ff].name];var d=function(){try{return this[Nf].set(3),n()}catch(t){return r(t)}}.bind(this),p=function(t){try{return d()}catch(t){return r(t)}};try{return(f=new Ku(t)).invoke.apply(f,h),Promise.resolve(Promise.race([l.promise,jc(500)])).then((function(t){try{return d()}catch(t){return p()}}),p)}catch(t){p()}}catch(t){return r(t)}}.bind(this),r)}.bind(this))},n._startTimingMonitor=function(){this[zf]=_f.map((function(){return!1})),this[Hf]=setInterval(this._processTimings.bind(this),250)},n._disposeTimingMonitor=function(){null!=this[Hf]&&(clearInterval(this[Hf]),this[Hf]=null,this[zf]=null)},n._processTimings=function(){var t;try{t=performance.getEntriesByType("resource")}catch(t){return void this._disposeTimingMonitor()}for(var e=0;e<t.length;++e)for(var n=t[e],r=0;r<_f.length;++r){var i=_f[r],o=i.id,s=i.pattern;null!=this[zf]&&!this[zf][r]&&Wf(s,n.name)&&(this[zf][r]=!0,this.facade.onScriptResourceTiming("dvbs-"+o,n))}null!=this[zf]&&this[zf].every(Boolean)&&this._disposeTimingMonitor()},e}(Uf),Yf=function(t){function e(){return t.apply(this,arguments)||this}return Rr(e,t),e.prototype.start=function(){return new Promise(function(e,n){var r,i,o;return Promise.resolve(t.prototype.start.call(this)).then(function(t){try{return null!=this.facade.config.proxy?(null!=this.facade.config.static?r=this.facade.config.static:(i=this.facade.config.dvmver,r=i?gf+"/advm/"+i:""+gf),r+="/advm.js"):r="https://cdn.doubleverify.com/dvtp_src.js",Promise.resolve(this.facade.creative.reach(1)).then(function(t){try{return o="0"===this.facade.config.scripthash?"?":"#",Promise.resolve(this._insertScript(r,wf,o)).then((function(t){try{return e()}catch(t){return n(t)}}),n)}catch(t){return n(t)}}.bind(this),n)}catch(t){return n(t)}}.bind(this),n)}.bind(this))},e}(Uf),Qf=function(t){return new(t.blockingEnabled?qf:Yf)(t)},Xf=Symbol("logger"),$f=Symbol("config"),Kf=Symbol("proxy"),Zf=Symbol("mode"),Jf=Symbol("decision"),td=Symbol("createMode"),ed=Symbol("timedOut"),nd=Symbol("creativeState"),rd=function(){function t(t){void 0===t&&(t=Qf),this[nd]=new xf("dvf-creative"),this[Jf]=Vc(),this[td]=t,this[Zf]=null,this[ed]=!1,this.start=zl(this.start),this._determineDecision=zl(this._determineDecision),this.dispose=zl(this.dispose)}var e=t.prototype;return e.start=function(t,e){return new Promise(function(n,r){this[Kf]=e,this[$f]=Object.assign({},t,Af),null!=t.dvtagver&&(this[$f].dvtagver=t.dvtagver);var i=function(){try{return n()}catch(t){return r(t)}},o=function(t){try{return this[Jf].reject(t),i()}catch(t){return r(t)}}.bind(this);try{return this[Zf]=this[td](this),Promise.resolve(this[Zf].start()).then((function(t){try{return i()}catch(t){return o(t)}}),o)}catch(t){o(t)}}.bind(this))},e.decide=function(){return new Promise(function(t,e){return null==this[Zf]?e(new Error("Not started yet")):(this._awaitAndResolveDecision(),t(this[Jf].promise))}.bind(this))},e.decideWithTimeout=function(){return new Promise(function(t,e){return null==this[Zf]?e(new Error("Not started yet")):(this[Zf].enableDecisionTimeout(),t(this.decide()))}.bind(this))},e.onStartCreativeLoad=function(t){null!=this[Zf]&&this[Zf].onStartCreativeLoad(t),this.creative.maybeSet(1)},e.onEndCreativeLoad=function(){this.creative.maybeSet(2)},e.onScriptResourceTiming=function(t,e){var n={91:t},r=Ol(e),i=ih(r);this.track("timing",n,i,!0)},e.dispose=function(){return new Promise(function(t,e){if(this.creative.maybeSet(3),null!=this[Zf])return Promise.resolve(this[Zf].dispose()).then(function(t){try{return this[Zf]=null,n.call(this)}catch(t){return e(t)}}.bind(this),e);function n(){return t()}return n.call(this)}.bind(this))},e._awaitAndResolveDecision=function(){return new Promise(function(t,e){var n;return Promise.resolve(this[Zf].decide()).then(function(r){try{return n=1!==r||this.dryRun,this[Jf].resolve(n),t()}catch(t){return e(t)}}.bind(this),e)}.bind(this))},e.track=function(){},Vr(t,[{key:"logger",get:function(){return this[Xf]}},{key:"blockingEnabled",get:function(){return"1"===this[$f].blk}},{key:"dryRun",get:function(){return"1"===this[$f].dry}},{key:"timedOut",get:function(){return this[ed]},set:function(t){this[ed]=t}},{key:"creative",get:function(){return this[nd]}},{key:"config",get:function(){return this[$f]}},{key:"proxy",get:function(){return this[Kf]}}]),t}(),id=Symbol("plugin"),od=Symbol("disposed"),sd=Yh,ud=Qh,ad=function(){function t(t){if(null==t)throw new Error("Must specify the plugin");this[id]=t,this[od]=!1}var e=t.prototype;return e.dispose=function(){this[od]=!0},e.getAdVolume=function(){var t=this;return this._genericCall("getAdVolume",(function(){return t[id].host.getAdVolume()}),-1)},e.getAdDuration=function(){var t=this;return this._genericCall("getAdDuration",(function(){return t[id].host.getAdDuration()}),-1)},e.subscribe=function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this._genericCall("subscribe",(function(){var e;return(e=t[id].host).subscribe.apply(e,n)}))},e.unsubscribe=function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this._genericCall("unsubscribe",(function(){var e;return(e=t[id].host).unsubscribe.apply(e,n)}))},e.getPlayer=function(){var t=this;return this._genericCall("getPlayer",(function(){return t[id][ud]}))},e.getSlot=function(){var t=this;return this._genericCall("getSlot",(function(){return t[id][sd]}))},e.getPreviousEvents=function(){var t=this;return this._genericCall("getPreviousEvents",(function(){return t[id].runtime.hostInfo.publishedEvents.map((function(t){return t.name}))}),[])},e._genericCall=function(t,e,n){if(void 0===n&&(n=void 0),this[od]);else try{return e()}catch(t){}return n},t}(),cd=Symbol("dvFacade"),ld=Symbol("videoSlotOriginalPoster"),hd=Yh,fd=Qh,dd=function(t){function e(){var e;return(e=t.call(this)||this)[cd]=new rd,e[cd].track=e.track.bind(Nr(e)),e}Rr(e,t);var n=e.prototype;return n.init=function(){this[cd].start(this.config,new ad(this))},n.dispose=function(){return this[cd].dispose()},n.beforeInitAd=function(t,e,n,r,i,o){return new Promise(function(t,e){var n=o.slot,r=o.videoSlot;return this[hd]=n,this[fd]=r,this[ld]=null!=r?r.poster:null,this[cd].onStartCreativeLoad(this[fd]),this._awaitAndHandleBlockDecision(),t()}.bind(this))},n.beforeAdLoaded=function(){return new Promise(function(t,e){return this[cd].onEndCreativeLoad(),Promise.resolve(this[cd].decideWithTimeout()).then((function(n){try{return n?t():e(new Error("Ad blocked"))}catch(t){return e(t)}}),e)}.bind(this))},n._awaitAndHandleBlockDecision=function(){return new Promise(function(t,e){var n,r,i,o,s,u;return n=this,this.runtime.tracking.addMetric(118,(function(){return n[cd].config.blkto})),r=Gh(),this.runtime.tracking.addMetric(119,(function(){return r})),Promise.resolve(this[cd].decide()).then(function(n){try{return i=n,o=Gh(),this.runtime.tracking.addMetric(120,(function(){return o})),s=this[cd].timedOut?"timeout":"decision",this.track(i?"dv-res-allow":"dv-res-block",{197:s},null,!0),i?null!=this[fd]&&this[fd].poster===pf&&(this[fd].poster=this[ld]):(u={message:"Ad blocked"},this.publish(_u.AdError,["Ad blocked",u])),t()}catch(t){return e(t)}}.bind(this),e)}.bind(this))},Vr(e,null,[{key:"id",get:function(){return"dv"}}]),e}(of),pd=Symbol("domEventTracker"),vd=Symbol("initialVideoSource"),md=function(t){return"currentSrc"in t?t.currentSrc:t.src},gd=function(t){function e(){var e;return(e=t.call(this)||this)[pd]=new Gc,e[vd]=null,e}Rr(e,t);var n=e.prototype;return n.beforeInitAd=function(t,e,n,r,i,o){return new Promise(function(t,e){if(null==o)return t();var n=o.videoSlot;if(null==n)return t();this[vd]=md(n);var r=this._preventEarlyPlayback.bind(this);return this[pd].addMany(n,{loadedmetadata:r,loadeddata:r,canplay:r,canplaythrough:r,playing:r}),t()}.bind(this))},n.beforeStartAd=function(){this[pd].removeAll()},n.dispose=function(){t.prototype.dispose.call(this),this[pd].removeAll()},n._preventEarlyPlayback=function(){var t=this.runtime.hostInfo.videoSlot;!t.paused&&this._hasVideoSourceChanged()&&t.pause()},n._hasVideoSourceChanged=function(){var t=this.runtime.hostInfo.videoSlot;return md(t)!==this[vd]},Vr(e,null,[{key:"id",get:function(){return"quirk.early-start"}}]),e}(of),yd=["dns","tcpHandshake","secureConnection","response","requestStartUntilResponseEnd"],bd=function(t){return null!=t?yd.map((function(e){return function(t){return"number"==typeof t?t:""}(t[e])})).join(":"):""},_d=function(t){return new Promise((function(e,n){var r=new XMLHttpRequest;r.onload=function(){if(r.status<200||r.status>=300)n(new Error("HTTP "+r.status));else{var t=r.status,i=function(t){var e={},n=null;try{n=t.getResponseHeader("content-type")}catch(t){}return null!=n&&(e["content-type"]=n),e}(r),o=function(t){return{text:t.responseText,xml:t.responseXML}}(r);e({statusCode:t,headers:i,body:o})}},r.onerror=function(){n(new Error("Unknown error"))},r.open("GET",t),r.send()}))},Ad=function(t){function e(e,n,r){var i;return(i=t.call(this,e)||this).vastUrl=n,i.wrapperCount=r,i}return Rr(e,t),e}(Yc),wd=function(t,e){return Array.prototype.find.call(t.childNodes,(function(t){return t.localName===e}))},Ed=function(t){function e(){return t.apply(this,arguments)||this}Rr(e,t);var n=e.prototype;return n.init=function(){return new Promise(function(t,e){var n,r;return this._vastUrl=this.config.vastUrl,this._strategies=this.config.strategies,this._dimensions=((n={})[9]="warmup",n[102]=this._vastUrl,n),this._metrics=((r={})[9]=this.config.originChainLength,r),this._runStrategies(),t()}.bind(this))},n._runStrategies=function(){return new Promise(function(t,e){var n;!function(t){for(var e=t.length-1;e>0;--e){var n=Math.floor(Math.random()*e),r=t[e];t[e]=t[n],t[n]=r}}(n=this._strategies.slice());var r=function(){try{return this._trackBenchmarkSuccess(),t()}catch(t){return e(t)}}.bind(this),i=function(n){try{return t()}catch(t){return e(t)}};try{return Promise.resolve(Promise.all(n.map(this._runStrategy.bind(this)))).then((function(t){try{return r()}catch(t){return i()}}),i)}catch(t){i()}}.bind(this))},n._runStrategy=function(t){return new Promise(function(e,n){var r,i;r=this._buildVastUrl(t),t.chain=[];var o=function(){try{var o=function(e){try{throw this._trackBenchmarkError(t.name,e),e}catch(t){return n(t)}}.bind(this);try{return i=Wl(),Promise.resolve((s=r,u=t.chain,new Promise((function(t,e){var n,r,i,o;function a(){if(!(null!=s&&n++<5))return[1];r={url:s},u.push(r),r.startTime=Wl(),i=void 0;var t=function(t){try{throw new Ad(t.message,s,n)}catch(t){return e(t)}};try{return Promise.resolve(function(t){return new Promise((function(e,n){var r,i,o,s;return Promise.resolve(_d(t)).then((function(t){try{return i=(r=t).headers,null==(o=r.body.xml)||null==o.documentElement||"VAST"!==o.documentElement.localName?(s=i["content-type"]||"unknown",n(new Error("Invalid response: "+s))):e(o)}catch(t){return n(t)}}),n)}))}(s)).then((function(o){try{return i=o,function(){try{r.endTime=Wl(),r.timings=xl(s);try{s=function(t){var e=wd(t.documentElement,"Ad");if(null==e)throw new Error("No ads");if(null!=wd(e,"InLine"))return null;var n=wd(e,"Wrapper");if(null==n)throw new Error("No InLine or Wrapper");var r=wd(n,"VASTAdTagURI");if(null==r)throw new Error("No VASTAdTagURI");return r.textContent.trim()}(i)}catch(t){throw new Ad(t.message,s,n)}return a}catch(t){return e(t)}}()}catch(e){return t(e)}}),t)}catch(e){t(e)}}return n=0,(o=function(t){for(;t;){if(t.then)return void t.then(o,e);try{if(t.pop){if(t.length)return t.pop()?c.call(this):t;t=a}else t=t.call(this)}catch(t){return e(t)}}}.bind(this))(a);function c(){return null!=s?e(new Ad("Wrapper limit exceeded",s,n)):t()}})))).then((function(r){try{return t.totalTime=Wl()-i,function(){try{return e()}catch(t){return n(t)}}()}catch(t){return o(t)}}),o)}catch(t){o(t)}}catch(t){return n(t)}var s,u}.bind(this),s=function(t){try{return o()}catch(t){return n(t)}};try{return Promise.resolve(this._warmUp(r)).then((function(t){try{return o()}catch(t){return s()}}),s)}catch(t){s()}}.bind(this))},n._buildVastUrl=function(t){if(null==t.endpoint)return this._vastUrl;var e=encodeURIComponent(this._vastUrl);return"https://"+t.endpoint+"/1?t=vast&src="+e},n._warmUp=function(t){return new Promise((function(e,n){var r;return r=function(t){var e=t.indexOf("//");if(e<0)return null;var n=t.indexOf("/",e+2);return n<0?t:t.substr(0,n)}(t),Promise.resolve(_d(r)).then((function(t){try{return e()}catch(t){return n(t)}}),n)}))},n._trackBenchmarkSuccess=function(){for(var t=0;t<this._strategies.length;++t){var e=10*(t+1),n=this._strategies[t];this._addSuccessDimensions(e,n),this._addSuccessMetrics(e,n)}this.track("benchmark-end",this._dimensions,this._metrics,!0)},n._trackBenchmarkError=function(t,e){this._dimensions[10]=t,this._dimensions[110]=Lh(e),null!=e.vastUrl&&(this._dimensions[102]=Sl(e.vastUrl),this._metrics[8]=e.wrapperCount),this.track("benchmark-error",this._dimensions,this._metrics,!0)},n._addSuccessDimensions=function(t,e){var n,r=e.name,i=e.chain;Object.assign(this._dimensions,((n={})[t]=r,n[t+1]=i.map((function(t){return t.endTime-t.startTime})).join(","),n[t+2]=i.map((function(t){return Sl(t.url)})).join(","),n[t+3]=function(t){return t.map((function(t){return t.timings})).map(bd).join(",")}(i),n))},n._addSuccessMetrics=function(t,e){var n,r=e.chain,i=e.totalTime;Object.assign(this._metrics,((n={})[t]=i,n[t+1]=r.length,n));var o=r[0].timings;if(null!=o)for(var s=0;s<yd.length;++s){var u=o[yd[s]];"number"==typeof u&&(this._metrics[t+2+s]=u)}},Vr(e,null,[{key:"id",get:function(){return"unwrapper-benchmark"}}]),e}(of);cf.register(dd),cf.register(gd),cf.register(Ed);var Sd="[debug] ",Pd=Object.keys(Pu),kd=function(t){function e(){return t.apply(this,arguments)||this}return Rr(e,t),Vr(e,null,[{key:"id",get:function(){return"debug"}}]),e}(of),Td=function(t){var e,n=Ql(t),r="before"+n,i="after"+n;Object.assign(kd.prototype,((e={})[r]=function(){var t=arguments;return new Promise((function(e,n){for(var i,o=t.length,s=new Array(o),u=0;u<o;u++)s[u]=t[u];return(i=console).log.apply(i,[""+Sd+r].concat(s)),e()}))},e[i]=function(){var t=arguments;return new Promise((function(e,n){for(var r,o=t.length,s=new Array(o),u=0;u<o;u++)s[u]=t[u];return s.pop(),(r=console).log.apply(r,[""+Sd+i].concat(s)),e()}))},e))},Od=function(t){for(var e=0;e<t.length;++e)Td(t[e])};Od(Object.keys(wu).map((function(t){return wu[t]}))),Od(Object.keys(_u).map((function(t){return _u[t]}))),Od(Pd.map((function(t){return"set"+Ql(t)})));for(var xd=function(t){var e=Pd[t],n="afterGet"+Ql(e),r=void 0;kd.prototype[n]=function(){var t,n=(t=arguments.length-1)<0||arguments.length<=t?void 0:arguments[t];r!==n&&(console.log(""+Sd+e+":",r,"â",n),r=n)}},Cd=0;Cd<Pd.length;++Cd)xd(Cd);cf.register(kd);var Id=f.exports,Md=ko,jd=C.f,Dd=el.f,Vd=er,Rd=lt,Ud=Id.RegExp,Nd=Ud,Ld=Ud.prototype,Fd=/a/g,Bd=/a/g,Gd=new Ud(Fd)!==Fd;if(V&&(!Gd||D((function(){return Bd[a.exports("match")]=!1,Ud(Fd)!=Fd||Ud(Bd)==Bd||"/a/i"!=Ud(Fd,"i")})))){Ud=function(t,e){var n=this instanceof Ud,r=Vd(t),i=void 0===e;return!n&&r&&t.constructor===Ud&&i?t:Md(Gd?new Nd(r&&!i?t.source:t,e):Nd((r=t instanceof Ud)?t.source:t,r&&i?Rd.call(t):e),n?this:Ld,Ud)};for(var Hd=function(t){t in Ud||jd(Ud,t,{configurable:!0,get:function(){return Nd[t]},set:function(e){Nd[t]=e}})},zd=Dd(Nd),Wd=0;zd.length>Wd;)Hd(zd[Wd++]);Ld.constructor=Ud,Ud.prototype=Ld,x.exports(Id,"RegExp",Ud)}qa("RegExp");var qd=Symbol("play"),Yd=function(t){function e(){var e;return(e=t.call(this)||this)[qd]=null,e}Rr(e,t);var n=e.prototype;return n._createPlay=function(t){var e=this,n=t.ownerDocument||document,r=Tc(n,"svg",{width:"100%",height:"100%",viewBox:"0 0 100 100"},{display:"none",position:"absolute","z-index":"10000001","background-color":"rgba(0, 0, 0, 0.3)",cursor:"pointer"},!0),i=Tc(n,"circle",{cx:"50%",cy:"50%",r:"25%",fill:"none",stroke:"white","stroke-width":"2px"},!0);r.appendChild(i);var o=Tc(n,"polygon",{points:"45,40,45,60,60,50",fill:"white"},!0);r.appendChild(o),this[qd]=r,t.appendChild(r),r.addEventListener("click",(function(){e.host.resumeAd()}))},n._isEnabled=function(){var t=this.config.acceptMedia,e=this.runtime.guestInfo.mediaFile.type,n=!0;if("string"==typeof t&&"string"==typeof e)try{n=new RegExp(t).test(e)}catch(t){}return n},n.beforeInitAd=function(t,e,n,r,i,o){return new Promise(function(t,e){return this._isEnabled()&&this._createPlay(o.slot),t()}.bind(this))},n.afterAdPaused=function(){return new Promise(function(t,e){return null!==this[qd]&&kc(this[qd],{display:"block"},!0),t()}.bind(this))},n.beforeAdPlaying=function(){return new Promise(function(t,e){return null!==this[qd]&&kc(this[qd],{display:"none"},!0),t()}.bind(this))},Vr(e,null,[{key:"id",get:function(){return"play"}}]),e}(of),Qd=Symbol("skip"),Xd=Symbol("interval"),$d={position:"absolute",bottom:"10%",right:"0px",padding:"12px","z-index":"10000001","background-color":"rgba(0, 0, 0, 0.7)",color:"white","font-size":"12px","font-weight":"200","font-family":"Arial, Helvetica, sans-serif","border-color":"rgba(255, 255, 255, 0.5)","border-width":"0px","border-style":"solid",cursor:"default","user-select":"none"},Kd=Object.assign({},$d,{"font-size":"18px","border-width":"1px 0px 1px 1px",cursor:"pointer"}),Zd=function(t){function e(){var e;return(e=t.call(this)||this)[Qd]=null,e[Xd]=null,e}Rr(e,t);var n=e.prototype;return n._createSkip=function(t){var e=this,n=(t.ownerDocument||document).createElement("div");n.addEventListener("click",(function(){return e._maybeSkip()})),this[Qd]=n,this._updateSkip(),t.appendChild(n)},n._updateSkip=function(){var t=this._getSkipTimeRemaining(),e=!isNaN(t)||this.host.getAdSkippableState();kc(this[Qd],{display:e?"block":"none"},!0);var n=t>0,r="Skip ad";n&&(r="You can skip to video in [T]".replace("[T]",""+Math.round(t))),this[Qd].innerHTML!==r&&(this[Qd].innerHTML=r),kc(this[Qd],n?$d:Kd,!0)},n._getSkipTimeRemaining=function(){var t=this.runtime.config.skipOffset;if("number"!=typeof t)return NaN;var e=this.host.getAdDuration(),n=this.host.getAdRemainingTime();return e<0||n<0?NaN:t-Math.max(e-n,0)},n._maybeSkip=function(){return new Promise(function(t,e){return this._getSkipTimeRemaining()>0?t():!0===this.guest.getAdSkippableState()?(this.host.skipAd(),n.call(this)):Promise.resolve(this.publish("AdSkipped")).then(function(t){try{return this.host.stopAd(),n.call(this)}catch(t){return e(t)}}.bind(this),e);function n(){return t()}}.bind(this))},n._isEnabled=function(){var t=this.config.acceptMedia;return null==t||"string"==typeof t&&null!=this.runtime.guestInfo.mediaFile.type.match(new RegExp(t))},n.beforeInitAd=function(t,e,n,r,i,o){return new Promise(function(t,e){var n=this;return this._isEnabled()&&(this._createSkip(o.slot),this[Xd]=setInterval((function(){return n._updateSkip()}),250)),t()}.bind(this))},n.afterAdSkippableStateChange=function(){return new Promise(function(t,e){return this._isEnabled()&&this._updateSkip(),t()}.bind(this))},n.beforeAdStopped=function(){return new Promise(function(t,e){return null!==this[Xd]&&(clearInterval(this[Xd]),this[Xd]=null),t()}.bind(this))},Vr(e,null,[{key:"id",get:function(){return"skip"}}]),e}(of),Jd=function(t){function e(){var e;return(e=t.call(this)||this)._fetchStartTime=0,e}Rr(e,t);var n=e.prototype;return n.setConfig=function(e){t.prototype.setConfig.call(this,e);var n=e.vastChainInfo;null!=n&&this.hostInfo.addAdParamsVastChainInfo(n)},n.beforeLoadVast=function(){this._fetchStartTime=Wl()},n.afterLoadVast=function(t){var e=t.uri,n=Wl()-this._fetchStartTime;this.hostInfo.addVastChainInfo("vast",e,n,!1)},n.afterLoadVpaid=function(t){var e=t.uri,n=t.time;this.hostInfo.addVastChainInfo("vpaid",e,n,!1)},Vr(e,null,[{key:"id",get:function(){return"vast-chain-tracking"}}]),e}(of);cf.register(Yd),cf.register(Zd),cf.register(Jd);var tp,ep=/^\s*(\d+):(\d+):(\d+(?:\.\d+)?)\s*$/;(tp={}).b=function(t){return"true"===t||"1"===t},tp.i=function(t){return parseInt(t,10)},tp.f=parseFloat,tp.t=function(t){if("string"!=typeof t)return null;var e=ep.exec(t);return null==e?null:60*(60*parseInt(e[1],10)+parseInt(e[2],10))+parseFloat(e[3])},function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}function i(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function o(t,e,r,o,s){if("function"!=typeof r)throw new TypeError("The listener must be a function");var u=new i(r,o||t,s),a=n?n+e:e;return t._events[a]?t._events[a].fn?t._events[a]=[t._events[a],u]:t._events[a].push(u):(t._events[a]=u,t._eventsCount++),t}function s(t,e){0==--t._eventsCount?t._events=new r:delete t._events[e]}function u(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),u.prototype.eventNames=function(){var t,r,i=[];if(0===this._eventsCount)return i;for(r in t=this._events)e.call(t,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},u.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,s=new Array(o);i<o;i++)s[i]=r[i].fn;return s},u.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},u.prototype.emit=function(t,e,r,i,o,s){var u=n?n+t:t;if(!this._events[u])return!1;var a,c,l=this._events[u],h=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,r),!0;case 4:return l.fn.call(l.context,e,r,i),!0;case 5:return l.fn.call(l.context,e,r,i,o),!0;case 6:return l.fn.call(l.context,e,r,i,o,s),!0}for(c=1,a=new Array(h-1);c<h;c++)a[c-1]=arguments[c];l.fn.apply(l.context,a)}else{var f,d=l.length;for(c=0;c<d;c++)switch(l[c].once&&this.removeListener(t,l[c].fn,void 0,!0),h){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,e);break;case 3:l[c].fn.call(l[c].context,e,r);break;case 4:l[c].fn.call(l[c].context,e,r,i);break;default:if(!a)for(f=1,a=new Array(h-1);f<h;f++)a[f-1]=arguments[f];l[c].fn.apply(l[c].context,a)}}return!0},u.prototype.on=function(t,e,n){return o(this,t,e,n,!1)},u.prototype.once=function(t,e,n){return o(this,t,e,n,!0)},u.prototype.removeListener=function(t,e,r,i){var o=n?n+t:t;if(!this._events[o])return this;if(!e)return s(this,o),this;var u=this._events[o];if(u.fn)u.fn!==e||i&&!u.once||r&&u.context!==r||s(this,o);else{for(var a=0,c=[],l=u.length;a<l;a++)(u[a].fn!==e||i&&!u[a].once||r&&u[a].context!==r)&&c.push(u[a]);c.length?this._events[o]=1===c.length?c[0]:c:s(this,o)}return this},u.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&s(this,e)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u}();var np,rp={visibility:"hidden",position:"absolute",left:0,top:0,width:0,height:0,margin:0,padding:0,border:0},ip=/^https?:\/\//,op=function(t){var e=null;try{e=t.document.baseURI}catch(t){}return null!=e&&ip.test(e)?e:null},sp=function(t,e,n){return new Promise((function(r,i){var o,s;return o=Wl(),Promise.resolve(jl(t,e,n)).then((function(t){try{return s=Wl()-o,r(s)}catch(t){return i(t)}}),i)}))},up=function(t,e){return new Promise((function(n,r){var i,o,s,u,a;return i=e.ownerDocument,o=i.defaultView,s=o.getVPAIDAd,delete o.getVPAIDAd,Promise.resolve(sp(t,null,i)).then((function(t){try{u=t;try{a=o.getVPAIDAd()}finally{o.getVPAIDAd=s}return n({vpaid:a,time:u})}catch(t){return r(t)}}),r)}))},ap=function(t,e){return new Promise((function(n,r){var i,o,s,u,a,c;return Promise.resolve(function(t,e,n,r){return new Promise((function(i,o){return void 0===n&&(n=!1),void 0===r&&(r="about:blank"),Promise.resolve(Uc(t.ownerDocument)).then((function(s){try{return i(function(t,e,n,r){return new Promise((function(i,o){var s,u;return s=t.ownerDocument.createElement("iframe"),u=Rc(s,"load"),s.loading="eager",s.frameBorder="0",s.scrolling="no",kc(s,e,n),s.src=r,t.appendChild(s),Promise.resolve(Promise.race([u,Nc(s)])).then((function(t){try{return i(s)}catch(t){return o(t)}}),o)}))}(t,e,n,r))}catch(t){return o(t)}}),o)}))}(e,rp,!0)).then((function(e){try{return o=(i=e).contentWindow,s=o.document,u=function(t){return function(t,e,n){for(var r=0,i=e(t);null==i&&t!==t.parent&&r<10;)i=e(t=t.parent),++r;return i}(t,op)}(o),s.write("<html><head>"+(null!=u?'<base href="'+function(t){var e=document.createElement("span");return e.textContent=t,e.innerHTML}(u)+'">':"")+"</head><body></body></html>"),s.close(),Promise.resolve(sp(t,null,s)).then((function(t){try{return a=t,c=o.getVPAIDAd(),n({iframe:i,vpaid:c,time:a})}catch(t){return r(t)}}),r)}catch(t){return r(t)}}),r)}))},cp={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5},lp=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror"],hp=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror"],fp=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError"],dp="undefined"!=typeof window&&void 0!==window.document?window.document:{},pp="fullscreenEnabled"in dp&&Object.keys(cp)||lp[0]in dp&&lp||hp[0]in dp&&hp||fp[0]in dp&&fp||[],vp={get changeEventType(){return pp[cp.fullscreenchange]},isActive:function(t){var e=t.ownerDocument,n=pp[cp.fullscreenElement];return null!=e&&e[n]===t},request:function(t){if(vp.isActive(t))return Promise.resolve();var e=pp[cp.requestFullscreen];return"function"!=typeof t[e]?Promise.reject(new Error("Not supported")):eh(t[e](),3e3)},exit:function(t){var e=pp[cp.exitFullscreen];return"function"!=typeof t[e]?Promise.reject(new Error("Not supported")):eh(t[e](),1e3)}},mp=Symbol("url"),gp=Symbol("options"),yp=Symbol("pubSub"),bp=Symbol("skippable"),_p=Symbol("slot"),Ap=Symbol("videoSlot"),wp=Symbol("clickSlot"),Ep=Symbol("width"),Sp=Symbol("height"),Pp=Symbol("viewMode"),kp=Symbol("volumeImpaired"),Tp=Symbol("volume"),Op=Symbol("paused"),xp=Symbol("stopped"),Cp=Symbol("loaded"),Ip=Symbol("clicked"),Mp=Symbol("requested"),jp=Symbol("domEventTracker"),Dp=Symbol("tickInterval"),Vp=Symbol("quartile"),Rp=Symbol("monitors"),Up=Symbol("lastTimeChangeTimestamp"),Np=tf,Lp={noMutedAutoplayFallback:!1,noPauseOnClickThrough:!1,skipOffset:null},Fp={1:"MEDIA_ERR_ABORTED",2:"MEDIA_ERR_NETWORK",3:"MEDIA_ERR_DECODE",4:"MEDIA_ERR_SRC_NOT_SUPPORTED"},Bp={position:"absolute",left:"0",top:"0",border:"0",margin:"0",padding:"0"},Gp=Object.assign({},Bp,{cursor:"pointer"}),Hp="duration",zp="remainingTime",Wp="volume",qp="size",Yp=((np={}).duration=[["getAdDuration"],"AdDurationChange"],np.remainingTime=[["getAdRemainingTime"],"AdRemainingTimeChange"],np.volume=[["getAdVolume"],"AdVolumeChange"],np.skippableState=[["getAdSkippableState"],"AdSkippableStateChange"],np.size=[["getAdWidth","getAdHeight"],"AdSizeChange"],np),Qp=function(){function t(t,e){this[mp]=t,this[gp]=Object.assign({},Lp,e),this[yp]=new df,this[bp]=null==this[gp].skipOffset,this[Ep]=bu,this[Sp]=bu,this[Pp]=null,this[kp]=!1,this[Tp]=bu,this[_p]=null,this[Ap]=null,this[Op]=!0,this[xp]=!1,this[Cp]=!1,this[Ip]=!1,this[Np]=!0,this[jp]=new Gc,this[Mp]={},this[Dp]=null,this[Vp]=-1,this[Rp]=this._buildMonitors(),this[Up]=Wl(),this._handleTimeChange=this._handleTimeChange.bind(this),this._onTick=this._onTick.bind(this);for(var n=0;n<Eu.length;++n){var r=Eu[n];this[r]=zl(this[r]).bind(this)}Yu({rel:"preconnect",href:t,pr:"1.0"})}var e=t.prototype;return e._getSlot=function(){return this[_p]},e.getAdLinear=function(){return!0},e.getAdWidth=function(){return this._isFullscreen()?screen.width:this[Ep]},e.getAdHeight=function(){return this._isFullscreen()?screen.height:this[Sp]},e.getAdExpanded=function(){return!1},e.getAdSkippableState=function(){return this[bp]},e.getAdRemainingTime=function(){if(this[Cp]&&null!=this[Ap]){var t=this[Ap],e=t.currentTime,n=t.duration;if(isFinite(e)&&isFinite(n)&&n>0&&e>=0)return n-e}return bu},e.getAdDuration=function(){if(this[Cp]&&null!=this[Ap]){var t=this[Ap].duration;if(isFinite(t)&&t>0)return t}return bu},e.getAdVolume=function(){if(this[Cp]&&null!=this[Ap]){var t=this[Ap],e=t.volume,n=t.muted;if("boolean"==typeof n&&n)return 0;if(isFinite(e))return e}return this[Tp]},e.setAdVolume=function(t){this[Tp]=t,null!=this[Ap]&&(this._setVolume(t),this[kp]&&this._notifyMonitor(Wp))},e.getAdCompanions=function(){return""},e.getAdIcons=function(){return!1},e.handshakeVersion=function(){return"2.0"},e.initAd=function(t,e,n,r,i,o){var s=this,u=o||{},a=u.videoSlot,c=u.slot,l=u.sendErrorInfo,h=null==c||null==c.ownerDocument;this[yp].options.sendErrorInfo=!0===l,h&&(c=document.createElement("div"),kc(c,Bp)),null==a&&(a=c.ownerDocument.createElement("video"),kc(a,Bp),c.appendChild(a)),this[_p]=c,this[Ap]=a,this[wp]=c.ownerDocument.createElement("div"),kc(this[wp],Gp,!0),c.appendChild(this[wp]),this[kp]=!("volume"in a&&"muted"in a),this._setDimensions(t,e,n,!1),this._preloadSrc(this[mp]);var f=function(){s._publish(_u.AdLoaded)};h?Uc(document).then((function(){document.body.appendChild(c),f()})):f()},e.resizeAd=function(t,e,n){this._setDimensions(t,e,n,!0)},e.startAd=function(){this._request(_u.AdImpression),this._addDomListeners(),this[Ap].pause(),this[Tp]>=0&&(this._setVolume(this[Tp]),this._notifyMonitor(Wp)),this._initVideoSlot(this[mp]),this[Cp]=!0,this._publish(_u.AdStarted),this[Op]=!1,this._play()},e.stopAd=function(){this._stop()},e.skipAd=function(){this._request(_u.AdSkipped),this._stop()},e.pauseAd=function(){this._pause()},e.resumeAd=function(){this._resume()},e.expandAd=function(){},e.collapseAd=function(){},e.subscribe=function(t,e,n){void 0===n&&(n=null),this[yp].subscribe(t,e,n)},e.unsubscribe=function(t,e){this[yp].unsubscribe(t,e)},e._publish=function(t,e){void 0===e&&(e=[]),this[yp].publish(t,e)},e._addDomListeners=function(){var t,e;this[jp].removeAll(),this[jp].add(this[wp],"click",this._onClickSlotClick,this).add((t=this[Ap].ownerDocument,null!=(e=t)&&"function"==typeof e.addEventListener?t:document),vp.changeEventType,this._onFullscreenchange,this).addMany(this[Ap],{durationchange:this._onVideoDurationchange,volumechange:this._onVideoVolumechange,playing:this._onVideoPlaying,play:this._onVideoPlay,pause:this._onVideoPause,seeked:this._onVideoSeeked,ended:this._onVideoEnded,error:this._onVideoError,timeupdate:this._onVideoTimeupdate},this)},e._onClickSlotClick=function(){this[xp]?this._publish(_u.AdClickThru,[null,null,!0]):this[Ip]&&this[Op]?this[Op]&&(this[Ip]=!1,this._resume()):(this[gp].noPauseOnClickThrough||this[Op]||this._pause(),this[Ip]=!0,this._publish(_u.AdClickThru,[null,null,!0]))},e._onTick=function(){Wl()-this[Up]>=245&&this._handleTimeChange()},e._onVideoDurationchange=function(){this._notifyMonitor(Hp),this._notifyMonitor(zp)},e._onVideoVolumechange=function(){this._notifyMonitor(Wp)},e._onVideoPlaying=function(){this._satisfy(_u.AdImpression),this._satisfy(_u.AdPlaying),this._startTicking()},e._onVideoPlay=function(){},e._onVideoPause=function(){this._stopTicking(),this._satisfy(_u.AdPaused),this._satisfyStopRequest()},e._onVideoSeeked=function(){this._notifyMonitor(zp)},e._onVideoEnded=function(){this._handleTimeChange(),this._stop()},e._onVideoError=function(){var t="Video Playback Error"+function(t){if(null==t||null==t.code&&Zu(t.message))return" (no error code, no error message)";var e=t.code,n=t.message;if(null==e)return": "+n+" (no error code)";var r=Fp[e];return null==r?Zu(n)?" (unknown error code "+e+", no error message)":": "+n+" (unknown error code "+e+")":": "+r+" "+(Zu(n)?"(no error message)":"- "+n)}(this[Ap].error),e=new $c(t,405,null,this[mp]),n={message:e.toString(),code:e.code,subject:e.subject};this._publish(_u.AdError,[n.message,n]),this._stop()},e._onVideoTimeupdate=function(){this._onTick()},e._preloadSrc=function(t){var e=this[Ap],n=e.src,r=e.currentSrc;null!=n&&""!==n||null!=r&&""!==r||(this[jp].add(this[Ap],"error",this._onVideoError,this),this._initVideoSlot(t))},e._initVideoSlot=function(t){"function"==typeof this[Ap].setAttribute?(this[Ap].setAttribute("playsinline","true"),this[Ap].setAttribute("webkit-playsinline","true")):this[Ap].playsInline=!0,this[Ap].autoplay=!1,this[Ap].controls=!1,this[Ap].loop=!1,this[Ap].src=t},e._setDimensions=function(t,e,n,r){var i=this;"fullscreen"===n?this._requestFullscreen().catch((function(t){i._publishAdLog("Fullscreen mode failed: "+t)})):this._exitFullscreen().catch(Dc).then((function(){i._setDimensionsNormal(t,e),r&&i._notifyMonitor(qp)}))},e._setDimensionsNormal=function(t,e){this[Ep]=t,this[Sp]=e,this[Pp]="normal";var n={width:t+"px",height:e+"px"};kc(this[Ap],n),kc(this[_p],n),kc(this[wp],n,!0)},e._requestFullscreen=function(){return this._isFullscreen()?Promise.resolve():vp.request(this[Ap]).then((function(){}),(function(t){throw t}))},e._exitFullscreen=function(){return this._isFullscreen()?vp.exit(this[Ap].ownerDocument).catch((function(t){throw t})):Promise.resolve()},e._onFullscreenchange=function(){var t=this._isFullscreen()?"fullscreen":"normal";t!==this[Pp]&&(this[Pp]=t,this._notifyMonitor(qp))},e._isFullscreen=function(){return null!=this[Ap]&&vp.isActive(this[Ap])},e._setVolume=function(t){this[Ap].volume!==t&&(this[Ap].volume=t);var e=0===t;this[Ap].muted!==e&&(this[Ap].muted=e)},e._play=function(){var t=this,e=this[gp].noMutedAutoplayFallback,n=this[Ap].muted,r=this[Ap].play();null!=r&&"function"==typeof r.catch?(this._publish(_u.AdMutedUnmutedPlayback,n?[{mutedPlaybackAttempted:!0}]:[{unmutedPlaybackAttempted:!0}]),r.then((function(){t._publish(_u.AdMutedUnmutedPlayback,[{playbackSuccessful:!0}])})).catch((function(r){if(n)throw r;if(t._publishAdLog("Unmuted playback failed: "+r),t[Op])t._publishAdLog("Unmuted playback failed and ad is paused, not falling back to muted playback"),t._publish(_u.AdMutedUnmutedPlayback,[{playbackSuccessful:!1,adPaused:!0}]);else{if(!e)return t._publishAdLog("Unmuted playback failed, attempting fallback to muted playback"),t[Ap].muted=!0,t._publish(_u.AdMutedUnmutedPlayback,[{mutedPlaybackAttempted:!0}]),t[Ap].play();t._publishAdLog("Unmuted playback failed and fallback to muted playback disabled, giving up"),t._publish(_u.AdMutedUnmutedPlayback,[{playbackSuccessful:!1,mutedPlaybackDisabled:!0}])}})).catch((function(e){t._publish(_u.AdMutedUnmutedPlayback,[{playbackSuccessful:!1}]),t._publishAdLog("Muted playback failed: "+e)}))):this._publishAdLog("Video slot does not report disallowed play attempts")},e._pause=function(){this[Op]=!0,null==this[Ap]||this[Ap].paused?this._publish(_u.AdPaused):(this._request(_u.AdPaused),this[Ap].pause())},e._resume=function(){this[Op]=!1,null!=this[Ap]&&this[Ap].paused?(this._request(_u.AdPlaying),this._play()):this._publish(_u.AdPlaying)},e._stop=function(){this._stopTicking(),this[Op]=!0,this[xp]=!0,this._request(_u.AdStopped),null==this[Ap]||this[Ap].paused||this[Ap].ended?this._satisfyStopRequest():this[Ap].pause()},e._satisfyStopRequest=function(){this._requested(_u.AdStopped)&&(this[gp].autoDisposeDisabled||this[jp].removeAll(),null!=this[Ap]&&this._resetMediaSrc(),this._satisfy(_u.AdSkipped),this._satisfy(_u.AdStopped))},e._resetMediaSrc=function(){var t=this[Ap];"function"==typeof t.removeAttribute?(t.removeAttribute("src"),t.load()):t.src="",this[Cp]=!1},e._startTicking=function(){null==this[Dp]&&(this[Dp]=setInterval(this._onTick,250),this._handleTimeChange())},e._stopTicking=function(){null!=this[Dp]&&(this._handleTimeChange(),clearInterval(this[Dp]),this[Dp]=null)},e._handleTimeChange=function(){if(this[Up]=Wl(),this[Cp]){var t=this[Ap];null==t||t.readyState<1||null!=t.error||(this._notifyMonitor(Hp),this._notifyMonitor(zp),this._handleSkippableState(),this._handleQuartiles())}},e._handleSkippableState=function(){var t=this[gp].skipOffset,e=this[Ap].currentTime;!this[bp]&&"number"==typeof t&&e>=t&&(this[bp]=!0,this._notifyMonitor("skippableState"))},e._handleQuartiles=function(){var t,e=this[Ap],n=e.currentTime,r=e.duration,i=e.ended,o=e.played,s=null!=o&&o.length>0?(t=o,Array.apply(null,t).reduce((function(e,n,r){return e+t.end(r)-t.start(r)}),0)):n;if(!(!isFinite(s)||s<0||!isFinite(r)||r<=0)){var u=this[Vp],a=i?.25:0;this[Vp]=Math.min(Math.max(u,Math.floor((s+a)/r*4)),4);for(var c=u+1;c<=this[Vp];++c)this._publish(ku[c])}},e._request=function(t){this[Mp][t]=!0},e._requested=function(t){return!!this[Mp][t]},e._satisfy=function(t){this._requested(t)&&(this[Mp][t]=!1,this._publish(t))},e._buildMonitors=function(){for(var t={},e=Object.keys(Yp),n=0;n<e.length;++n){var r=e[n],i=Yp[r],o=i[0],s=i[1];t[r]=this._buildMonitor(o,s)}return t},e._buildMonitor=function(t,e){var n=this,r=function(){return t.map((function(t){return n[t]()})).join("\0")},i=r();return function(){var t=r();t!==i&&(i=t,n._publish(e))}},e._notifyMonitor=function(t){this[Rp][t]()},e._publishAdLog=function(t){this._publish(_u.AdLog,[t])},t}(),Xp=Hh,$p=Kh,Kp=Jh,Zp=[/\/adbridge-vpaid\.min\.js(?:\?|#|$)/,/\/\/(?:www\.)?wootag\.com\/player\/(?:ad\/)?v3\/bundle\.js(?:\?|#|$)/,/\/\/(?:www\.)?viewbix\.com\/plugins\/vpaid\.bundle\.js(?:\?|#|$)/,/\/\/(?:[^/]+\.)?(?:ssl-images|media)-amazon\.com\//],Jp=Xh,tv=Hh,ev={},nv={},rv={},iv={},ov={};Object.defineProperty(ov,"__esModule",{value:!0}),ov.GDPR_CONSENT=ov.GDPR_APPLIES=ov.CACHE_BUSTER=ov.QUEUE_TIME=ov.DATA_SOURCE=ov.ANONYMIZE_IP=ov.CMP=ov.CTX=ov.TRACKING_ID=ov.PROTOCOL_VERSION=void 0,ov.PROTOCOL_VERSION="v",ov.TRACKING_ID="tid",ov.CTX="ctx",ov.CMP="cmp",ov.ANONYMIZE_IP="aip",ov.DATA_SOURCE="ds",ov.QUEUE_TIME="qt",ov.CACHE_BUSTER="z",ov.GDPR_APPLIES="gdpr",ov.GDPR_CONSENT="gdpr_consent";var sv=I,uv=ii.exports.onFreeze;Te("freeze",(function(t){return function(e){return t&&sv(e)?t(uv(e)):e}}));var av={};Object.defineProperty(av,"__esModule",{value:!0}),av.CACHE_BUSTER_MODE=void 0,av.CACHE_BUSTER_MODE=Object.freeze({DISABLED:"DISABLED",DATE:"DATE",MACRO:"MACRO",CUSTOM:"CUSTOM"});var cv={};Object.defineProperty(cv,"__esModule",{value:!0}),cv.USER_ID=cv.CLIENT_ID=void 0,cv.CLIENT_ID="cid",cv.USER_ID="uid";var lv={};Object.defineProperty(lv,"__esModule",{value:!0}),lv.GOOGLE_DISPLAY_ADS_ID=lv.GOOGLE_ADWORDS_ID=lv.CAMPAIGN_ID=lv.CAMPAIGN_CONTENT=lv.CAMPAIGN_KEYWORD=lv.CAMPAIGN_MEDIUM=lv.CAMPAIGN_SOURCE=lv.CAMPAIGN_NAME=lv.DOCUMENT_REFERRER=void 0,lv.DOCUMENT_REFERRER="dr",lv.CAMPAIGN_NAME="cn",lv.CAMPAIGN_SOURCE="cs",lv.CAMPAIGN_MEDIUM="cm",lv.CAMPAIGN_KEYWORD="ck",lv.CAMPAIGN_CONTENT="cc",lv.CAMPAIGN_ID="ci",lv.GOOGLE_ADWORDS_ID="gclid",lv.GOOGLE_DISPLAY_ADS_ID="dclid";var hv={};Object.defineProperty(hv,"__esModule",{value:!0}),hv.HIT_TYPE_TIMING=hv.HIT_TYPE_EXCEPTION=hv.HIT_TYPE_SOCIAL=hv.HIT_TYPE_ITEM=hv.HIT_TYPE_TRANSACTION=hv.HIT_TYPE_EVENT=hv.HIT_TYPE_SCREENVIEW=hv.HIT_TYPE_PAGEVIEW=hv.NON_INTERACTION_HIT=hv.HIT_TYPE=void 0,hv.HIT_TYPE="t",hv.NON_INTERACTION_HIT="ni",hv.HIT_TYPE_PAGEVIEW="pageview",hv.HIT_TYPE_SCREENVIEW="screenview",hv.HIT_TYPE_EVENT="event",hv.HIT_TYPE_TRANSACTION="transaction",hv.HIT_TYPE_ITEM="item",hv.HIT_TYPE_SOCIAL="social",hv.HIT_TYPE_EXCEPTION="exception",hv.HIT_TYPE_TIMING="timing";var fv={};Object.defineProperty(fv,"__esModule",{value:!0}),fv.CUSTOM_METRIC_PREFIX=fv.CUSTOM_DIMENSION_PREFIX=void 0,fv.CUSTOM_DIMENSION_PREFIX="cd",fv.CUSTOM_METRIC_PREFIX="cm",Object.defineProperty(iv,"__esModule",{value:!0}),iv.UrlBuilder=void 0;var dv=ov,pv=av,vv=cv,mv=lv,gv=hv,yv=fv,bv=function(t,e,n){return encodeURIComponent(t)+"="+(n?encodeURIComponent(e):e)},_v=function(){function t(t){this._options={},this._params={},this._baseUrl=null,this._options=Object.assign({},t),this._params={},this.setProtocolVersion(1)}var e=t.prototype;return e.build=function(){return this._baseUrl+"?"+this.buildQueryString()},e.buildQueryString=function(){return Object.entries(this._params).filter((function(t){return null!=t[0]})).map((function(t){var e=t[0],n=t[1],r=n.value,i=n.encodeValue;return Array.isArray(r)?r.map((function(t){return bv(e,t,i)})).join("&"):bv(e,r,i)})).join("&")+this.buildCacheBusterQueryStr()},e.buildCacheBusterQueryStr=function(){var t;switch(this._options.hasOwnProperty(dv.CACHE_BUSTER)||this.setCacheBusterMode(pv.CACHE_BUSTER_MODE.DATE),this._options[dv.CACHE_BUSTER]){case pv.CACHE_BUSTER_MODE.CUSTOM:var e=null!=this._params[dv.CACHE_BUSTER]?this._params[dv.CACHE_BUSTER].value:void 0;delete this._params[dv.CACHE_BUSTER],t=encodeURIComponent((e||"").toString());break;case pv.CACHE_BUSTER_MODE.MACRO:t="[CACHEBUSTING]";break;case pv.CACHE_BUSTER_MODE.DATE:var n=1e6+Math.floor(9e6*Math.random());t=""+(new Date).getTime()+n;break;case pv.CACHE_BUSTER_MODE.DISABLED:default:return""}return"&"+dv.CACHE_BUSTER+"="+t},e.setBaseUrl=function(t){return this._baseUrl=t,this},e.set=function(t,e,n){return void 0===n&&(n=!0),null!=e&&(this._params[t]={value:e,encodeValue:n}),this},e.setCacheBusterMode=function(t){return null!=t&&(this._options[dv.CACHE_BUSTER]=t),this},e.setProtocolVersion=function(t){return this.set(dv.PROTOCOL_VERSION,t)},e.setCtx=function(t){return this.set(dv.CTX,t)},e.setCmp=function(t){return this.set(dv.CMP,t)},e.setTrackingId=function(t){return this.set(dv.TRACKING_ID,t)},e.setClientId=function(t){return this.set(vv.CLIENT_ID,t)},e.setHitType=function(t){return this.set(gv.HIT_TYPE,t)},e.setDocumentReferrer=function(t){return this.set(mv.DOCUMENT_REFERRER,t)},e.setCampaignName=function(t){return this.set(mv.CAMPAIGN_NAME,t)},e.setCampaignSource=function(t){return this.set(mv.CAMPAIGN_SOURCE,t)},e.setCampaignMedium=function(t){return this.set(mv.CAMPAIGN_MEDIUM,t)},e.setCampaignKeyword=function(t){return this.set(mv.CAMPAIGN_KEYWORD,t)},e.setCampaignContent=function(t){return this.set(mv.CAMPAIGN_CONTENT,t)},e.setCampaignId=function(t){return this.set(mv.CAMPAIGN_ID,t)},e.setCustomDimension=function(t,e,n){return void 0===n&&(n=!0),this.set(yv.CUSTOM_DIMENSION_PREFIX+t,e,n)},e.setCustomMetric=function(t,e,n){return void 0===n&&(n=!0),this.set(yv.CUSTOM_METRIC_PREFIX+t,e,n)},e.setGdprApplies=function(t){return this.set(dv.GDPR_APPLIES,t)},e.setGdprConsent=function(t){return this.set(dv.GDPR_CONSENT,t)},Vr(t,[{key:"options",get:function(){return this._options}}]),t}();iv.UrlBuilder=_v;var Av={};Object.defineProperty(Av,"__esModule",{value:!0}),Av.EVENT_VALUE=Av.EVENT_LABEL=Av.EVENT_ACTION=Av.EVENT_CATEGORY=void 0,Av.EVENT_CATEGORY="ec",Av.EVENT_ACTION="ea",Av.EVENT_LABEL="el",Av.EVENT_VALUE="ev",Object.defineProperty(rv,"__esModule",{value:!0}),rv.EventUrlBuilder=void 0;var wv=hv,Ev=Av,Sv=function(t){function e(e){var n;return(n=t.call(this,e)||this).setHitType(wv.HIT_TYPE_EVENT),n}Rr(e,t);var n=e.prototype;return n.setEventCategory=function(t){return this.set(Ev.EVENT_CATEGORY,t)},n.setEventAction=function(t){return this.set(Ev.EVENT_ACTION,t)},n.setEventLabel=function(t){return this.set(Ev.EVENT_LABEL,t)},n.setEventValue=function(t){return this.set(Ev.EVENT_VALUE,t)},e}(iv.UrlBuilder);rv.EventUrlBuilder=Sv;var Pv={};Object.defineProperty(Pv,"__esModule",{value:!0}),Pv.default=function(t,e){void 0===e&&(e=!1),t.setBaseUrl("https://www.google-analytics.com/"+(e?"debug/collect":"collect"))};var kv=t&&t.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(nv,"__esModule",{value:!0}),nv.GoogleAnalyticsEventUrlBuilder=void 0;var Tv=rv,Ov=kv(Pv),xv=function(t){function e(e){var n;return n=t.call(this,e)||this,(0,Ov.default)(Nr(n),!!e.debug),n}return Rr(e,t),e}(Tv.EventUrlBuilder);nv.GoogleAnalyticsEventUrlBuilder=xv;var Cv={},Iv={},Mv=t&&t.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Iv,"__esModule",{value:!0}),Iv.TrackingPixel=void 0;var jv=Mv((function(){var t={};return t.promise=new Promise((function(e,n){t.resolve=e,t.reject=n})),t})),Dv={timeout:2e3,postAllowed:!1,styles:{position:"absolute",top:0,left:0,width:0,height:0,border:0,pointerEvents:"none",visibility:"hidden"}},Vv=function(){},Rv=function(){function t(t,e){void 0===e&&(e={}),this._deferred=null,this._image=null,this._url=t,this._options=Object.assign({},Dv,e);var n=window,r=0;try{for(;r<10&&n.parent!==n&&null!=n.parent.document.createElement("img");)n=n.parent,++r}catch(t){}this._window=n}var e=t.prototype;return e.load=function(){return null!=this._deferred?Promise.reject(new Error("Already loading")):(this._deferred=(0,jv.default)(),this._deferred.promise.catch(Vv),(this._options.postAllowed&&"function"==typeof navigator.sendBeacon?this._sendBeacon:this._loadPixel).call(this),this._deferred.promise)},e.dispose=function(){this._rejectWith("Disposed")},e._sendBeacon=function(){var t=navigator.sendBeacon(this._url,"");null!=this._deferred&&(t?this._deferred.resolve():this._deferred.reject(new Error("Failed")))},e._loadPixel=function(){this._image=this._window.document.createElement("img"),this._image.src=this._url,Object.assign(this._image.style,this._options.styles),this._image.onload=this._onImageLoad.bind(this),this._image.onerror=this._onImageError.bind(this),this._window.document.body.appendChild(this._image),setTimeout(this._onImageTimeout.bind(this),this._options.timeout)},e._onImageLoad=function(){null!=this._deferred&&this._deferred.resolve(),this._remove()},e._onImageError=function(){this._rejectWith("Unknown error")},e._onImageTimeout=function(){this._rejectWith("Timed out")},e._rejectWith=function(t){null!=this._deferred&&this._deferred.reject(new Error(t)),this._remove()},e._remove=function(){null!=this._image&&(null!=this._image.parentNode&&this._image.parentNode.removeChild(this._image),this._image=null)},Vr(t,[{key:"promise",get:function(){return null!=this._deferred?this._deferred.promise:null}}]),t}();Iv.TrackingPixel=Rv;var Uv={};Object.defineProperty(Uv,"__esModule",{value:!0}),Uv.createSingleton=void 0,Uv.createSingleton=function(t){var e=null;return function(){if(null==e){var n=new t;return e=n,n}return e}},Object.defineProperty(Cv,"__esModule",{value:!0}),Cv.completeTracking=Cv.getInstance=Cv.Tracker=void 0;var Nv=Iv,Lv=Uv,Fv=Symbol("tracking"),Bv=function(){},Gv=[],Hv=function(){function t(){this[Fv]=[]}var e=t.prototype;return e.complete=function(){return new Promise(function(t,e){var n,r;function i(){return this[Fv].length>0?(n=this[Fv],this[Fv]=[],Promise.resolve(Promise.all(n)).then((function(t){try{return i}catch(t){return e(t)}}),e)):[1]}return(r=function(t){for(;t;){if(t.then)return void t.then(r,e);try{if(t.pop){if(t.length)return t.pop()?o.call(this):t;t=i}else t=t.call(this)}catch(t){return e(t)}}}.bind(this))(i);function o(){return t()}}.bind(this))},e.track=function(t,e){void 0===e&&(e={});var n=new Nv.TrackingPixel(t,e),r=n.load().catch(Bv);return this[Fv].push(r),Gv.push(r),n},t}();Cv.Tracker=Hv,Cv.getInstance=(0,Lv.createSingleton)(Hv),Cv.completeTracking=function(){return new Promise((function(t,e){var n,r;function i(){return Gv.length>0?(n=Gv,Gv=[],Promise.resolve(Promise.all(n)).then((function(t){try{return i}catch(t){return e(t)}}),e)):[1]}return(r=function(t){for(;t;){if(t.then)return void t.then(r,e);try{if(t.pop){if(t.length)return t.pop()?o.call(this):t;t=i}else t=t.call(this)}catch(t){return e(t)}}}.bind(this))(i);function o(){return t()}}))};var zv={},Wv={},qv={};Object.defineProperty(qv,"__esModule",{value:!0}),qv.default=function(t){t.setBaseUrl("https://pxsrv.net/")};var Yv=t&&t.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Wv,"__esModule",{value:!0}),Wv.PxsrvEventUrlBuilder=void 0;var Qv=rv,Xv=Yv(qv),$v=av,Kv=function(t){function e(e){var n;return n=t.call(this,e)||this,(0,Xv.default)(Nr(n)),null!=e&&e.vast&&n.setCacheBusterMode($v.CACHE_BUSTER_MODE.MACRO),n}Rr(e,t);var n=e.prototype;return n.setRedirectUrl=function(t){return this._redirectUrl=t,this},n.build=function(){return null!=this._redirectUrl?t.prototype.build.call(this)+"&redir="+this._redirectUrl:t.prototype.build.call(this)},e}(Qv.EventUrlBuilder);Wv.PxsrvEventUrlBuilder=Kv;var Zv={};Object.defineProperty(Zv,"__esModule",{value:!0}),Zv.default=function(){var t,e;for(e=t="";t++<36;e+=51*t&52?(15^t?8^((new Date).getTime()/1e9%1+Math.random())%1*(20^t?16:4):4).toString(16):"-");return e};var Jv=t&&t.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(zv,"__esModule",{value:!0}),zv.getInstance=zv.PxsrvTracker=void 0;var tm=Wv,em=Cv,nm=Jv(Zv),rm=Uv,im={placement:"ZA-",embed:"ZO-",wrapper:"ZW-"},om=function(t){function e(e){var n;return void 0===e&&(e=null),(n=t.call(this)||this)._ctx=null,n._trackingId=null,n._cmp=null,n._baseUrl=null,n._clientId=null,null!=e&&(n.config=e),n}Rr(e,t);var n=e.prototype;return n.trackEvent=function(t,e,n,r){if(null==this._trackingId&&null==this._ctx)throw new Error("Invalid pxsrv configuration");var i;i=null!=n&&"object"!=typeof n?Object.assign({},r,{label:n}):Object.assign({},n);var o=this.buildTrackingUrl(t,e,i);return this.track(o,{postAllowed:!0})},n.buildTrackingUrl=function(t,e,n){var r=new tm.PxsrvEventUrlBuilder;if(null!=this._ctx?r.setCtx(this._ctx):r.setTrackingId(this._trackingId),r.setCmp(this._cmp).setClientId(this._clientId).setEventCategory(t).setEventAction(e).setEventLabel(n.label).setEventValue(n.value).setGdprApplies(n.gdpr).setGdprConsent(n.gdpr_consent),null!=n.customDimensions&&Object.keys(n.customDimensions).forEach((function(t){r.setCustomDimension(t,n.customDimensions[t])})),null!=n.customMetrics&&Object.keys(n.customMetrics).forEach((function(t){r.setCustomMetric(t,n.customMetrics[t])})),null!=n.redirectUrl&&r.setRedirectUrl(n.redirectUrl),r.setCacheBusterMode(n.cacheBusterMode),null!=this._baseUrl){var i="function"==typeof this._baseUrl?this._baseUrl(t,e,n):this._baseUrl;r.setBaseUrl(i)}return r.build()},Vr(e,[{key:"config",set:function(t){null!=t.ctx?this._ctx=t.ctx:this._trackingId=function(t){null!=t.placement&&null!=t.campaign&&(t={placement:t.campaign+"-"+t.placement});var e=Object.keys(im).find((function(e){return null!=t[e]}));if(null==e)throw new Error("Invalid pxsrv configuration");return im[e]+t[e]}(t),this._cmp=t.cmp,this._baseUrl=t.baseUrl,this._clientId=t.client||(0,nm.default)()}}]),e}(em.Tracker);zv.PxsrvTracker=om,zv.getInstance=(0,rm.createSingleton)(om),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CACHE_BUSTER_MODE=t.PxsrvEventUrlBuilder=t.getPxsrvTrackerInstance=t.PxsrvTracker=t.TrackingPixel=t.completeTracking=t.getTrackerInstance=t.Tracker=t.GoogleAnalyticsEventUrlBuilder=void 0;var e=nv;Object.defineProperty(t,"GoogleAnalyticsEventUrlBuilder",{enumerable:!0,get:function(){return e.GoogleAnalyticsEventUrlBuilder}});var n=Cv;Object.defineProperty(t,"Tracker",{enumerable:!0,get:function(){return n.Tracker}}),Object.defineProperty(t,"getTrackerInstance",{enumerable:!0,get:function(){return n.getInstance}}),Object.defineProperty(t,"completeTracking",{enumerable:!0,get:function(){return n.completeTracking}});var r=Iv;Object.defineProperty(t,"TrackingPixel",{enumerable:!0,get:function(){return r.TrackingPixel}});var i=zv;Object.defineProperty(t,"PxsrvTracker",{enumerable:!0,get:function(){return i.PxsrvTracker}}),Object.defineProperty(t,"getPxsrvTrackerInstance",{enumerable:!0,get:function(){return i.getInstance}});var o=Wv;Object.defineProperty(t,"PxsrvEventUrlBuilder",{enumerable:!0,get:function(){return o.PxsrvEventUrlBuilder}});var s=av;Object.defineProperty(t,"CACHE_BUSTER_MODE",{enumerable:!0,get:function(){return s.CACHE_BUSTER_MODE}})}(ev);var sm=["GuestNotAvailableError","MethodNotAvailableError"],um=["initAd","startAd","stopAd","skipAd"],am=Hh,cm=function(t,e,n){null==t[e]&&(t[e]=function(){var t=null;try{for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];t=this._phasedGuestCallSync(e,i)}catch(e){if(!(null!=e&&sm.indexOf(e.name)>=0))throw e;t=n}return t})},lm=function(t,e){null==t[e]&&(t[e]=function(){var t=this;um.indexOf(e)>=0&&this[am].track(e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];this._phasedGuestCall(e,r).catch((function(n){t._onError(n,e)}))})},hm=function(t){return function(t){return"string"==typeof t&&t.startsWith("data:")}(t)?"data:":t},fm=Symbol("timings"),dm=Symbol("eventCount"),pm=Symbol("lastEventTime"),vm=Symbol("handlers"),mm=Symbol("configured"),gm=Symbol("configuring"),ym=Symbol("gpdrApplies"),bm=Symbol("gdprConsent"),_m=Symbol("doNotSampleAdLoadedEvents"),Am=Hh,wm=tf,Em=Wl(),Sm=["start","load","initAd","AdLoaded","startAd","AdStarted"],Pm=Math.random()<.1,km=document,Tm=function(){var t=window,e=0;try{for(;e<10&&t.parent!==t&&null!=t.parent.location&&null!=t.parent.location.hostname;)t=t.parent,++e}catch(t){}return t}().location.hostname,Om=function(){function t(t){var e=this;this[wm]=!0,this[fm]={start:Em},this[dm]=0,this[pm]=Em,this[vm]=[],this[mm]=!1,this[gm]=Vc(),this[ym]=null,this[bm]=null,this[_m]=!1;var n=function(e){var n=t[Am].guestInfo.mediaFile;return null==n||oa(n)?void 0:n[e]};this.addEventLabel((function(){return hm(t[Am].hostInfo.originVastUrl)})),this.addDimension(136,(function(){var e=t[Am].contextInfo.uriBlacklistedForFriendlyIframe;return null==e?null:e<<1|t[Am].isFlagEnabled(4)})),this.addDimension(137,(function(){var e=t[Am].contextInfo,n=e.imaSdkPresent,r=e.hasImaVpaidMediaFiles,i=e.hasNonImaVpaidMediaFiles;return null==n||null==r||null==i?null:(n?"Y":"N")+(r?"Y":"N")+(t[Am].isFlagEnabled(2)?"Y":"N")+(i?"Y":"N")})),this.addDimension(140,(function(){return t[Am].videoPlaybackContext.toString()})),this.addDimension(138,(function(){var e=t[Am].contextInfo.slotProvidedOnInitAd;return null==e?null:e?"1":"0"})),this.addDimension(139,(function(){var e=t[Am].contextInfo.videoSlotProvidedOnInitAd;return null==e?null:e?"1":"0"})),this.addDimension(100,(function(){return t[Am].hostInfo.viewMode})),this.addDimension(104,(function(){return n("type")})),this.addDimension(103,(function(){return hm(n("uri"))})),this.addDimension(105,(function(){return"vpaid-transformer@0.21.17+js"})),this.addDimension(107,(function(){return km.readyState})),this.addDimension(171,(function(){return Tm})),this.addDimension(109,(function(){return hm(t[Am].hostInfo.innermostVastUrl)})),this.addDimension(116,(function(){return 0===t[Am].hostInfo.vastChainInfo.length?null:t[Am].hostInfo.vastChainInfo.map((function(t){return t.join(":")})).join(",")})),this.addMetric(100,(function(){return t.getAdWidth()})),this.addMetric(101,(function(){return t.getAdHeight()})),this.addMetric(104,(function(){return t.getAdVolume()})),this.addMetric(105,(function(){return n("width")})),this.addMetric(106,(function(){return n("height")})),this.addMetric(107,(function(){return n("bitrate")})),this.addMetric(108,(function(){return t[Am].hostInfo.desiredBitrate})),this.addMetric(109,(function(){var t=function(){var t=window.navigator&&window.navigator.connection&&window.navigator.connection.downlink;return null!=t?1024*t:1/0}();return isFinite(t)?t:-1})),this.addMetric(110,(function(){return Wl()-Em})),this.addMetric(111,(function(){var t=Wl(),n=t-e[pm];return e[pm]=t,n})),this.addMetric(112,(function(){return t[Am].hostInfo.width})),this.addMetric(113,(function(){return t[Am].hostInfo.height})),this.addMetric(167,(function(){return t.getAdDuration()}));for(var r=function(t){var n=180+t,r=Sm[t],i=Sm[t+1];e.addMetric(n,(function(){return e._getTimingInfo(r,i)}))},i=0;i<Sm.length-1;i++)r(i);window.addEventListener("unload",(function(){return e.track("global-unload")})),window.addEventListener("error",(function(t){return e.trackError("global-error",function(t){if(null!=t){var e=t.error;return null!=e?e:{message:t.message,filename:t.filename,lineno:t.lineno,colno:t.colno}}return"[Unknown error]"}(t))}));var o=function(n){return t.subscribe((function(){return e.track(n)}),n)};o(_u.AdStarted),o(_u.AdImpression),o(_u.AdStopped),t.subscribe(this._handleAdLoadedEvent,_u.AdLoaded,this),t.subscribe(this._handleAdErrorEvent,_u.AdError,this);var s=null;try{var u=tl().src,a=xl(u);s=ih(a)}catch(t){}this.track("load",null,s)}var e=t.prototype;return e._handleAdErrorEvent=function(t,e){var n,r=null==e?null:e.code,i=null==r?null:((n={})[10]=r,n);this.trackError(_u.AdError,t,i,null,!0)},e._handleAdLoadedEvent=function(){this.track(_u.AdLoaded,null,null,this[_m]||false)},e.configure=function(t){var e=this,n=t.wrapperId,r=t.customDimensions,i=t.customMetrics,o=t.trackingUri,s=t.trackingHost,u=t.adServingId,a=t.ctx,c=t.cmp,l=t.gdpr,h=t.gdpr_consent,f=t.alwaysTrackVastChains,d=void 0!==f&&f;if(!(this[mm]||null==n&&null==a)){var p={ctx:a,wrapper:n,cmp:c};this._logIds(p),null!=o?p.baseUrl=o:null!=s&&(p.baseUrl="https://"+s),null!=u&&(p.client=u),ev.getPxsrvTrackerInstance().config=p,null!=r&&Object.keys(r).forEach((function(t){t!==116..toString()&&e.addDimension(t,(function(){return r[t]}))})),null!=i&&Object.keys(i).forEach((function(t){e.addMetric(t,(function(){return i[t]}))})),null!=l&&(this.gdprApplies=l),null!=h&&(this.gdprConsent=h),this[_m]=d,this[mm]=!0,this[gm].resolve()}},e._logIds=function(t){null!=t.cmp&&t.cmp,t.ctx},e.track=function(t,e,n,r){void 0===e&&(e=null),void 0===n&&(n=null),void 0===r&&(r=false);try{if(this._addTiming(t),!r&&(!Pm||this[dm]>=100))return;this[dm]++;var i=t+(r?"":"/10"),o=this._getPixelInfo(e,n);this._pxsrvTrack("vpaid",i,o)}catch(t){}},e.trackError=function(t,e,n,r,i){var o;void 0===n&&(n=null),void 0===r&&(r=null),void 0===i&&(i=!1);var s=Lh(e=e||"[Unknown error]"),u=Object.assign({},n,((o={})[110]=s.substring(0,1e3),o));this.track(t,u,r,i)},e.addEventLabel=function(t){this[vm].push((function(e){e.label=t()}))},e.addDimension=function(t,e){this._addField("customDimensions",t,e)},e.addMetric=function(t,e){this._addField("customMetrics",t,e)},e._addField=function(t,e,n){this[vm].push((function(r){r[t][""+e]=n()}))},e._addTiming=function(t){null==this[fm][t]&&(this[fm][t]=Wl())},e._pxsrvTrack=function(t,e,n){var r=this;this[mm]?ev.getPxsrvTrackerInstance().trackEvent(t,e,n):this[gm].promise.then((function(){n=r._mergeOptions(r._getPixelInfo(null,null),n),ev.getPxsrvTrackerInstance().trackEvent(t,e,n)}))},e._mergeOptions=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return{customDimensions:Object.assign.apply(Object,[{}].concat(e.map((function(t){return t.customDimensions})))),customMetrics:Object.assign.apply(Object,[{}].concat(e.map((function(t){return t.customMetrics})))),gdpr:this._findOption("gdpr",e),gdpr_consent:this._findOption("gdpr_consent",e),label:this._findOption("label",e)}},e._findOption=function(t,e){var n=e.find((function(e){return null!=e[t]}));return null!=n?n[t]:null},e._getPixelInfo=function(t,e){var n={customDimensions:{},customMetrics:{},gdpr:this.gdprApplies,gdpr_consent:this.gdprConsent,label:null};return this[vm].forEach((function(t){try{t(n)}catch(t){}})),Object.assign(n.customDimensions,t),Object.assign(n.customMetrics,e),n},e._getTimingInfo=function(t,e){var n=this[fm][t],r=this[fm][e];return null!=n&&n>0&&null!=r&&r>0?r-n:void 0},Vr(t,[{key:"configured",get:function(){return this[mm]}},{key:"gdprApplies",get:function(){return this[ym]},set:function(t){this[ym]=t}},{key:"gdprConsent",get:function(){return this[bm]},set:function(t){this[bm]=t}}]),t}(),xm={width:"100%",height:"100%",pointerEvents:"auto",position:"absolute",top:0,left:0},Cm=Symbol("host"),Im=Symbol("guest"),Mm=Symbol("config"),jm=Symbol("tracking"),Dm=Symbol("hostInfo"),Vm=Symbol("guestInfo"),Rm=Symbol("contextInfo"),Um=Symbol("container"),Nm=Symbol("topContainer"),Lm=Symbol("containerSelector"),Fm=Symbol("videoPlaybackContext"),Bm=Symbol("vastChainInfo"),Gm=$h,Hm=Xh,zm=zh,Wm=Wh,qm=qh,Ym=ef,Qm={wrapperId:null,duration:null,skipOffset:null,mediaFiles:[],adParameters:null,plugins:[],flags:0},Xm=function(t,e){var n=(t.ownerDocument||document).createElement("div");return n.id=e,Object.assign(n.style,xm),t.appendChild(n),n},$m=function(t){function e(e){var n;return(n=t.call(this)||this)[Cm]=e,n[Bm]=[],n}Rr(e,t);var n=e.prototype;return n.addAdParamsVastChainInfo=function(t){var e=this;t.split(",").forEach((function(t){var n=t.split(":");4===n.length&&n.push("0"),e[Bm].push(n)}))},n.addVastChainInfo=function(t,e,n,r){var i;try{i=Sl(e)}catch(t){i=""}this[Bm].push([t,i,n,r?"1":"0","1"])},Vr(e,[{key:"publishedEvents",get:function(){return this[Cm][Gm].published}},{key:"width",get:function(){return this._get("width")}},{key:"height",get:function(){return this._get("height")}},{key:"viewMode",get:function(){return this._get("viewMode")}},{key:"desiredBitrate",get:function(){return this._get("desiredBitrate")}},{key:"environmentVariables",get:function(){return this._get("environmentVariables")}},{key:"slot",get:function(){return this._get("slot")}},{key:"videoSlot",get:function(){return this._get("videoSlot")}},{key:"vastChain",get:function(){return this._get("vastChain")}},{key:"originVastUrl",get:function(){return this._get("originVastUrl")}},{key:"innermostVastUrl",get:function(){return this._get("innermostVastUrl")}},{key:"vastChainInfo",get:function(){return this[Bm]}}]),e}(Fc),Km=function(t){function e(){return t.apply(this,arguments)||this}return Rr(e,t),Vr(e,[{key:"mediaFile",get:function(){return this._get("mediaFile")}}]),e}(Fc),Zm=function(){this.uriBlacklistedForFriendlyIframe=null,this.imaSdkPresent=null,this.hasImaVpaidMediaFiles=null,this.hasNonImaVpaidMediaFiles=null,this.slotProvidedOnInitAd=null,this.videoSlotProvidedOnInitAd=null},Jm=function(){function t(){this.unmutedPlaybackAttempted=!1,this.mutedPlaybackAttempted=!1,this.playbackSuccessful=!1,this.mutedPlaybackDisabled=!1,this.adPaused=!1}return t.prototype.toString=function(){return(this.unmutedPlaybackAttempted?"Y":"N")+(this.mutedPlaybackAttempted?"Y":"N")+(this.playbackSuccessful?"Y":"N")+(this.mutedPlaybackDisabled?"Y":"N")+(this.adPaused?"Y":"N")},t}(),tg=function(){function t(t){this[Cm]=t,this[Im]=null,this[Dm]=new $m(t),this[Vm]=new Km,this[Rm]=new Zm,this[Mm]=Object.assign({},Qm),this[jm]=new Om(t),this[Um]=null,this[Lm]=null,this[qm]=zl(this[qm]),this[Ym]=null,this[Fm]=new Jm}var e=t.prototype;return e.publish=function(t,e,n){return void 0===e&&(e=[]),void 0===n&&(n=null),this[Cm]._publish(t,e,n)},e.track=function(){var t;(t=this[jm]).track.apply(t,arguments)},e.trackPixel=function(t,e){return t=function(t,e){return void 0===e&&(e={}),t.replace(rh,(function(t,n){var r=n.toLowerCase();return null!=nh[r]?nh[r](e):null!=e[r]?encodeURIComponent(""+e[r]):""}))}(t,e),new ev.TrackingPixel(t).load()},e.trackError=function(){var t;(t=this[jm]).trackError.apply(t,arguments)},e.isFlagEnabled=function(t){return 0!=(this[Mm].flags&t)},e[zm]=function(t){this[Mm]=Object.assign({},Qm,this[Mm],t),this[jm].configure(this[Mm])},e[Wm]=function(t){this[Im]=t},e[qm]=function(){var t=this[Dm].slot,e=t.ownerDocument||document,n="vpaid-container-"+Qu(),r=n+"-0",i=e.createElement("style");i.textContent="#"+r+", #"+r+" :not(html) { \n  margin: 0;\n  padding: 0;\n  border: 0;\n  font-size: 100%;\n  font: inherit;\n  vertical-align: baseline;\n  background: none;\n  opacity: 1;\n  border: none;\n  outline: none;\n  top: auto;\n  bottom: auto;\n  left: auto;\n  right: auto;\n }",t.appendChild(i);var o=Xm(t,r);this[Nm]=o;for(var s=o,u="#"+o.id,a=1;a<5;++a)u+=" #"+(s=Xm(s,n+"-"+a)).id;this[Um]=s,this[Lm]=u},Vr(t,[{key:"host",get:function(){return this[Cm]}},{key:"guest",get:function(){return this[Im]}},{key:"hostInfo",get:function(){return this[Dm]}},{key:"guestInfo",get:function(){return this[Vm]}},{key:"contextInfo",get:function(){return this[Rm]}},{key:"videoPlaybackContext",get:function(){return this[Fm]}},{key:"config",get:function(){return this[Mm]}},{key:"plugins",get:function(){return this[Cm][Hm].plugins}},{key:"tracking",get:function(){return this[jm]}},{key:"container",get:function(){return this[Um]}},{key:"topContainer",get:function(){return this[Nm]}},{key:"containerSelector",get:function(){return this[Lm]}},{key:"adParameters",get:function(){return this[Ym]}}]),t}(),eg=Symbol("guest"),ng=Symbol("guestVpaidVersion"),rg=Symbol("guestIframe"),ig=Symbol("guestSubscriptions"),og=Symbol("managingSlotSize"),sg=Symbol("hadError"),ug=Symbol("isLoaded"),ag=Xh,cg=$h,lg=Hh,hg=Kh,fg=Jh,dg=tf,pg=function(){function t(t){void 0===t&&(t={}),this[ag]=new th,this[cg]=new df,this[eg]=null,this[rg]=null,this[ig]=[],this[og]=!1,this[sg]=!1,this[ug]=!1,this[lg]=new tg(this),this[fg]=t}var e=t.prototype;return e.subscribe=function(t,e,n){var r=this;void 0===n&&(n=null),this[ag].runPhaseSync("subscribe",[t,e,n],(function(){r[cg].subscribe(t,e,n)}),(function(t){return r._onError(t,"subscribe")}))},e.unsubscribe=function(t,e){var n=this;this[ag].runPhaseSync("unsubscribe",[t,e],(function(){n[cg].unsubscribe(t,e)}),(function(t){return n._onError(t,"unsubscribe")}))},e.handshakeVersion=function(t){return this[ng]=t,"2.0"},e.initAd=function(t,e,n,r,i,o){this[lg].track("initAd"),this._initAdAsync(t,e,n,r,i,o)},e.resizeAd=function(t,e,n){var r=this,i=this[lg].hostInfo;try{i._putAll({width:t,height:e,viewMode:n}),this._phasedGuestCall("resizeAd",[t,e,n]).catch((function(t){r._onError(t,"resizeAd")}))}catch(t){this._onError(t,"resizeAd")}},e._createGuest=function(t){return new Promise((function(t,e){return e(new Error("Method is abstract"))}))},e._initAdAsync=function(t,e,n,r,i,o){return new Promise(function(s,u){var a,c,l,h,f,d,p,v,m,g;c=(a=this[lg]).hostInfo;var y=function(){try{return s()}catch(t){return u(t)}},b=function(t){try{return this._onError(t,"initAd"),y()}catch(t){return u(t)}}.bind(this);try{return c._putAll({width:t,height:e,viewMode:n,desiredBitrate:r,environmentVariables:o}),null==o?a.track("no-envvars"):(l=o.slot,h=o.videoSlot,f=o.sendErrorInfo,c._putAll({slot:l,videoSlot:h}),this[cg].options.sendErrorInfo=!0===f,null==l?a.contextInfo.slotProvidedOnInitAd=!1:(a.contextInfo.slotProvidedOnInitAd=!0,this[og]=null!=l.style&&(0===l.clientWidth||0===l.clientHeight),this._maybeResizeSlot(t,e)),a.contextInfo.videoSlotProvidedOnInitAd=null!=h),Promise.resolve(this._createGuest({width:t,height:e,viewMode:n,desiredBitrate:r,creativeData:i,envVars:o})).then(function(i){try{return p=(d=i).iframe,v=d.vpaid,m=d.adParameters,this[eg]=v,this[rg]=p,this._guestSubscribeAll(),Promise.resolve(this._phasedGuestCall("handshakeVersion",[this[ng]],!0)).then(function(i){try{return g={AdParameters:m},Promise.resolve(this._phasedGuestCall("initAd",[t,e,n,r,g,Object.assign({},o,{sendErrorInfo:!0})])).then((function(t){try{return y()}catch(t){return b(t)}}),b)}catch(t){return b(t)}}.bind(this),b)}catch(t){return b(t)}}.bind(this),b)}catch(t){b(t)}}.bind(this))},e._maybeResizeSlot=function(t,e){if(this[og]){var n=this[lg].hostInfo.slot;Object.assign(n.style,{width:t+"px",height:e+"px"})}},e._publish=function(t,e,n){switch(void 0===e&&(e=[]),void 0===n&&(n=null),t){case _u.AdError:var r=e[0];if(!this._processErrorAndDecideOnPublish({error:r,method:n}))return Promise.resolve();if("guest"!==n)return this._phasedGuestEvent(t,[Lh(r)]);break;case _u.AdClickThru:if("string"!=typeof e[0])return this._phasedGuestEvent(t,[this[hg]])}return this._phasedGuestEvent(t,e)},e._guestSubscribeAll=function(){for(var t=this,e=Object.keys(_u).map((function(t){return _u[t]})),n=function(n){var r=e[n],i=[function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t._onGuestEvent(r,n)},r];t._guestCall("subscribe",i),t[ig].push(i)},r=0;r<e.length;++r)n(r)},e._guestUnsubscribeAll=function(){if(null!=this[eg])for(var t=this[ig].splice(0),e=0;e<t.length;++e)try{this._guestCall("unsubscribe",t[e])}catch(t){}},e._onGuestEvent=function(t,e){switch(t){case _u.AdLoaded:this._handleAdLoadedGuestEvent(e);break;case _u.AdError:this._handleAdErrorGuestEvent(e);break;case _u.AdMutedUnmutedPlayback:this._handleAdMutedUnmutedPlayback(e);break;default:this._publish(t,e,"guest")}},e._handleAdMutedUnmutedPlayback=function(t){Object.assign(this[lg].videoPlaybackContext,t[0])},e._handleAdLoadedGuestEvent=function(t){this[ug]=!0,this._publish(_u.AdLoaded,t,"guest")},e._handleAdErrorGuestEvent=function(t){var e,n=t[0],r=t[1];e=this._guestIsInternalVpaid()?r:{message:"VAST error 901 due to AdError event"+(Zu(n)?" (no AdError message)":": "+n),code:901,cause:null==r?null:r},this._publish(_u.AdError,[e.message,e],"guest")},e._guestIsInternalVpaid=function(){return null!=this[eg]&&!0===this[eg][dg]},e._guestCall=function(t,e){if(null==this[eg])throw new Xc;if(!1===this[ug]&&"initAd"!==t&&"subscribe"!==t&&"unsubscribe"!==t&&"handshakeVersion"!==t)throw new Xc;"resizeAd"===t&&this._maybeResizeSlot.apply(this,e);var n=this[eg][t];if("function"!=typeof n)throw new Kc(t);return n.apply(this[eg],e)},e._phasedGuestCallSync=function(t,e){var n=this;return this[ag].runPhaseSync(t,e,(function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return n._guestCall(t,r)}),(function(e){return n._onError(e,t,!0)}))},e._phasedGuestCall=function(t,e,n){return new Promise(function(r,i){var o;o=this,void 0===n&&(n=!1);var s=function(){try{return r()}catch(t){return i(t)}},u=function(e){try{return this._onError(e,t,!0),s()}catch(t){return i(t)}}.bind(this);try{return Promise.resolve(this[ag].runPhase(t,e,(function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var s=o._guestCall(t,r);return n?s:null}),(function(){return o[sg]}))).then((function(t){try{return s()}catch(t){return u(t)}}),u)}catch(t){u(t)}}.bind(this))},e._phasedGuestEvent=function(t,e){return new Promise(function(n,r){var i;i=this;var o=function(){try{return t===_u.AdStopped&&this._removeGuestIframe(),t===_u.AdError&&this[fg].destroyAdOnAdError&&(this._unloadVideoSlot(),this._removeGuestIframe(),this._removeAdContainers()),n()}catch(t){return r(t)}}.bind(this),s=function(e){try{return this._onError(e,t),o()}catch(t){return r(t)}}.bind(this);try{return Promise.resolve(this[ag].runPhase(t,e,(function(){var e=arguments;return new Promise((function(n,r){var o,s,u;if(Tu.indexOf(t)>=0)return Promise.resolve(i._dispose()).then(function(t){try{return a.call(this)}catch(t){return r(t)}}.bind(this),r);function a(){for(o=e.length,s=new Array(o),u=0;u<o;u++)s[u]=e[u];return i[cg].publish(t,s),n()}return a.call(this)}))}),(function(){return i[sg]&&Tu.indexOf(t)<0}))).then((function(t){try{return o()}catch(t){return s(t)}}),s)}catch(t){s(t)}}.bind(this))},e._removeGuestIframe=function(){try{this[rg].parentNode.removeChild(this[rg])}catch(t){}this[rg]=null},e._removeAdContainers=function(){try{this[lg].topContainer.parentNode.removeChild(this[lg].topContainer)}catch(t){}},e._unloadVideoSlot=function(){try{var t=this[lg].hostInfo.videoSlot;t.pause(),t.removeAttribute("src"),t.load()}catch(t){}},e._addPlugin=function(t){this[ag].addPlugin(t)},e._processErrorAndDecideOnPublish=function(t,e){if(null!=t&&"GuestNotAvailableError"===t.name)return!1;var n=!this[sg];return n&&(this[sg]=!0,this._guestUnsubscribeAll()),n},e._createErrorMessage=function(t,e,n){return void 0===n&&(n=!1),t instanceof $c?t.toString():n?"VAST error 901 due to error on "+e+(null==t||Zu(t.message)?" (no error message)":": "+t.message):null==t.message?"Unknown internal error":Lh(t.message).substring(0,1e3)},e._onError=function(t,e,n){if(void 0===n&&(n=!1),this._processErrorAndDecideOnPublish(t,e)){var r=this._createErrorMessage(t,e,n);this._phasedGuestEvent(_u.AdError,[r,{message:r,code:null!=t.code?t.code:"901"}])}},e._dispose=function(){return new Promise(function(t,e){if(this[fg].autoDisposeDisabled)return t();var n=function(){try{var n=function(){try{return t()}catch(t){return e(t)}},r=function(t){try{return n()}catch(t){return e(t)}};try{return Promise.resolve(ev.completeTracking()).then((function(t){try{return n()}catch(t){return r()}}),r)}catch(t){r()}}catch(t){return e(t)}},r=function(t){try{return n()}catch(t){return e(t)}};try{return Promise.resolve(this[ag].dispose()).then((function(t){try{return n()}catch(t){return r()}}),r)}catch(t){r()}}.bind(this))},t}();!function(t){!function(t){for(var e=Object.keys(Pu),n=0;n<e.length;n++){var r=e[n],i=Pu[r],o=i.defaultValue,s=i.writable,u=Ql(r);cm(t,"get"+u,o),s&&lm(t,"set"+u)}}(t),function(t){for(var e=Object.keys(wu).map((function(t){return wu[t]})),n=0;n<e.length;++n){var r=e[n];lm(t,r)}}(t)}(pg.prototype);var vg,mg,gg=Hh,yg=zh,bg=Wh,_g=Zh,Ag=Symbol("loaders"),wg=function(t){function e(e,n){var r;return void 0===n&&(n={}),(r=t.call(this,n)||this)[Ag]=e,r._preprocessHashConfig(),r}Rr(e,t);var n=e.prototype;return n.getAdDuration=function(){return this._getPropertyValueWithConfigFallback("adDuration",this[gg].config.duration)},n.getAdWidth=function(){return this._getPropertyValueWithConfigFallback("adWidth",this[gg].hostInfo.width)},n.getAdHeight=function(){return this._getPropertyValueWithConfigFallback("adHeight",this[gg].hostInfo.height)},n.getAdCompanions=function(){return null!=this[_g]?this[_g]:t.prototype.getAdCompanions.call(this)},n._getPropertyValueWithConfigFallback=function(e,n){var r=t.prototype["get"+Ql(e)].call(this);return r===Pu[e].defaultValue&&null!=n?n:r},n._createGuest=function(t){return new Promise(function(e,n){var r,i,o,s,u;return r=function(t){var e=function(t){return null==t||"string"==typeof t?t:t.AdParameters}(t);try{return JSON.parse(e)}catch(t){throw new Error('Failed to parse AdParameters "'+e+'"')}}(t.creativeData),this._loadConfig(r),this[gg].tracking.configured?Promise.resolve(this._loadMediaFile(r.mediaFiles,r.adParameters,t)).then(function(t){try{return o=(i=t).iframe,s=i.vpaid,u=i.adParameters,this[gg][bg](s),e({iframe:o,vpaid:s,adParameters:u})}catch(t){return n(t)}}.bind(this),n):n(new Error("Invalid configuration"))}.bind(this))},n._loadMediaFile=function(t,e,n){return new Promise(function(r,i){var o,s,u,a,c,l,h,f,d,p,v,m,g,y,b,_,A,w;return o=n.width,s=n.height,u=n.desiredBitrate,a=n.envVars.videoSlot,c=this[gg].contextInfo,l=Object.keys(this[Ag]),f=function(t){var e=t.vpaid;return null==e?0:e.filter((function(t){var e=t.uri;return Ml(e)})).length}(h=function(t,e){return void 0===e&&(e=[Ju,ea,ta]),t.reduce((function(t,n){var r=aa(n);return e.indexOf(r)>=0&&(null==t[r]&&(t[r]=[]),t[r].push(n)),t}),{})}(t,l)),c.hasImaVpaidMediaFiles=f>0,c.hasNonImaVpaidMediaFiles=function(t,e){var n=t.vpaid;return null==n?Object.keys(t).length>0:n.length>e||Object.keys(t).length>1}(h,f),c.imaSdkPresent=function(){var t=null;try{t=window.parent.google.ima.VERSION}catch(t){}return"string"==typeof t}()||Cl.test(window.location.href),this[gg].isFlagEnabled(2)&&(_=(b=c).imaSdkPresent,A=b.hasImaVpaidMediaFiles,w=b.hasNonImaVpaidMediaFiles,_&&A&&w)&&function(t){var e=t.vpaid.filter((function(t){var e=t.uri;return!Ml(e)}));e.length>0?t.vpaid=e:delete t.vpaid}(h),null==(d=function(t,e,n,r,i){return function(t,e,n){for(var r=Object.keys(t).sort(_h),i=null,o=0;null==i&&o<r.length;){var s=r[o],u=t[s];i=(0,bh[s])(u,e,n),++o}return i}(t,function(t,e,n){var r=gh(t*lh),i=gh(e*lh),o=gh(t),s=gh(e),u=gh(n);return[{filter:function(t){var e=t.width,n=t.height,a=t.bitrate;return e>=o&&e<=r&&n>=s&&n<=i&&a<=u},selector:ph},{filter:function(t){var e=t.width,n=t.height,r=t.bitrate;return e<=o&&n<=s&&r<=u},selector:vh},{filter:function(t){var e=t.bitrate;return isFinite(u)&&e<=u},selector:vh},{filter:function(){return!0},selector:ph}]}(e,n,r),i)}(h,o,s,u,a))?i(new $c("No valid media files found",403)):(this[gg].guestInfo._put("mediaFile",d),p=aa(d),null==(v=this[Ag][p])?i(new $c("Unsupported media file of type "+p,403)):(m=Gh(),this[gg].tracking.addMetric(116,(function(){return m})),Promise.resolve(v(this,d,e,n)).then(function(t){try{return g=t,y=Gh(),this[gg].tracking.addMetric(117,(function(){return y})),r(g)}catch(t){return i(t)}}.bind(this),i)))}.bind(this))},n._preprocessHashConfig=function(){var t=tl();if(null!=t){var e,n,r=(n=(e=t.src).indexOf("#"))>=0?e.substr(n+1):null;null!=r&&""!==r&&this._loadConfig(decodeURIComponent(r))}},n._loadConfig=function(t){if(null!=t){if(this[gg][yg](t),Array.isArray(t.plugins)){var e={id:"vast-chain-tracking",config:{vastChainInfo:null!=t.customDimensions?t.customDimensions[116]:null}};t.plugins.push(e)}this._addPlugins(t.plugins)}},n._addPlugins=function(t){if(!(null==t||this[gg].plugins.length>0)&&0!==t.length)for(var e={},n=0;n<t.length;++n){var r=t[n],i=r.id,o=r.config,s=void 0,u=i.indexOf(".");if(u<0)s=e[i]=o||{};else{var a=i.substr(0,u);s=Object.assign({},e[a],o)}try{this._createAndAddPlugin(i,s)}catch(t){console.warn('Error creating plugin "'+i+'": '+t)}}},n._createAndAddPlugin=function(t,e){var n=cf.create(t,e,this[gg]);return this._addPlugin(n),n},e}(pg),Eg=((vg={}).vpaid=function(t,e,n,r){return new Promise((function(i,o){var s,u,a,c,l,h,f,d;return s=t[tv].contextInfo,u=e.uri,a=s.uriBlacklistedForFriendlyIframe=function(t){return Zp.some((function(e){return e.test(t)}))}(u),c=t[tv].isFlagEnabled(4)||a?"inline":null,Promise.resolve(function(t,e,n){return new Promise((function(r,i){return void 0===n&&(n={}),r(("inline"===n.mode?up:ap)(t,e))}))}(u,r.envVars.slot,{mode:c})).then((function(e){try{return h=(l=e).iframe,f=l.vpaid,d=l.time,Promise.resolve(t[Jp]._runStage("afterLoadVpaid",[{uri:u,time:d}])).then((function(t){try{return i({iframe:h,vpaid:f,adParameters:n})}catch(t){return o(t)}}),o)}catch(t){return o(t)}}),o)}))},vg.video=function(t,e,n){return new Promise((function(r,i){var o=t[Xp].config,s=o.clickThroughUrl,u=o.skipOffset;null==t[$p]&&(t[$p]=s);var a=t[Xp].isFlagEnabled(1),c=t[Xp].isFlagEnabled(8);return r({vpaid:new Qp(e.uri,Object.assign({},t[Kp],{skipOffset:u,noMutedAutoplayFallback:a,noPauseOnClickThrough:c})),adParameters:n})}))},vg);(function(t){for(var e=function(t){for(var e=[],n=t,r=0;r++<10&&null!=n&&n!==Object.prototype;){var i=Object.getOwnPropertyDescriptors(n);e.push.apply(e,Object.keys(i).filter((function(t){return e.indexOf(t)<0}))),n=Object.getPrototypeOf(n)}return e.filter((function(e){return yl.indexOf(e)<0&&"function"==typeof t[e]}))}(t),n=0;n<e.length;++n){var r=e[n];bl(t,r)}})(wg),mg=new wg(Eg,{}),window.getVPAIDAd=function(){return mg}}();
//# sourceMappingURL=vpaid-transformer-no-csw.js.map

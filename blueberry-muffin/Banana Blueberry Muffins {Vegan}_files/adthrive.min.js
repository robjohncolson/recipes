window.adthrive.core = {"partners":[{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1},{"name":"instream","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"33across","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.992},{"name":"stickyOutstream","type":"percent","value":0.5},{"name":"pmp","type":"percent","value":0.992},{"name":"instream","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"a_amazon","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1},{"name":"instream","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"a_appnexus","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1},{"name":"stickyOutstream","type":"percent","value":0.4},{"name":"instream","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"a_grid","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.91},{"name":"stickyOutstream","type":"percent","value":0.5},{"name":"instream","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"a_gumgum","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.96},{"name":"stickyOutstream","type":"percent","value":0.3},{"name":"instream","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"a_ix","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"a_ogury","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.979},{"name":"stickyOutstream","type":"percent","value":0.35}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"a_openx","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.98},{"name":"stickyOutstream","type":"percent","value":0.16},{"name":"instream","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"a_pubmatic","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.98},{"name":"stickyOutstream","type":"percent","value":0.39},{"name":"instream","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"a_rubicon","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.99},{"name":"stickyOutstream","type":"percent","value":0.34},{"name":"instream","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"a_sharethrough","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"instream","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"a_spotx","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.97},{"name":"stickyOutstream","type":"percent","value":0.39},{"name":"instream","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"a_triplelift","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1},{"name":"stickyOutstream","type":"percent","value":0.5},{"name":"instream","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"a_unruly","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.99},{"name":"stickyOutstream","type":"percent","value":0.3},{"name":"instream","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"a_verizon","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.98},{"name":"stickyOutstream","type":"percent","value":0.5},{"name":"instream","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"a_yieldmo","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1},{"name":"stickyOutstream","type":"percent","value":0.65},{"name":"instream","type":"percent","value":1},{"name":"outstream","type":"percent","value":0.48}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"appnexus","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.01}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"brightroll","enabled":false},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.99},{"name":"pmp","type":"percent","value":0.99},{"name":"instream","type":"percent","value":0.99}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"col_ss","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.98},{"name":"pmp","type":"percent","value":0.98},{"name":"instream","type":"percent","value":0.98}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"colossus","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.82}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"concert","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1},{"name":"instream","type":"percent","value":0.01}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"conversant","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.99},{"name":"instream","type":"percent","value":1},{"name":"stickyOutstream","type":"percent","value":0.3}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"criteo","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.01}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"deepintent","enabled":false},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.01},{"name":"instream","type":"percent","value":0.01}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"districtm","enabled":false},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.01}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"districtmDMX","enabled":false},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.01},{"name":"instream","type":"percent","value":0.01}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"dmdmx","enabled":false},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.93},{"name":"pmp","type":"percent","value":1,"deals":[{"name":"G-TRUSTX-b827d08da2714822","type":"percent","value":0.95},{"name":"G-JW_PLAYER-cc4da3eff85746e0","type":"percent","value":0.07},{"name":"G-JW_PLAYER-8d9e8049ca4947cf","type":"percent","value":0.07},{"name":"G-JW_PLAYER-15fae286f8a54614","type":"percent","value":0.07},{"name":"G-JW_PLAYER-48b6dc41e71d4585","type":"percent","value":0.07},{"name":"G-JW_PLAYER-3625d1d8189843b9","type":"percent","value":0.07},{"name":"G-JAKALA-ad18dc54f13645f6","type":"percent","value":0.07},{"name":"G-GOODNET-c64f9ad88c37454b","type":"percent","value":0.07},{"name":"G-JW_PLAYER-8f16946ae7db4d0b","type":"percent","value":0.07},{"name":"G-IPONWEB-8eb9cd8d9c074fdb","type":"percent","value":0.07},{"name":"G-GOODNET-1760a8d1849646d4","type":"percent","value":0.07},{"name":"G-JW_PLAYER-1ffec6b669524e6c","type":"percent","value":0.07},{"name":"G-JW_PLAYER-a3eb7128094c4360","type":"percent","value":0.07},{"name":"G-ORACLE-29af695dcd484d86","type":"percent","value":0.07},{"name":"G-JW_PLAYER-acb2ef7c2dc24255","type":"percent","value":0.07},{"name":"G-IPONWEB-4e2af46faa364ea3","type":"percent","value":0.07},{"name":"G-GOODNET-a81896d35fab407f","type":"percent","value":0.07},{"name":"G-JW_PLAYER-5c0fc3ff3b4f4a8b","type":"percent","value":0.07},{"name":"G-JW_PLAYER-3a20f33920ba4e1d","type":"percent","value":0.07},{"name":"G-IPONWEB-b2694d271dbe4183","type":"percent","value":0.07},{"name":"G-GOODNET-376e7a125b6c404f","type":"percent","value":0.07}]},{"name":"stickyOutstream","type":"percent","value":0.3}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"grid","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"gridnat","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1},{"name":"pmp","type":"percent","value":1,"deals":[{"name":"g-trustx-69dcdccd456a4d4a","type":"percent","value":0.999}]}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"gridvid","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.973},{"name":"instream","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"gumgum","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1},{"name":"instream","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"improve_ss","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.97},{"name":"pmp","type":"percent","value":0.97,"deals":[{"name":"136707122019991","type":"percent","value":0.82},{"name":"136707122019993","type":"percent","value":0.83},{"name":"136708142019991","type":"percent","value":0.89},{"name":"136712112019997","type":"percent","value":0.83},{"name":"136712112019995","type":"percent","value":0.91},{"name":"136707162019999","type":"percent","value":0.88},{"name":"136704252018993","type":"percent","value":0.85},{"name":"136703312017993","type":"percent","value":0.83},{"name":"136703312017997","type":"percent","value":0.84},{"name":"136710072020991","type":"percent","value":0.79},{"name":"136707162019993","type":"percent","value":0.91},{"name":"136703312017991","type":"percent","value":0.88},{"name":"PAD136707102020991","type":"percent","value":0.8},{"name":"136712112019999","type":"percent","value":0.56},{"name":"7002232015","type":"percent","value":0.69},{"name":"136706042019991","type":"percent","value":0.85},{"name":"136712112019993","type":"percent","value":0.9},{"name":"136707152019991","type":"percent","value":0.88},{"name":"136704252018991","type":"percent","value":0.87},{"name":"8209221604","type":"percent","value":0.89},{"name":"136707122019994","type":"percent","value":0.72},{"name":"136708142019992","type":"percent","value":0.65},{"name":"136712112019998","type":"percent","value":0.89},{"name":"136712112019996","type":"percent","value":0.6},{"name":"136704252018994","type":"percent","value":0.89},{"name":"136703312017996","type":"percent","value":0.75},{"name":"136703312017998","type":"percent","value":0.69},{"name":"136710072020992","type":"percent","value":0.74},{"name":"136707162019994","type":"percent","value":0.76},{"name":"136703312017992","type":"percent","value":0.93},{"name":"PAD136707102020992","type":"percent","value":0.8},{"name":"8209221601","type":"percent","value":0.76},{"name":"136706042019992","type":"percent","value":0.69},{"name":"136712112019994","type":"percent","value":0.83},{"name":"136707152019992","type":"percent","value":0.74},{"name":"136704252018992","type":"percent","value":0.63},{"name":"136707122019992","type":"percent","value":0.91},{"name":"136703072017996","type":"percent","value":0.96},{"name":"1367071620199910","type":"percent","value":0.86},{"name":"M1IX203202022021992","type":"flat","value":0.5},{"name":"M1IX203202022021991","type":"flat","value":0.5},{"name":"PAD136701112021991","type":"percent","value":0.9},{"name":"PAD136701112021992","type":"percent","value":1},{"name":"DMD136703032021991","type":"percent","value":0.86},{"name":"DMD136703032021992","type":"percent","value":0.72},{"name":"DMD136702172021991","type":"percent","value":0.88},{"name":"DMD136704082021991","type":"percent","value":0.88},{"name":"DMD136704052021991","type":"percent","value":0.84},{"name":"DMD136704082021992","type":"percent","value":0.8},{"name":"DMD136702172021992","type":"percent","value":0.95},{"name":"DMD136704052021992","type":"percent","value":0.75},{"name":"136705172021991","type":"percent","value":0.83},{"name":"136705172021992","type":"percent","value":0.72},{"name":"136704262021991","type":"percent","value":0.9},{"name":"136704262021992","type":"percent","value":0.69},{"name":"PAD136707312020991","type":"percent","value":0.9},{"name":"136712112019991","type":"percent","value":0.91},{"name":"136706042019995","type":"percent","value":0.89},{"name":"PAD136707312020992","type":"percent","value":0.92},{"name":"136712112019992","type":"percent","value":0.9},{"name":"136706042019996","type":"percent","value":0.83},{"name":"203209212021995","type":"flat","value":1},{"name":"203209212021996","type":"flat","value":1},{"name":"203210122021995","type":"flat","value":1},{"name":"203210122021996","type":"flat","value":1},{"name":"M1IX203212162021995","type":"flat","value":1},{"name":"M1IX203212162021996","type":"flat","value":1},{"name":"9311192021991","type":"percent","value":0.97},{"name":"9311192021992","type":"percent","value":0.97},{"name":"DMD136708052021991","type":"percent","value":0.9},{"name":"DMD136708052021992","type":"percent","value":0.8},{"name":"146002182022991","type":"flat","value":1},{"name":"146002182022992","type":"flat","value":1},{"name":"146002182022993","type":"flat","value":1},{"name":"146002182022994","type":"flat","value":1},{"name":"146002182022995","type":"flat","value":1},{"name":"DMD136708302021992","type":"percent","value":0.71},{"name":"2251041120229923","type":"percent","value":0.97},{"name":"2251041120229922","type":"percent","value":0.97},{"name":"2251041120229921","type":"percent","value":0.97},{"name":"2251041120229920","type":"percent","value":0.97},{"name":"2251041120229919","type":"percent","value":0.97},{"name":"2251041120229918","type":"percent","value":0.97},{"name":"2251041120229917","type":"percent","value":0.97},{"name":"2251041120229916","type":"percent","value":0.97},{"name":"2251041120229915","type":"percent","value":0.97},{"name":"2251041120229914","type":"percent","value":0.97},{"name":"2251041120229913","type":"percent","value":0.97},{"name":"2251041120229912","type":"percent","value":0.97},{"name":"2251041120229911","type":"percent","value":0.97},{"name":"2251041120229910","type":"percent","value":0.97},{"name":"225104112022999","type":"percent","value":0.97},{"name":"225104112022998","type":"percent","value":0.97},{"name":"225104112022997","type":"percent","value":0.97},{"name":"225104112022996","type":"percent","value":0.97},{"name":"225104112022995","type":"percent","value":0.97},{"name":"225104112022994","type":"percent","value":0.97},{"name":"225104112022993","type":"percent","value":0.97},{"name":"225104112022992","type":"percent","value":0.97},{"name":"225104112022991","type":"percent","value":0.97},{"name":"400104282022991","type":"percent","value":0.97},{"name":"335305022022991","type":"flat","value":1},{"name":"335305022022992","type":"flat","value":1},{"name":"905172022991","type":"flat","value":0.5},{"name":"140408052022991","type":"flat","value":1},{"name":"140408052022992","type":"flat","value":1},{"name":"140408052022993","type":"flat","value":1},{"name":"140408052022994","type":"flat","value":1},{"name":"PAD136707202020991","type":"percent","value":0.88},{"name":"PAD136707202020992","type":"percent","value":0.8},{"name":"51210172022991","type":"flat","value":1},{"name":"51210172022992","type":"flat","value":1},{"name":"140410122022991","type":"flat","value":1},{"name":"140410122022992","type":"flat","value":1},{"name":"136710202022991","type":"percent","value":0.83},{"name":"136710202022992","type":"percent","value":0.63},{"name":"51211082022991","type":"flat","value":1},{"name":"270111082022991","type":"flat","value":1.5},{"name":"270111082022992","type":"flat","value":1.5},{"name":"270111082022993","type":"flat","value":1},{"name":"270111082022994","type":"flat","value":1},{"name":"140412152022995","type":"flat","value":1},{"name":"140412152022996","type":"flat","value":1},{"name":"140412152022997","type":"flat","value":1},{"name":"515112212022991","type":"flat","value":1.5},{"name":"515112212022992","type":"flat","value":1.5},{"name":"683401262023991","type":"percent","value":0.97},{"name":"683401262023992","type":"percent","value":0.97},{"name":"1404013123991","type":"flat","value":1},{"name":"1404013123992","type":"flat","value":1},{"name":"1404013123993","type":"flat","value":1},{"name":"1404013123994","type":"flat","value":1},{"name":"140402282023991","type":"flat","value":1},{"name":"121503022023991","type":"flat","value":1.5},{"name":"121503022023992","type":"flat","value":1.5},{"name":"9063003102023991","type":"flat","value":1},{"name":"9063003102023992","type":"flat","value":1},{"name":"9063003102023993","type":"flat","value":1},{"name":"9063003102023994","type":"flat","value":1},{"name":"140403242023991","type":"flat","value":1},{"name":"140403242023992","type":"flat","value":1},{"name":"140403242023993","type":"flat","value":1},{"name":"136701062023994","type":"percent","value":0.69},{"name":"136701062023993","type":"percent","value":0.83},{"name":"136704102023994","type":"percent","value":0.53},{"name":"136704102023993","type":"percent","value":0.88},{"name":"136704102023992","type":"percent","value":0.53},{"name":"136704102023991","type":"percent","value":0.71},{"name":"15105022023993","type":"flat","value":1},{"name":"15105022023994","type":"flat","value":1},{"name":"15105022023995","type":"flat","value":1},{"name":"15105022023996","type":"flat","value":1},{"name":"20706162023991","type":"flat","value":1},{"name":"20706162023992","type":"flat","value":1},{"name":"72206142023991","type":"flat","value":1.5},{"name":"72206142023992","type":"flat","value":1.5},{"name":"23107122023991","type":"flat","value":1},{"name":"23107122023992","type":"flat","value":1},{"name":"23107122023993","type":"flat","value":1},{"name":"23107122023994","type":"flat","value":1},{"name":"23107122023995","type":"flat","value":1},{"name":"23107122023996","type":"flat","value":1},{"name":"23107122023997","type":"flat","value":1},{"name":"23107122023998","type":"flat","value":1},{"name":"23107122023999","type":"flat","value":1},{"name":"231071220239910","type":"flat","value":1},{"name":"231071220239911","type":"flat","value":1},{"name":"231071220239912","type":"flat","value":1},{"name":"231071220239913","type":"flat","value":1},{"name":"231071220239914","type":"flat","value":1},{"name":"231071220239915","type":"flat","value":1},{"name":"231071220239916","type":"flat","value":1},{"name":"231071220239917","type":"flat","value":1},{"name":"231071220239918","type":"flat","value":1},{"name":"231071220239919","type":"flat","value":1},{"name":"231071220239920","type":"flat","value":1},{"name":"231071220239921","type":"flat","value":1},{"name":"231071220239922","type":"flat","value":1}]},{"name":"instream","type":"percent","value":0.97},{"name":"stickyOutstream","type":"percent","value":0.45},{"name":"outstream","type":"percent","value":0.45}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"ix","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.96},{"name":"instream","type":"percent","value":1},{"name":"outstream","type":"percent","value":0.6}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"kargo","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.98},{"name":"instream","type":"percent","value":1},{"name":"outstream","type":"percent","value":0.6}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"krgo_ss","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.984}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"nativo","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"instream","type":"percent","value":0.01},{"name":"outstream","type":"percent","value":0.01}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"oneVideo","enabled":false},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.97},{"name":"instream","type":"percent","value":1},{"name":"stickyOutstream","type":"percent","value":0.5}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"openx","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1},{"name":"instream","type":"percent","value":0.975},{"name":"stickyOutstream","type":"percent","value":0.59}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"opnx_ss","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1},{"name":"instream","type":"percent","value":1},{"name":"pmp","type":"percent","value":1,"deals":[{"name":"PM-KINC-9618","type":"flat","value":2}]},{"name":"stickyOutstream","type":"percent","value":0.62}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"pubm_ss","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1},{"name":"instream","type":"percent","value":1},{"name":"pmp","type":"percent","value":1,"deals":[{"name":"PM-KINC-9618","type":"flat","value":2}]},{"name":"stickyOutstream","type":"percent","value":0.62}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"pubmatic","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.85},{"name":"instream","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"resetdigital","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.989},{"name":"instream","type":"percent","value":0.996}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"roundel","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"rtbhouse","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.99},{"name":"instream","type":"percent","value":1},{"name":"pmp","type":"percent","value":0.99,"deals":[{"name":"829398","type":"percent","value":0.95},{"name":"832174","type":"percent","value":0.97},{"name":"832176","type":"percent","value":0.97},{"name":"855828","type":"percent","value":0.97},{"name":"855824","type":"percent","value":0.97},{"name":"855816","type":"percent","value":0.97},{"name":"855814","type":"percent","value":0.97},{"name":"855812","type":"percent","value":0.97},{"name":"855810","type":"percent","value":0.97},{"name":"855808","type":"percent","value":0.97},{"name":"855806","type":"percent","value":0.97},{"name":"855804","type":"percent","value":0.97},{"name":"855802","type":"percent","value":0.97},{"name":"855800","type":"percent","value":0.97},{"name":"855798","type":"percent","value":0.97},{"name":"855796","type":"percent","value":0.97},{"name":"855794","type":"percent","value":0.97},{"name":"855792","type":"percent","value":0.97},{"name":"855790","type":"percent","value":0.97},{"name":"855788","type":"percent","value":0.97},{"name":"855786","type":"percent","value":0.97},{"name":"855784","type":"percent","value":0.97},{"name":"855782","type":"percent","value":0.97},{"name":"855780","type":"percent","value":0.97},{"name":"855778","type":"percent","value":0.97},{"name":"855776","type":"percent","value":0.97},{"name":"859888","type":"percent","value":0.97},{"name":"944042","type":"percent","value":0.97},{"name":"944044","type":"percent","value":0.97},{"name":"1623876","type":"percent","value":0.88},{"name":"1623874","type":"percent","value":0.88}]},{"name":"stickyOutstream","type":"percent","value":0.39}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"rubi_ss","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.973},{"name":"instream","type":"percent","value":0.97},{"name":"pmp","type":"percent","value":0.973,"deals":[{"name":"829398","type":"percent","value":0.95},{"name":"832174","type":"percent","value":0.97},{"name":"832176","type":"percent","value":0.97},{"name":"855828","type":"percent","value":0.97},{"name":"855824","type":"percent","value":0.97},{"name":"855816","type":"percent","value":0.97},{"name":"855814","type":"percent","value":0.97},{"name":"855812","type":"percent","value":0.97},{"name":"855810","type":"percent","value":0.97},{"name":"855808","type":"percent","value":0.97},{"name":"855806","type":"percent","value":0.97},{"name":"855804","type":"percent","value":0.97},{"name":"855802","type":"percent","value":0.97},{"name":"855800","type":"percent","value":0.97},{"name":"855798","type":"percent","value":0.97},{"name":"855796","type":"percent","value":0.97},{"name":"855794","type":"percent","value":0.97},{"name":"855792","type":"percent","value":0.97},{"name":"855790","type":"percent","value":0.97},{"name":"855788","type":"percent","value":0.97},{"name":"855786","type":"percent","value":0.97},{"name":"855784","type":"percent","value":0.97},{"name":"855782","type":"percent","value":0.97},{"name":"855780","type":"percent","value":0.97},{"name":"855778","type":"percent","value":0.97},{"name":"855776","type":"percent","value":0.97},{"name":"859888","type":"percent","value":0.97},{"name":"944042","type":"percent","value":0.97},{"name":"944044","type":"percent","value":0.97},{"name":"1623876","type":"percent","value":0.88},{"name":"1623874","type":"percent","value":0.88}]},{"name":"stickyOutstream","type":"percent","value":0.41}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"rubicon","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.992},{"name":"instream","type":"percent","value":1},{"name":"stickyOutstream","type":"percent","value":0.75}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"sharethrough","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"instream","type":"percent","value":0.01},{"name":"pmp","type":"percent","value":0.01,"deals":[{"name":"21ebe.8180e.26d6","type":"flat","value":2},{"name":"153c7.7e28.4b71","type":"flat","value":2},{"name":"1ec46.6201a.8951","type":"flat","value":2},{"name":"21ebe.2503b.b869","type":"flat","value":2},{"name":"449f0.6018b.2301","type":"flat","value":2},{"name":"1e6a0.d1904.ff8e","type":"flat","value":2},{"name":"346d5.7861e.d3dc","type":"flat","value":2},{"name":"346d5.5be26.0870","type":"flat","value":2},{"name":"21ebe.c673f.7d27","type":"flat","value":2},{"name":"1bccb.84e7c.831c","type":"flat","value":2},{"name":"21ebe.9417b.988c","type":"flat","value":2}]}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"spotx","enabled":false},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.999}],"s2s":[],"bidder_name":"teads","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"instream","type":"percent","value":0.01}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"telaria","enabled":false},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.99},{"name":"instream","type":"percent","value":1},{"name":"outstream","type":"percent","value":0.65},{"name":"stickyOutstream","type":"percent","value":0.56}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"tripl_ss","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1},{"name":"instream","type":"percent","value":1},{"name":"outstream","type":"percent","value":0.65},{"name":"stickyOutstream","type":"percent","value":0.56}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"triplelift","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.96},{"name":"stickyOutstream","type":"percent","value":0.473},{"name":"instream","type":"percent","value":0.993}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"ttd","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"instream","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"under_ss","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"undertone","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.85},{"name":"instream","type":"percent","value":0.51},{"name":"outstream","type":"percent","value":0.53}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"unruly","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.99}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"verizon","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.99},{"name":"instream","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"yah_ss","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.99},{"name":"instream","type":"percent","value":1},{"name":"stickyOutstream","type":"percent","value":0.78}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"yahoossp","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.996},{"name":"stickyOutstream","type":"percent","value":0.64}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"yieldmo","enabled":true}],"predictiveAnalysis":[],"country":"US","coreExperiments":[{"variants":[{"weight":60,"value":"b"},{"weight":20,"value":"w"},{"weight":20,"value":"g25"}],"type":"weightedChoice","abgroup":"tcmb2","key":"TopCenterMobileBackground"},{"variants":[{"weight":50}],"type":"bernoulliTrial","abgroup":"lle","key":"LibLoadedEvent"},{"variants":[{"weight":95}],"type":"bernoulliTrial","abgroup":"delload","key":"EnableDelayLoading"},{"variants":[{"weight":99.5}],"type":"bernoulliTrial","abgroup":"amzn","key":"Amazon"},{"variants":[{"weight":25,"value":1.5},{"weight":25,"value":2},{"weight":25,"value":3},{"weight":25,"value":4}],"type":"weightedChoice","abgroup":"fto","key":"FloorBootstrap"},{"variants":[{"weight":25,"value":1.5},{"weight":25,"value":2},{"weight":25,"value":3},{"weight":25,"value":4}],"type":"weightedChoice","abgroup":"mto","key":"MarmaladeBootstrap"},{"variants":[{"weight":100}],"type":"bernoulliTrial","abgroup":"pbm","key":"Playbackmethod"},{"variants":[{"weight":98,"value":30},{"weight":2,"value":15},{"weight":0,"value":10}],"type":"weightedChoice","abgroup":"vmaxdur","key":"VideoDuration"},{"variants":[{"weight":0,"value":"all"},{"weight":100,"value":"adx"},{"weight":0,"value":"off"}],"type":"weightedChoice","abgroup":"inters","key":"Interstitial"},{"variants":[{"weight":0,"value":"all"},{"weight":80,"value":"adx"},{"weight":20,"value":"off"}],"type":"weightedChoice","abgroup":"inters5","key":"InterstitialAlt"},{"variants":[{"weight":20,"value":750},{"weight":20,"value":500},{"weight":20,"value":250},{"weight":20,"value":175},{"weight":20,"value":100}],"type":"weightedChoice","abgroup":"ato","key":"AmazonTimeout"},{"variants":[{"weight":98,"value":"both"},{"weight":1,"value":"client"},{"weight":1,"value":"server"}],"type":"weightedChoice","abgroup":"magnitedr","key":"Rubicon"},{"variants":[{"weight":98,"value":"both"},{"weight":1,"value":"client"},{"weight":1,"value":"server"}],"type":"weightedChoice","abgroup":"opnxdr","key":"OpenX"},{"variants":[{"weight":4,"value":"both"},{"weight":95,"value":"client"},{"weight":1,"value":"server"}],"type":"weightedChoice","abgroup":"krgodr","key":"Kargo"},{"variants":[{"weight":1,"value":"both"},{"weight":1,"value":"client"},{"weight":98,"value":"server"}],"type":"weightedChoice","abgroup":"krgodrvid","key":"KargoVideo"},{"variants":[{"weight":99,"value":"none"},{"weight":1,"value":"roxot"}],"type":"weightedChoice","abgroup":"pba","key":"Analytics"},{"variants":[{"weight":98,"value":"both"},{"weight":1,"value":"client"},{"weight":1,"value":"server"}],"type":"weightedChoice","abgroup":"tripleliftdr","key":"Triplelift"},{"variants":[{"weight":40,"value":"both"},{"weight":40,"value":"client"},{"weight":20,"value":"server"}],"type":"weightedChoice","abgroup":"yahoodr","key":"YahooSSP"},{"variants":[{"weight":0}],"type":"bernoulliTrial","abgroup":"logfltr","key":"LoggerFilter"},{"variants":[{"weight":50}],"type":"bernoulliTrial","abgroup":"fldg","key":"FledgeGPT"},{"variants":[{"weight":70,"value":500},{"weight":10,"value":300},{"weight":10,"value":200},{"weight":10,"value":50}],"type":"weightedChoice","abgroup":"deftimer2","key":"DelayLoading"},{"variants":[{"weight":25}],"type":"bernoulliTrial","abgroup":"wvtls","key":"WebVitals"},{"variants":[{"weight":1}],"type":"bernoulliTrial","abgroup":"loglevel","key":"ImpressionLogLegacy"},{"variants":[{"weight":1}],"type":"bernoulliTrial","abgroup":"loglevel_1","key":"ImpressionLog1"},{"variants":[{"weight":1}],"type":"bernoulliTrial","abgroup":"loglev","key":"ImpressionLog"},{"variants":[{"weight":1}],"type":"bernoulliTrial","abgroup":"sens_off","key":"SensOff"},{"variants":[{"weight":100}],"type":"bernoulliTrial","abgroup":"rtbf","key":"RtbHouseExperiment"},{"variants":[{"weight":100}],"type":"bernoulliTrial","abgroup":"sab","key":"BidLimit"},{"variants":[{"weight":95}],"type":"bernoulliTrial","abgroup":"jwb","key":"JwBoost"},{"variants":[{"weight":10}],"type":"bernoulliTrial","abgroup":"logcls","key":"LayoutShift"},{"variants":[{"weight":60,"value":2},{"weight":10,"value":1.25},{"weight":10,"value":1},{"weight":10,"value":0.75},{"weight":10,"value":0.5}],"type":"weightedChoice","abgroup":"lzcvp","key":"ContentMargin"},{"variants":[{"weight":50}],"type":"bernoulliTrial","abgroup":"confiant","key":"ConfiantProperty"},{"variants":[{"weight":1}],"type":"bernoulliTrial","abgroup":"confiant1","key":"ConfiantProperty1"},{"variants":[{"weight":40,"value":5000,"abvalue":"5s"},{"weight":40,"value":10000,"abvalue":"10s"},{"weight":20,"value":15000,"abvalue":"15s"}],"type":"weightedChoice","abgroup":"vast_to","key":"VastTimeout"},{"variants":[{"weight":0}],"type":"bernoulliTrial","abgroup":"sre","key":"SlotResize"},{"variants":[{"weight":25}],"type":"bernoulliTrial","abgroup":"AdDensityExperiment","key":"AdDensity"},{"variants":[{"weight":99}],"type":"bernoulliTrial","abgroup":"bmetrics","key":"BrandMetrics"},{"variants":[{"weight":95}],"type":"bernoulliTrial","abgroup":"rebuildslot","key":"RefreshRebuild"},{"variants":[{"weight":1}],"type":"bernoulliTrial","abgroup":"NielsenTrackerExperiment","key":"NielsenTracker"},{"variants":[{"weight":0,"value":4},{"weight":0,"value":5},{"weight":100,"value":6},{"weight":0,"value":7}],"type":"weightedChoice","abgroup":"mxrpog","key":"MaxRequests"},{"variants":[{"weight":99}],"type":"bernoulliTrial","abgroup":"vpred","key":"PredictiveAnalysis"},{"variants":[{"weight":100}],"type":"bernoulliTrial","abgroup":"rptv","key":"ComscoreFooterRebrand"},{"variants":[{"weight":100}],"type":"bernoulliTrial","abgroup":"vadv","key":"AdvancePlaylist"},{"variants":[{"weight":100}],"type":"bernoulliTrial","abgroup":"cnfep","key":"ConfiantEndpoint"},{"variants":[{"weight":95}],"type":"bernoulliTrial","abgroup":"tpcapi","key":"TopicsAPI"},{"variants":[{"weight":10}],"type":"bernoulliTrial","abgroup":"crtvmon","key":"CreativeMonitoring"},{"variants":[{"weight":3,"value":"rubi"},{"weight":48,"value":"cm"},{"weight":48,"value":"fb"},{"weight":1,"value":"none"}],"type":"weightedChoice","abgroup":"flr","key":"RubiconFloors"},{"variants":[{"weight":20,"value":"rubi"},{"weight":20,"value":"rapml"},{"weight":20,"value":"cm"},{"weight":20,"value":"fbmag"},{"weight":20,"value":"fbrap"},{"weight":0,"value":"none"}],"type":"weightedChoice","abgroup":"flrml","key":"Floors"},{"variants":[{"weight":5,"value":"on"},{"weight":95,"value":"off"}],"type":"weightedChoice","abgroup":"pbsflr","key":"PBSFloor"},{"variants":[{"weight":5,"value":"on"},{"weight":95,"value":"off"}],"type":"weightedChoice","abgroup":"pbsflr1","key":"PBSFloor1"},{"variants":[{"weight":100,"value":"both"},{"weight":0,"value":"client"},{"weight":0,"value":"server"}],"type":"weightedChoice","abgroup":"coldr","key":"ColossusExperiment"},{"variants":[{"weight":0}],"type":"bernoulliTrial","abgroup":"amzn_hold_load","key":"AmazonHoldLoad"},{"variants":[{"weight":1}],"type":"bernoulliTrial","abgroup":"rmos1","key":"OneVideoStream"},{"variants":[{"weight":0,"value":"sovpcc"},{"weight":0,"value":"sovpct1"},{"weight":100,"value":"sovpct2"}],"type":"weightedChoice","abgroup":"socbe","key":"StickyCloseButton"},{"variants":[{"weight":5,"value":900000,"abvalue":"900"},{"weight":5,"value":600000,"abvalue":"600"},{"weight":5,"value":300000,"abvalue":"300"},{"weight":5,"value":-1,"abvalue":"tdoc"},{"weight":80,"value":0}],"type":"weightedChoice","abgroup":"mgtdtw","key":"TearDownPlayer"},{"variants":[{"weight":40,"value":0.75},{"weight":20,"value":0.25},{"weight":20,"value":0.125},{"weight":20,"value":0}],"type":"weightedChoice","abgroup":"lzbpvp","key":"BelowPostMargin"},{"variants":[{"weight":50}],"type":"bernoulliTrial","abgroup":"amzn_hold_disp","key":"AmazonHoldDisplay"},{"variants":[{"weight":10}],"type":"bernoulliTrial","abgroup":"dajto","key":"DisableAjaxTimeout"},{"variants":[{"weight":100}],"type":"bernoulliTrial","abgroup":"smad300","key":"RemoveLargeSidebar"},{"variants":[{"weight":100}],"type":"bernoulliTrial","abgroup":"rvadv_ab1","key":"AdvancePlaylistRelated"},{"variants":[{"weight":5,"value":6000,"abvalue":"6s"},{"weight":75,"value":4000,"abvalue":"4s"},{"weight":15,"value":2000,"abvalue":"2s"},{"weight":5,"value":0,"abvalue":"0s"}],"type":"weightedChoice","abgroup":"cbt","key":"CloseButtonTimeout"},{"variants":[{"weight":20,"value":10000,"abvalue":"10"},{"weight":60,"value":15000,"abvalue":"15"},{"weight":20,"value":20000,"abvalue":"20"}],"type":"weightedChoice","abgroup":"reqTo","key":"JwRequestTimeout"},{"variants":[{"weight":96,"value":0.9,"abvalue":"90"},{"weight":1,"value":0.85,"abvalue":"85"},{"weight":1,"value":0.8,"abvalue":"80"},{"weight":1,"value":0.75,"abvalue":"75"},{"weight":1,"value":0,"abvalue":"off"}],"type":"weightedChoice","abgroup":"vpred_1","key":"PredictiveAnalysis1"},{"variants":[{"weight":3}],"type":"bernoulliTrial","abgroup":"LogAdDurationExperiment","key":"LogAdDuration"},{"variants":[{"weight":100}],"type":"bernoulliTrial","abgroup":"lzhb","key":"LZHB"},{"variants":[{"weight":0,"value":0,"abvalue":"off"},{"weight":0,"value":0.4,"abvalue":"40"},{"weight":0,"value":0.5,"abvalue":"50"},{"weight":100,"value":0.6,"abvalue":"60"},{"weight":0,"value":0.7,"abvalue":"70"}],"type":"weightedChoice","abgroup":"lzflr","key":"LazyLoadFloors"},{"variants":[{"weight":0,"value":0},{"weight":0,"value":1},{"weight":100,"value":2},{"weight":0,"value":3}],"type":"weightedChoice","abgroup":"bpto","key":"BidPoolingTimeoutExperiment"},{"variants":[{"weight":20,"value":"1_1"},{"weight":20,"value":"02_02"},{"weight":20,"value":"3_3"},{"weight":20,"value":"05_05"},{"weight":20,"value":"off"}],"type":"weightedChoice","abgroup":"upro1","key":"UPROExperiment"},{"variants":[{"weight":99.5,"value":"ix"},{"weight":96,"value":"mn"},{"weight":95,"value":"ox"},{"weight":99,"value":"pu"},{"weight":90,"value":"un"},{"weight":90,"value":"ma"},{"weight":90,"value":"sh"},{"weight":99,"value":"st"},{"weight":99,"value":"sb"},{"weight":80,"value":"sv"},{"weight":99,"value":"tl"},{"weight":0,"value":"yh"},{"weight":9,"value":"ym"},{"weight":99,"value":"mg"},{"weight":99,"value":"xr"},{"weight":95,"value":"ot"},{"weight":100,"value":"ax"},{"weight":100,"value":"ch"},{"weight":100,"value":"cr"},{"weight":100,"value":"gg"},{"weight":100,"value":"kg"},{"weight":100,"value":"td"},{"weight":90,"value":"ym"}],"type":"multivalueBernoulliTrial","abgroup":"doba","key":"DisplayOpenBidderExperiment"},{"variants":[{"weight":100,"value":"ax"},{"weight":95,"value":"ix"},{"weight":90,"value":"mn"},{"weight":75,"value":"ox"},{"weight":95,"value":"pu"},{"weight":95,"value":"un"},{"weight":95,"value":"ma"},{"weight":100,"value":"sx"},{"weight":95,"value":"tl"},{"weight":99,"value":"yh"},{"weight":90,"value":"sh"},{"weight":70,"value":"ym"},{"weight":95,"value":"mg"},{"weight":99,"value":"xr"},{"weight":95,"value":"gg"},{"weight":95,"value":"ot"}],"type":"multivalueBernoulliTrial","abgroup":"voba","key":"VideoOpenBidderExperiment"},{"variants":[{"weight":100,"value":2},{"weight":0,"value":3},{"weight":0,"value":0}],"type":"weightedChoice","abgroup":"osp","key":"OutstreamPlacementExperiment"},{"variants":[{"weight":25,"value":0.8},{"weight":25,"value":1},{"weight":25,"value":1.2},{"weight":25,"value":1.4}],"type":"weightedChoice","abgroup":"flrmltp","key":"SingleFloorMultiplier"},{"variants":[{"weight":10}],"type":"bernoulliTrial","abgroup":"LogAdLifeCycleExperiment","key":"LogAdLifeCycle"},{"variants":[{"weight":100}],"type":"bernoulliTrial","abgroup":"nosvp","key":"OutstreamRendererExperiment"},{"variants":[{"weight":0}],"type":"bernoulliTrial","abgroup":"sppe50","key":"StickyPlayerPosition"},{"variants":[{"weight":100}],"type":"bernoulliTrial","abgroup":"sospp","key":"StickyOutstreamOnStickyPlayerPages"},{"variants":[{"weight":50}],"type":"bernoulliTrial","abgroup":"dlsops","key":"StickyOutstreamPlayerSizeExperiment"},{"variants":[{"weight":0}],"type":"bernoulliTrial","abgroup":"sidp","key":"SharedIdPlugin"},{"variants":[{"weight":100,"value":"tlo"}],"type":"weightedChoice","abgroup":"sicb","key":"StickyInstreamCloseButton"},{"variants":[{"weight":0,"value":"strict"},{"weight":100,"value":"relaxed"},{"weight":0,"value":"off"}],"type":"weightedChoice","abgroup":"dco","key":"DemandChain"},{"variants":[{"weight":25,"value":100},{"weight":50,"value":200,"abvalue":"off"},{"weight":25,"value":300}],"type":"weightedChoice","abgroup":"s2sbuff","key":"S2SBuffer"},{"variants":[{"weight":85,"value":0},{"weight":5,"value":1},{"weight":5,"value":500},{"weight":5,"value":1000}],"type":"weightedChoice","abgroup":"adt","key":"AuctionDelay"},{"variants":[{"weight":4,"value":0},{"weight":32,"value":1},{"weight":32,"value":500},{"weight":32,"value":1000}],"type":"weightedChoice","abgroup":"adt2","key":"AuctionDelay_2"},{"variants":[{"weight":10,"value":1},{"weight":30,"value":1.3},{"weight":30,"value":1.1},{"weight":30,"value":1.2}],"type":"weightedChoice","abgroup":"refflr2","key":"FloorsRefresh"},{"variants":[{"weight":97,"value":1},{"weight":1,"value":1.1},{"weight":1,"value":1.2},{"weight":1,"value":1.3}],"type":"weightedChoice","abgroup":"refvidflr","key":"FloorsInstreamRefresh"},{"variants":[{"weight":96,"value":0},{"weight":1,"value":1.1},{"weight":1,"value":1.2},{"weight":1,"value":1.3},{"weight":1,"value":1.4}],"type":"weightedChoice","abgroup":"refsoflr","key":"FloorsStickyOutstreamRefresh"},{"variants":[{"weight":33,"value":0},{"weight":33,"value":1},{"weight":34,"value":1.5}],"type":"weightedChoice","abgroup":"socon","key":"SuppressOutreamSlowConnection"},{"variants":[{"weight":0,"value":10000},{"weight":0,"value":15000},{"weight":0,"value":20000},{"weight":100,"value":25000},{"weight":0,"value":30000}],"type":"weightedChoice","abgroup":"cmpto","key":"CMPTimeout"},{"variants":[{"weight":25}],"type":"bernoulliTrial","abgroup":"upl","key":"UserPageDataLogging"},{"variants":[{"weight":1}],"type":"bernoulliTrial","abgroup":"rmosnv1","key":"OneVideoStreamNoVideo"},{"variants":[{"weight":10}],"type":"bernoulliTrial","abgroup":"UserPageDataPrivacyLoggingExperiment","key":"UserPageDataPrivacyLogging"},{"variants":[{"weight":10,"value":2000},{"weight":15,"value":2100},{"weight":50,"value":2200},{"weight":15,"value":2300},{"weight":10,"value":2400}],"type":"weightedChoice","abgroup":"ito_df","key":"InitialTimeoutDesktopFastExperiment"},{"variants":[{"weight":10,"value":2600},{"weight":15,"value":2700},{"weight":50,"value":2800},{"weight":15,"value":2900},{"weight":10,"value":3000}],"type":"weightedChoice","abgroup":"ito_ds","key":"InitialTimeoutDesktopSlowExperiment"},{"variants":[{"weight":10,"value":2400},{"weight":15,"value":2500},{"weight":50,"value":2600},{"weight":15,"value":2700},{"weight":10,"value":2800}],"type":"weightedChoice","abgroup":"ito_dn","key":"InitialTimeoutDesktopUnknownExperiment"},{"variants":[{"weight":10,"value":2400},{"weight":15,"value":2500},{"weight":50,"value":2600},{"weight":15,"value":2700},{"weight":10,"value":2800}],"type":"weightedChoice","abgroup":"ito_mf","key":"InitialTimeoutMobileFastExperiment"},{"variants":[{"weight":10,"value":2600},{"weight":15,"value":2700},{"weight":50,"value":2800},{"weight":15,"value":2900},{"weight":10,"value":3000}],"type":"weightedChoice","abgroup":"ito_ms","key":"InitialTimeoutMobileSlowExperiment"},{"variants":[{"weight":10,"value":2600},{"weight":15,"value":2700},{"weight":50,"value":2800},{"weight":15,"value":2900},{"weight":10,"value":3000}],"type":"weightedChoice","abgroup":"ito_mn","key":"InitialTimeoutMobileUnknownExperiment"},{"variants":[{"weight":5,"value":"id5Id"},{"weight":1,"value":"identityLink"},{"weight":1,"value":"unifiedId"},{"weight":1,"value":"sharedId"},{"weight":5,"value":"criteo"},{"weight":5,"value":"connectId"}],"type":"holdout","abgroup":"idho","key":"IDHO"},{"variants":[{"weight":0.5,"value":"ix_ebda"},{"weight":4,"value":"medianet_ebda"},{"weight":10,"value":"openx_ebda"},{"weight":1,"value":"pubmatic_ebda"},{"weight":10,"value":"rhythmone_ebda"},{"weight":6,"value":"rubicon_ebda"},{"weight":10,"value":"sharethrough_ebda"},{"weight":1,"value":"smart_ebda"},{"weight":1,"value":"sonobi_ebda"},{"weight":15,"value":"sovrn_ebda"},{"weight":1,"value":"triplelift_ebda"},{"weight":0,"value":"verizon_ebda"},{"weight":10,"value":"yieldmo_ebda"},{"weight":1,"value":"mediagrid_ebda"},{"weight":1,"value":"xandr_ebda"},{"weight":1,"value":"onetag_ebda"}],"type":"holdout","abgroup":"ebho","key":"EBHO"},{"variants":[{"weight":5,"value":"ix_ebda"},{"weight":10,"value":"medianet_ebda"},{"weight":20,"value":"openx_ebda"},{"weight":5,"value":"pubmatic_ebda"},{"weight":5,"value":"rhythmone_ebda"},{"weight":5,"value":"rubicon_ebda"},{"weight":0,"value":"spotx_ebda"},{"weight":1,"value":"triplelift_ebda"},{"weight":1,"value":"verizon_ebda"},{"weight":10,"value":"sharethrough_ebda"},{"weight":20,"value":"yieldmo_ebda"},{"weight":5,"value":"xandr_ebda"}],"type":"holdout","abgroup":"vebho","key":"VEBHO"},{"variants":[{"weight":1,"value":"ats"},{"weight":1,"value":"conf"},{"weight":1,"value":"hawk"},{"weight":1,"value":"tgtaff"},{"weight":96,"value":"none"}],"type":"weightedChoice","abgroup":"tkho","key":"TKHO"},{"variants":[{"weight":10,"value":"appnexus"},{"weight":1,"value":"colossus"},{"weight":1,"value":"conversant"},{"weight":5,"value":"criteo"},{"weight":1,"value":"gridvid"},{"weight":50,"value":"gumgum"},{"weight":0.5,"value":"ix"},{"weight":10,"value":"openx"},{"weight":1,"value":"pubmatic"},{"weight":90,"value":"resetdigital"},{"weight":10,"value":"roundel"},{"weight":1,"value":"rubicon"},{"weight":1,"value":"sharethrough"},{"weight":1,"value":"spotx"},{"weight":1,"value":"triplelift"},{"weight":1,"value":"ttd"},{"weight":1,"value":"unruly"},{"weight":1,"value":"yahoossp"},{"weight":1,"value":"kargo"},{"weight":1,"value":"33across"},{"weight":1,"value":"onetag"},{"weight":1,"value":"under_ss"}],"type":"holdout","abgroup":"vbho","key":"VBHO"},{"variants":[{"weight":10,"value":"33across"},{"weight":1,"value":"appnexus"},{"weight":10,"value":"conversant"},{"weight":1,"value":"criteo"},{"weight":0.5,"value":"grid"},{"weight":1,"value":"gumgum"},{"weight":1,"value":"kargo"},{"weight":0.5,"value":"ix"},{"weight":10,"value":"nativo"},{"weight":1,"value":"openx"},{"weight":1,"value":"pubmatic"},{"weight":90,"value":"resetdigital"},{"weight":10,"value":"roundel"},{"weight":1,"value":"rubicon"},{"weight":20,"value":"sharethrough"},{"weight":1,"value":"teads"},{"weight":0.5,"value":"triplelift"},{"weight":1,"value":"ttd"},{"weight":5,"value":"undertone"},{"weight":1,"value":"unruly"},{"weight":1,"value":"verizon"},{"weight":1,"value":"yahoossp"},{"weight":10,"value":"yieldmo"}],"type":"holdout","abgroup":"hbho","key":"HBHO"},{"variants":[{"weight":100,"value":"33across"},{"weight":5,"value":"appnexus"},{"weight":100,"value":"conversant"},{"weight":90,"value":"grid"},{"weight":50,"value":"gumgum"},{"weight":1,"value":"openx"},{"weight":100,"value":"pubm_ss"},{"weight":100,"value":"resetdigital"},{"weight":100,"value":"under_ss"},{"weight":100,"value":"unruly"},{"weight":100,"value":"yieldmo"}],"type":"multivalueBernoulliTrial","abgroup":"pbs2s2","key":"S2S2"},{"variants":[{"weight":5,"value":"appnexus"},{"weight":90,"value":"grid"},{"weight":50,"value":"gumgum"},{"weight":1,"value":"openx"}],"type":"holdout","abgroup":"pbs2s","key":"S2S"},{"variants":[{"weight":25,"value":0},{"weight":25,"value":5},{"weight":25,"value":10},{"weight":25,"value":25}],"type":"weightedChoice","abgroup":"csync_lim","key":"UserSyncLimit"},{"variants":[{"weight":75}],"type":"bernoulliTrial","abgroup":"testCf","key":"TestCloudfrontInvalidation"},{"variants":[{"weight":100}],"type":"bernoulliTrial","abgroup":"spa","key":"SinglePageAppSupport"},{"variants":[{"weight":50}],"type":"bernoulliTrial","abgroup":"logger","key":"DisableLogger"},{"variants":[{"weight":99}],"type":"bernoulliTrial","abgroup":"s2sparam","key":"OrtbEnrichment"},{"variants":[{"weight":100}],"type":"bernoulliTrial","abgroup":"jtte","key":"JumpToTracker"},{"variants":[{"weight":100}],"type":"bernoulliTrial","abgroup":"csp","key":"ContentSpecificPlaylists"},{"variants":[{"weight":0}],"type":"bernoulliTrial","abgroup":"spa_636bb77b4a063e2c3e3686fb","key":"SinglePageAppSupport_636bb77b4a063e2c3e3686fb"},{"variants":[{"weight":0}],"type":"bernoulliTrial","abgroup":"spa_62a8f1d2540a6e420ab16977","key":"SinglePageAppSupport_62a8f1d2540a6e420ab16977"},{"variants":[{"weight":0}],"type":"bernoulliTrial","abgroup":"sotc_660a2f0855c0e65b7013b0a2a","key":"StickyOutstreamTopCenter_660a2f0855c0e65b7013b0a2a"},{"variants":[{"weight":0}],"type":"bernoulliTrial","abgroup":"sotc_56d7646348ac34b603d08cdd","key":"StickyOutstreamTopCenter_56d7646348ac34b603d08cdd"},{"variants":[{"weight":0}],"type":"bernoulliTrial","abgroup":"sotc_52e41fac28963d1e058a107e","key":"StickyOutstreamTopCenter_52e41fac28963d1e058a107e"},{"variants":[{"weight":0}],"type":"bernoulliTrial","abgroup":"sotc_553542257a55b2e06135e447","key":"StickyOutstreamTopCenter_553542257a55b2e06135e447"},{"variants":[{"weight":0}],"type":"bernoulliTrial","abgroup":"sotc_53237591208f222c05b9a652","key":"StickyOutstreamTopCenter_53237591208f222c05b9a652"},{"variants":[{"weight":0}],"type":"bernoulliTrial","abgroup":"sotc_530961e8208f222c05b9a319","key":"StickyOutstreamTopCenter_530961e8208f222c05b9a319"},{"variants":[{"weight":0}],"type":"bernoulliTrial","abgroup":"sotc_60a7fa14d53602489a3692c6","key":"StickyOutstreamTopCenter_60a7fa14d53602489a3692c6"},{"variants":[{"weight":0}],"type":"bernoulliTrial","abgroup":"sotc_52e41fac28963d1e058a1132","key":"StickyOutstreamTopCenter_52e41fac28963d1e058a1132"},{"variants":[{"weight":0}],"type":"bernoulliTrial","abgroup":"sotc_58c18d1bf051050f829e3c0b","key":"StickyOutstreamTopCenter_58c18d1bf051050f829e3c0b"},{"variants":[{"weight":0}],"type":"bernoulliTrial","abgroup":"sotc_5667530f4856897050e3754f","key":"StickyOutstreamTopCenter_5667530f4856897050e3754f"},{"variants":[{"weight":0}],"type":"bernoulliTrial","abgroup":"sotc_55bccc97303edab84afd77e2","key":"StickyOutstreamTopCenter_55bccc97303edab84afd77e2"},{"variants":[{"weight":0}],"type":"bernoulliTrial","abgroup":"sotc_5e7dea4b319b6675881fa756","key":"StickyOutstreamTopCenter_5e7dea4b319b6675881fa756"},{"variants":[{"weight":0}],"type":"bernoulliTrial","abgroup":"sotc_54bdb2d6358b65853f5fe5c4","key":"StickyOutstreamTopCenter_54bdb2d6358b65853f5fe5c4"},{"variants":[{"weight":0}],"type":"bernoulliTrial","abgroup":"sotc_5ebac21ff67e7555ae952e51","key":"StickyOutstreamTopCenter_5ebac21ff67e7555ae952e51"},{"variants":[{"weight":0}],"type":"bernoulliTrial","abgroup":"sotc_60241fb76f0af53ee0150fba","key":"StickyOutstreamTopCenter_60241fb76f0af53ee0150fba"},{"variants":[{"weight":0}],"type":"bernoulliTrial","abgroup":"sotc_5af420ecfab03c25e571fc36","key":"StickyOutstreamTopCenter_5af420ecfab03c25e571fc36"},{"variants":[{"weight":0}],"type":"bernoulliTrial","abgroup":"sotc_5e42febb231faa5bc174c1e9","key":"StickyOutstreamTopCenter_5e42febb231faa5bc174c1e9"},{"variants":[{"weight":0}],"type":"bernoulliTrial","abgroup":"sotc_62f26eb8e4a64b3ce9532c7b","key":"StickyOutstreamTopCenter_62f26eb8e4a64b3ce9532c7b"},{"variants":[{"weight":0}],"type":"bernoulliTrial","abgroup":"sotc_5ade026821520f50ab7dc946","key":"StickyOutstreamTopCenter_5ade026821520f50ab7dc946"},{"variants":[{"weight":0}],"type":"bernoulliTrial","abgroup":"sotc_5be1d613604fb775e8699c25","key":"StickyOutstreamTopCenter_5be1d613604fb775e8699c25"},{"variants":[{"weight":100}],"type":"bernoulliTrial","abgroup":"scatcve","key":"StickyContainerAdsTopCenterVideoDependency"},{"variants":[{"weight":0}],"type":"bernoulliTrial","abgroup":"ssau","key":"SlickstreamAdUnits"},{"variants":[{"weight":100}],"type":"bernoulliTrial","abgroup":"ssff","key":"StickySidebarFeatureFlag"},{"variants":[{"weight":33,"value":"20sc"},{"weight":33,"value":"20s"},{"weight":34,"value":"off"}],"type":"weightedChoice","abgroup":"multirefauc","key":"MultistagePrebidAuction"},{"variants":[{"weight":1,"value":"none"},{"weight":99,"value":"8.27.1"}],"type":"weightedChoice","abgroup":"jwpv","key":"JWPVersionExperiment"},{"variants":[{"weight":70,"value":10000},{"weight":7,"value":15000},{"weight":7,"value":20000},{"weight":10,"value":25000},{"weight":3,"value":1000},{"weight":3,"value":2000}],"type":"weightedChoice","abgroup":"ainv","key":"AdInViewExperiment"},{"variants":[{"weight":1}],"type":"bernoulliTrial","abgroup":"dovh","key":"DetectOverlappingHeader"},{"variants":[{"weight":100}],"type":"bernoulliTrial","abgroup":"vcsu","key":"VideoCollapseScrollUp"},{"variants":[{"weight":100}],"type":"bernoulliTrial","abgroup":"sotcDA","key":"StickyOutstreamTopCenterDA"},{"variants":[{"weight":33,"value":0},{"weight":33,"value":1},{"weight":34,"value":1.5}],"type":"weightedChoice","abgroup":"csld","key":"ConnectionSpeedLazyLoad"},{"variants":[{"weight":99,"value":"Continuing without bids"},{"weight":99,"value":"xhr timeout after"}],"type":"multivalueBernoulliTrial","abgroup":"dsle","key":"DialDownLogsExperiment"}]};

    'use strict';window.adthrive.branch=window.adthrive.branch||"main 3d02979";window.adthrive.bucket=window.adthrive.bucket||"flex";window.adthrive.gdpr="false";window.adthrive.deployment=window.adthrive.deployment||"X";
var adthrive=function(){function ik(a,b,c,d){a.reverse().forEach(e=>{d=e(b,c,d)||d});return d}function jk(a,b){a.reverse().forEach(c=>{(c=c(b))&&(b=c)});return b}function xi(a,b){return dc.get(a)&&dc.get(a).get(b)}function ec(a,b,c){if(void 0===b)throw new TypeError;return(b=xi(b,c))&&b.get(a)}function yi(a,b,c,d){if(d&&!["string","symbol"].includes(typeof d))throw new TypeError;var e;(e=xi(c,d))||(e=dc.get(c)||new Map,dc.set(c,e),c=e.get(d)||new Map,e.set(d,c),e=c);e.set(a,b)}function yd(a,b,c){return ec(a,
b,c)?ec(a,b,c):Object.getPrototypeOf(b)?yd(a,Object.getPrototypeOf(b),c):void 0}function zd(a,b){function c(){this.constructor=a}Ad(a,b);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}function fc(a){var b="function"===typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"===typeof a.length)return{next:function(){a&&d>=a.length&&(a=void 0);return{value:a&&a[d++],done:!a}}};throw new TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.");
}function gc(a,b){var c="function"===typeof Symbol&&a[Symbol.iterator];if(!c)return a;a=c.call(a);var d,e=[];try{for(;(void 0===b||0<b--)&&!(d=a.next()).done;)e.push(d.value)}catch(h){var g={error:h}}finally{try{d&&!d.done&&(c=a["return"])&&c.call(a)}finally{if(g)throw g.error;}}return e}function Sa(){for(var a=[],b=0;b<arguments.length;b++)a=a.concat(gc(arguments[b]));return a}function kk(a){var b=Reflect.getMetadata("design:paramtypes",a)||[],c=Reflect.getOwnMetadata("injectionTokens",a)||{};Object.keys(c).forEach(function(d){b[+d]=
c[d]});return b}function T(a,b){return function(c,d,e){d=Reflect.getOwnMetadata("injectionTokens",c)||{};d[e]=b?{token:a,transform:b.transformToken,transformArgs:b.args||[]}:a;Reflect.defineMetadata("injectionTokens",d,c)}}function bb(a){return"string"===typeof a||"symbol"===typeof a}function zi(a){return"object"===typeof a&&"token"in a&&"transform"in a}function lk(a,b,c){void 0===c&&(c="    ");return Sa([a],b.message.split("\n").map(function(d){return c+d})).join("\n")}function t(){return function(a){Ai.set(a,
kk(a))}}function p(){return function(a){t()(a);F.registerSingleton(a)}}function l(a,b,c,d){var e=arguments.length,g=3>e?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var m=a.length-1;0<=m;m--)if(h=a[m])g=(3>e?h(g):3<e?h(b,c,g):h(b,c))||g;return 3<e&&g&&Object.defineProperty(b,c,g),g}function U(a,b){return function(c,d){b(c,d,a)}}function k(a,b){if("object"===typeof Reflect&&"function"===
typeof Reflect.metadata)return Reflect.metadata(a,b)}function hc(a,b){return a===b||a!==a&&b!==b}function ic(a,b){for(var c=a.length;c--;)if(hc(a[c][0],b))return c;return-1}function Ia(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function vb(a){if(null==a)return void 0===a?"[object Undefined]":"[object Null]";if(Bi&&Bi in Object(a)){var b=mk.call(a,wb),c=a[wb];try{a[wb]=void 0;var d=!0}catch(g){}var e=nk.call(a);d&&(b?a[wb]=c:delete a[wb]);a=e}else a=ok.call(a);
return a}function Aa(a){var b=typeof a;return null!=a&&("object"==b||"function"==b)}function Bd(a){if(!Aa(a))return!1;a=vb(a);return"[object Function]"==a||"[object GeneratorFunction]"==a||"[object AsyncFunction]"==a||"[object Proxy]"==a}function Cd(a,b){a=null==a?void 0:a[b];if(!Aa(a)||Ci&&Ci in a)var c=!1;else{b=Bd(a)?pk:qk;var d=b.test;b:if(null!=a){try{c=rk.call(a);break b}catch(e){}c=a+""}else c="";c=d.call(b,c)}return c?a:void 0}function Ta(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<
c;){var d=a[b];this.set(d[0],d[1])}}function jc(a,b){a=a.__data__;var c=typeof b;return("string"==c||"number"==c||"symbol"==c||"boolean"==c?"__proto__"!==b:null===b)?a["string"==typeof b?"string":"hash"]:a.map}function cb(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function db(a){this.size=(this.__data__=new Ia(a)).size}function Dd(a,b,c){"__proto__"==b&&kc?kc(a,b,{configurable:!0,enumerable:!0,value:c,writable:!0}):a[b]=c}function Ed(a,b,c){(void 0===
c||hc(a[b],c))&&(void 0!==c||b in a)||Dd(a,b,c)}function Di(a){var b=a&&a.constructor;return a===("function"==typeof b&&b.prototype||sk)}function eb(a){return null!=a&&"object"==typeof a}function Ei(a){return eb(a)&&"[object Arguments]"==vb(a)}function Fi(a){return"number"==typeof a&&-1<a&&0==a%1&&9007199254740991>=a}function Fd(a){return null!=a&&Fi(a.length)&&!Bd(a)}function tk(){return!1}function uk(a){return eb(a)&&Fi(a.length)&&!!Z[vb(a)]}function vk(a){return function(b){return a(b)}}function Gd(a,
b){if(("constructor"!==b||"function"!==typeof a[b])&&"__proto__"!=b)return a[b]}function Gi(a,b){var c=typeof a;b=null==b?9007199254740991:b;return!!b&&("number"==c||"symbol"!=c&&wk.test(a))&&-1<a&&0==a%1&&a<b}function Hi(a){if(Fd(a)){var b=Hd(a),c=!b&&Id(a),d=!b&&!c&&Ii(a),e=!b&&!c&&!d&&Ji(a);if(b=b||c||d||e){c=a.length;for(var g=String,h=-1,m=Array(c);++h<c;)m[h]=g(h);c=m}else c=[];g=c.length;for(var q in a)b&&("length"==q||d&&("offset"==q||"parent"==q)||e&&("buffer"==q||"byteLength"==q||"byteOffset"==
q)||Gi(q,g))||c.push(q);a=c}else if(Aa(a)){q=Di(a);e=[];for(d in a)("constructor"!=d||!q&&xk.call(a,d))&&e.push(d);a=e}else{q=[];if(null!=a)for(e in Object(a))q.push(e);a=q}return a}function Ki(a,b,c,d,e){a!==b&&yk(b,function(g,h){e||(e=new db);if(Aa(g)){g=e;var m=Gd(a,h),q=Gd(b,h),w=g.get(q);if(w)Ed(a,h,w);else{var u=d?d(m,q,h+"",a,b,g):void 0;if(w=void 0===u){var v=Hd(q),A=!v&&Ii(q),G=!v&&!A&&Ji(q);u=q;if(v||A||G)if(Hd(m))u=m;else if(eb(m)&&Fd(m))for(u=void 0,v=-1,A=m.length,u||(u=Array(A));++v<
A;)u[v]=m[v];else A?(w=!1,u=q.slice()):G?(w=!1,m=q.buffer,u=new m.constructor(m.byteLength),(new Li(u)).set(new Li(m)),u=new q.constructor(u,q.byteOffset,q.length)):u=[];else if(eb(q)&&"[object Object]"==vb(q)?(v=Mi(q),null===v?v=!0:(v=zk.call(v,"constructor")&&v.constructor,v="function"==typeof v&&v instanceof v&&Ni.call(v)==Ak)):v=!1,v||Id(q))if(u=m,Id(m)){u=Hi(m);v=void 0;A=!v;v||(v={});G=-1;for(var L=u.length;++G<L;){var J=u[G],D=void 0;void 0===D&&(D=m[J]);if(A)Dd(v,J,D);else{var P=v,M=P[J];
Bk.call(P,J)&&hc(M,D)&&(void 0!==D||J in P)||Dd(P,J,D)}}u=v}else{if(!Aa(m)||Bd(m))u="function"!=typeof q.constructor||Di(q)?{}:Ck(Mi(q))}else w=!1}w&&(g.set(q,u),Ki(u,q,c,d,g),g["delete"](q));Ed(a,h,u)}}else q=d?d(Gd(a,h),g,h+"",a,b,e):void 0,void 0===q&&(q=g),Ed(a,h,q)},Hi)}function Oi(a){return a}function Dk(a,b,c){switch(c.length){case 0:return a.call(b);case 1:return a.call(b,c[0]);case 2:return a.call(b,c[0],c[1]);case 3:return a.call(b,c[0],c[1],c[2])}return a.apply(b,c)}function Ek(a,b,c){b=
Pi(void 0===b?a.length-1:b,0);return function(){for(var d=arguments,e=-1,g=Pi(d.length-b,0),h=Array(g);++e<g;)h[e]=d[b+e];e=-1;for(g=Array(b+1);++e<b;)g[e]=d[e];g[b]=c(h);return Dk(a,this,g)}}function Fk(a){return function(){return a}}function Gk(a,b){return Hk(Ek(a,b,Oi),a+"")}function fb(a,b){void 0===b&&(b={});b=b.insertAt;if(a&&"undefined"!==typeof document){var c=document.head||document.getElementsByTagName("head")[0],d=document.createElement("style");d.type="text/css";"top"===b?c.firstChild?
c.insertBefore(d,c.firstChild):c.appendChild(d):c.appendChild(d);d.styleSheet?d.styleSheet.cssText=a:d.appendChild(document.createTextNode(a))}}function Qi(a){if("number"==typeof a)return a;var b=a;if("symbol"==typeof b||eb(b)&&"[object Symbol]"==vb(b))return Ri;Aa(a)&&(a="function"==typeof a.valueOf?a.valueOf():a,a=Aa(a)?a+"":a);if("string"!=typeof a)return 0===a?a:+a;if(a){b=a.slice;for(var c=a.length;c--&&Ik.test(a.charAt(c)););a=b.call(a,0,c+1).replace(Jk,"")}return(b=Kk.test(a))||Lk.test(a)?
Mk(a.slice(2),b?2:8):Nk.test(a)?Ri:+a}function Si(a,b,c){function d(M){var ca=q,fa=w;q=w=void 0;G=M;return u=a.apply(fa,ca)}function e(M){var ca=M-A;M-=G;return void 0===A||ca>=b||0>ca||J&&M>=P}function g(){var M=Ka.Date.now();if(e(M))return h(M);var ca=setTimeout;var fa=M-G;M=b-(M-A);fa=J?Ok(M,P-fa):M;v=ca(g,fa)}function h(M){v=void 0;if(D&&q)return d(M);q=w=void 0;return u}function m(){var M=Ka.Date.now(),ca=e(M);q=arguments;w=this;A=M;if(ca){if(void 0===v)return G=M=A,v=setTimeout(g,b),L?d(M):
u;if(J)return clearTimeout(v),v=setTimeout(g,b),d(A)}void 0===v&&(v=setTimeout(g,b));return u}var q,w,u,v,A,G=0,L=!1,J=!1,D=!0;if("function"!=typeof a)throw new TypeError("Expected a function");b=Qi(b)||0;if(Aa(c)){L=!!c.leading;var P=(J="maxWait"in c)?Pk(Qi(c.maxWait)||0,b):P;D="trailing"in c?!!c.trailing:D}m.cancel=function(){void 0!==v&&clearTimeout(v);G=0;q=A=w=v=void 0};m.flush=function(){return void 0===v?u:h(Ka.Date.now())};return m}function Jd(a,b,c){var d=!0,e=!0;if("function"!=typeof a)throw new TypeError("Expected a function");
Aa(c)&&(d="leading"in c?!!c.leading:d,e="trailing"in c?!!c.trailing:e);return Si(a,b,{leading:d,maxWait:b,trailing:e})}window.adthrive.buildDate="2023-08-02";let dc=new WeakMap;Object.assign(Reflect,{decorate:function(a,b,c,d){if(!Array.isArray(a)||0===a.length)throw new TypeError;if(void 0!==c)return ik(a,b,c,d);if("function"===typeof b)return jk(a,b)},defineMetadata:function(a,b,c,d){yi(a,b,c,d)},getMetadata:function(a,b,c){return yd(a,b,c)},getOwnMetadata:function(a,b,c){return ec(a,b,c)},hasMetadata:function(a,
b,c){return!!yd(a,b,c)},hasOwnMetadata:function(a,b,c){return!!ec(a,b,c)},metadata:function(a,b){return function(c,d){yi(a,b,c,d)}}});var Kd;(function(a){a[a.Transient=0]="Transient";a[a.Singleton=1]="Singleton";a[a.ResolutionScoped=2]="ResolutionScoped";a[a.ContainerScoped=3]="ContainerScoped"})(Kd||(Kd={}));var pa=Kd,Ad=function(a,b){Ad=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var e in d)d.hasOwnProperty(e)&&(c[e]=d[e])};return Ad(a,
b)},Ti=function(){function a(b){this.wrap=b;this.reflectMethods="get getPrototypeOf setPrototypeOf getOwnPropertyDescriptor defineProperty has set deleteProperty apply construct ownKeys".split(" ")}a.prototype.createProxy=function(b){var c=this,d=!1,e;return new Proxy({},this.createHandler(function(){d||(e=b(c.wrap()),d=!0);return e}))};a.prototype.createHandler=function(b){var c={};this.reflectMethods.forEach(function(d){c[d]=function(){for(var e=[],g=0;g<arguments.length;g++)e[g]=arguments[g];e[0]=
b();return Reflect[d].apply(void 0,Sa(e))}});return c};return a}(),Ld=function(){function a(){this._registryMap=new Map}a.prototype.entries=function(){return this._registryMap.entries()};a.prototype.getAll=function(b){this.ensure(b);return this._registryMap.get(b)};a.prototype.get=function(b){this.ensure(b);b=this._registryMap.get(b);return b[b.length-1]||null};a.prototype.set=function(b,c){this.ensure(b);this._registryMap.get(b).push(c)};a.prototype.setAll=function(b,c){this._registryMap.set(b,c)};
a.prototype.has=function(b){this.ensure(b);return 0<this._registryMap.get(b).length};a.prototype.clear=function(){this._registryMap.clear()};a.prototype.ensure=function(b){this._registryMap.has(b)||this._registryMap.set(b,[])};return a}(),Qk=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}zd(b,a);return b}(Ld),Ui=function(){return function(){this.scopedResolutions=new Map}}(),Rk=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}zd(b,a);return b}(Ld),Sk=
function(a){function b(){return null!==a&&a.apply(this,arguments)||this}zd(b,a);return b}(Ld),Tk=function(){return function(){this.preResolution=new Rk;this.postResolution=new Sk}}(),Ai=new Map,F=new (function(){function a(b){this.parent=b;this._registry=new Qk;this.interceptors=new Tk}a.prototype.register=function(b,c,d){void 0===d&&(d={lifecycle:pa.Transient});c=c.useClass||void 0!=c.useValue||c.useToken||c.useFactory?c:{useClass:c};if(c.useToken)for(var e=[b],g=c;null!=g;){g=g.useToken;if(e.includes(g))throw Error("Token registration cycle detected! "+
Sa(e,[g]).join(" -> "));e.push(g);g=(g=this._registry.get(g))&&g.provider.useToken?g.provider:null}if(d.lifecycle===pa.Singleton||d.lifecycle==pa.ContainerScoped||d.lifecycle==pa.ResolutionScoped)if(void 0!=c.useValue||c.useFactory)throw Error('Cannot use lifecycle "'+pa[d.lifecycle]+'" with ValueProviders or FactoryProviders');this._registry.set(b,{provider:c,options:d});return this};a.prototype.registerType=function(b,c){return bb(c)?this.register(b,{useToken:c}):this.register(b,{useClass:c})};
a.prototype.registerInstance=function(b,c){return this.register(b,{useValue:c})};a.prototype.registerSingleton=function(b,c){if(bb(b)){if(bb(c))return this.register(b,{useToken:c},{lifecycle:pa.Singleton});if(c)return this.register(b,{useClass:c},{lifecycle:pa.Singleton});throw Error('Cannot register a type name as a singleton without a "to" token');}var d=b;c&&!bb(c)&&(d=c);return this.register(b,{useClass:d},{lifecycle:pa.Singleton})};a.prototype.resolve=function(b,c){void 0===c&&(c=new Ui);var d=
this.getRegistration(b);if(!d&&bb(b))throw Error('Attempted to resolve unregistered dependency token: "'+b.toString()+'"');this.executePreResolutionInterceptor(b,"Single");if(d)return c=this.resolveRegistration(d,c),this.executePostResolutionInterceptor(b,c,"Single"),c;if("function"===typeof b||b instanceof Ti)return c=this.construct(b,c),this.executePostResolutionInterceptor(b,c,"Single"),c;throw Error("Attempted to construct an undefined constructor. Could mean a circular dependency problem. Try using `delay` function.");
};a.prototype.executePreResolutionInterceptor=function(b,c){var d;if(this.interceptors.preResolution.has(b)){var e=[];try{for(var g=fc(this.interceptors.preResolution.getAll(b)),h=g.next();!h.done;h=g.next()){var m=h.value;"Once"!=m.options.frequency&&e.push(m);m.callback(b,c)}}catch(w){var q={error:w}}finally{try{h&&!h.done&&(d=g.return)&&d.call(g)}finally{if(q)throw q.error;}}this.interceptors.preResolution.setAll(b,e)}};a.prototype.executePostResolutionInterceptor=function(b,c,d){var e;if(this.interceptors.postResolution.has(b)){var g=
[];try{for(var h=fc(this.interceptors.postResolution.getAll(b)),m=h.next();!m.done;m=h.next()){var q=m.value;"Once"!=q.options.frequency&&g.push(q);q.callback(b,c,d)}}catch(u){var w={error:u}}finally{try{m&&!m.done&&(e=h.return)&&e.call(h)}finally{if(w)throw w.error;}}this.interceptors.postResolution.setAll(b,g)}};a.prototype.resolveRegistration=function(b,c){if(b.options.lifecycle===pa.ResolutionScoped&&c.scopedResolutions.has(b))return c.scopedResolutions.get(b);var d=b.options.lifecycle===pa.ContainerScoped;
d=b.options.lifecycle===pa.Singleton||d;d=void 0!=b.provider.useValue?b.provider.useValue:b.provider.useToken?d?b.instance||(b.instance=this.resolve(b.provider.useToken,c)):this.resolve(b.provider.useToken,c):b.provider.useClass?d?b.instance||(b.instance=this.construct(b.provider.useClass,c)):this.construct(b.provider.useClass,c):b.provider.useFactory?b.provider.useFactory(this):this.construct(b.provider,c);b.options.lifecycle===pa.ResolutionScoped&&c.scopedResolutions.set(b,d);return d};a.prototype.resolveAll=
function(b,c){var d=this;void 0===c&&(c=new Ui);var e=this.getAllRegistrations(b);if(!e&&bb(b))throw Error('Attempted to resolve unregistered dependency token: "'+b.toString()+'"');this.executePreResolutionInterceptor(b,"All");if(e)return e=e.map(function(g){return d.resolveRegistration(g,c)}),this.executePostResolutionInterceptor(b,e,"All"),e;e=[this.construct(b,c)];this.executePostResolutionInterceptor(b,e,"All");return e};a.prototype.isRegistered=function(b,c){void 0===c&&(c=!1);return this._registry.has(b)||
c&&(this.parent||!1)&&this.parent.isRegistered(b,!0)};a.prototype.reset=function(){this._registry.clear();this.interceptors.preResolution.clear();this.interceptors.postResolution.clear()};a.prototype.clearInstances=function(){var b;try{for(var c=fc(this._registry.entries()),d=c.next();!d.done;d=c.next()){var e=gc(d.value,2);this._registry.setAll(e[0],e[1].filter(function(h){return void 0==h.provider.useValue}).map(function(h){h.instance=void 0;return h}))}}catch(h){var g={error:h}}finally{try{d&&
!d.done&&(b=c.return)&&b.call(c)}finally{if(g)throw g.error;}}};a.prototype.createChildContainer=function(){var b,c=new a(this);try{for(var d=fc(this._registry.entries()),e=d.next();!e.done;e=d.next()){var g=gc(e.value,2),h=g[0],m=g[1];m.some(function(w){return w.options.lifecycle===pa.ContainerScoped})&&c._registry.setAll(h,m.map(function(w){return w.options.lifecycle===pa.ContainerScoped?{provider:w.provider,options:w.options}:w}))}}catch(w){var q={error:w}}finally{try{e&&!e.done&&(b=d.return)&&
b.call(d)}finally{if(q)throw q.error;}}return c};a.prototype.beforeResolution=function(b,c,d){void 0===d&&(d={frequency:"Always"});this.interceptors.preResolution.set(b,{callback:c,options:d})};a.prototype.afterResolution=function(b,c,d){void 0===d&&(d={frequency:"Always"});this.interceptors.postResolution.set(b,{callback:c,options:d})};a.prototype.getRegistration=function(b){return this.isRegistered(b)?this._registry.get(b):this.parent?this.parent.getRegistration(b):null};a.prototype.getAllRegistrations=
function(b){return this.isRegistered(b)?this._registry.getAll(b):this.parent?this.parent.getAllRegistrations(b):null};a.prototype.construct=function(b,c){var d=this;if(b instanceof Ti)return b.createProxy(function(g){return d.resolve(g,c)});var e=Ai.get(b);if(!e||0===e.length){if(0===b.length)return new b;throw Error('TypeInfo not known for "'+b.name+'"');}e=e.map(this.resolveParams(c,b));return new (b.bind.apply(b,Sa([void 0],e)))};a.prototype.resolveParams=function(b,c){var d=this;return function(e,
g){var h,m,q;try{return"object"===typeof e&&"token"in e&&"multiple"in e?zi(e)?e.multiple?(h=d.resolve(e.transform)).transform.apply(h,Sa([d.resolveAll(e.token)],e.transformArgs)):(m=d.resolve(e.transform)).transform.apply(m,Sa([d.resolve(e.token,b)],e.transformArgs)):e.multiple?d.resolveAll(e.token):d.resolve(e.token,b):zi(e)?(q=d.resolve(e.transform,b)).transform.apply(q,Sa([d.resolve(e.token,b)],e.transformArgs)):d.resolve(e,b)}catch(w){throw e=Error,h=w,m=gc(c.toString().match(/constructor\(([\w, ]+)\)/)||
[],2)[1],m=void 0===m?null:m,g=null===m?"at position #"+g:'"'+m.split(",")[g].trim()+'" at position #'+g,g=lk("Cannot inject the dependency "+g+' of "'+c.name+'" constructor. Reason:',h),new e(g);}}};return a}());if("undefined"===typeof Reflect||!Reflect.getMetadata)throw Error("tsyringe requires a reflect polyfill. Please add 'import \"reflect-metadata\"' to the top of your entry point.");class Vi{}let Md=class extends Vi{constructor(){super(...arguments);this.name="StorageHandler";this.disable=
!1;this.gdprPurposes=[1];this._storageHandlerQueue=[];this._shouldQueue=!1;this.removeLocalStorageValue=(a,b=!0)=>{window.localStorage.removeItem(`${b?"adthrive_":""}${a.toLowerCase()}`)};this.getLocalStorageValue=(a,b=!0,c,d)=>{let e=b?"adthrive_":"";if(this.disable)return null;try{let g=window.localStorage.getItem(`${e}${a.toLowerCase()}`);if(g){let h=JSON.parse(g),m=void 0!==c&&Date.now()-h.created>=c;if(h&&!m)return d&&this.setLocalStorageValue(a,h.value,b),h.value}}catch(g){return window.localStorage.getItem(`${e}${a.toLowerCase()}`)}return null};
this.setLocalStorageValue=(a,b,c=!0)=>{try{c=c?"adthrive_":"";let d={value:b,created:Date.now()};if(this._gdpr&&this._shouldQueue){let e={key:`${c}${a.toLowerCase()}`,value:JSON.stringify(d)};this._storageHandlerQueue.push(e)}else window.localStorage.setItem(`${c}${a.toLowerCase()}`,JSON.stringify(d))}catch(d){}};this.isValidABGroupLocalStorageValue=a=>void 0!==a&&null!==a&&!("number"===typeof a&&isNaN(a));this.getOrSetLocalStorageValue=(a,b)=>{let {key:c,timeout:d,rolling:e=!0,cb:g,adthriveKey:h}=
a;a=this.getLocalStorageValue(c,h,d,e);if(null!==a)return a;b=b();this.setLocalStorageValue(c,b,h);g&&g(b);return b};this.getOrSetABGroupLocalStorageValue=(a,b,c,d=!0,e)=>{c=this.getLocalStorageValue("abgroup",!0,c,d);if(null!==c&&(d=c[a],this.isValidABGroupLocalStorageValue(d)))return d;b=b();this.setLocalStorageValue("abgroup",{...c,[a]:b});e&&e();return b}}init(a){this._shouldQueue=this._gdpr="true"===a.gdpr}clearQueue(a){a&&(this._shouldQueue=!1,this._storageHandlerQueue.forEach(b=>{window.localStorage.setItem(b.key,
b.value)}));this._storageHandlerQueue=[]}setSessionFpv(){this.setLocalStorageValue("session_fpv",null===this.getLocalStorageValue("session_fpv")?!0:!1)}};Md=l([p()],Md);let H=new Md,Nd=class{constructor(){this.emitters=new Set}};Nd=l([p()],Nd);let Wi=F.resolve(Nd).emitters;class z{constructor(){this._listeners=new Set;this._emitted=0;this._pastEvents=[];this._onces=[]}on(a,b){this._listeners.add(a);(null===b||void 0===b?0:b.handleEventsAlreadyEmitted)&&this._pastEvents.forEach(a);return()=>{this.off(a)}}off(a){this._listeners.delete(a)}once(a,
b=!0){let c=this.on((...d)=>{c();a(...d)});b&&(this._onces.push(()=>this.once(a,!1)),this._trackStatefulEmitter())}legacyOnce(){return new Promise(a=>{let b=this.on((...c)=>{b();return a(...c)})})}_trackStatefulEmitter(){Wi.add(this)}async legacyEmit(a){this._pastEvents.push(a);return Promise.all([...this._listeners].map(b=>b(a))).then(b=>{this._emitted++;return b})}emit(a){this._pastEvents.push(a);[...this._listeners].forEach(b=>b(a));this._emitted++;this._trackStatefulEmitter()}clear(){this._listeners.clear()}resetEmitted(){this._emitted=
0}resetOnces(){this._onces.forEach(a=>a())}get count(){return this._listeners.size}get emitted(){return this._emitted}get onces(){return this._onces}}let lc=class extends Vi{constructor(){super(...arguments);this.name="Logger";this.gdprPurposes=[7];this._shouldQueue=this.disable=!1;this.sending=new z;this.logQueue=[];this.suppressedEventLogNames=new Map([["SlotRenderEnded","adImpression"],["VideoUtils","getPlacementElement"],["PrebidAuctionManager","_logAuctionDebug"],["PrebidAuctionManager","init"]])}init(a){this.logFilter=
a.loggerFilters||[];this.siteId=a.siteAds.siteId;this.siteName=a.siteAds.siteName;this.bucket=a.bucket;this.branch=a.branch;this.deployment=a.deployment;this.debug=a.debug;this._shouldQueue=this._gdpr="true"===a.gdpr}log(a,b,...c){this.call(console.log,a,b,...c)}info(a,b,...c){this.call(console.info,a,b,...c)}warn(a,b,...c){this.call(console.warn,a,b,...c)}error(a,b,...c){this.shouldLog(a,b)&&this.call(console.error,a,b,...c);this.makeRequest("send","error",a,b,...c).catch(d=>{this.shouldLog(a,b)&&
console.error(d)})}shouldLog(a,b){return!!this.debug&&!this.suppressedEventLogNames.has(a)&&this.suppressedEventLogNames.get(a)!==b}event(a,b,...c){this.shouldLog(a,b)&&this.call(console.log,a,b,...c);this.makeRequest("send","event",a,b,...c).catch(d=>{console.error(d)})}fetchEvent(a,b,...c){this.debug&&this.call(console.log,a,b,...c);this.makeRequest("fetch","event",a,b,...c).catch(d=>{console.error(d)})}call(a,b,c,...d){let e=this.logFilter;if(!(e&&e.length&&e.includes(b))){b=[`%c${b}::${c} `];
c=["color: #999; font-weight: bold;"];0<d.length&&"string"===typeof d[0]&&b.push(d.shift());c.push(...d);try{Function.prototype.apply.call(a,console,[b.join(""),...c])}catch(g){console.error(g)}}}buildRequestUrl(a,b,c,d){a=`https://logger.adthrive.com/${a}`;b=[`${b}::${c} `];0<d.length&&"string"===typeof d[0]&&b.push(d.shift());d=d.map(e=>{e&&e.error&&(e=e.error);e instanceof Error&&(e={name:e.name,message:e.message,stack:e.stack});return e});this.data&&d.push(this.data);d=[`siteId=${encodeURIComponent(this.siteId||
"")}`,`siteName=${encodeURIComponent(this.siteName||"")}`,`bucket=${encodeURIComponent(this.bucket||"")}`,`branch=${encodeURIComponent(this.branch||"")}`,`deployment=${encodeURIComponent(this.deployment||"")}`,`message=${encodeURIComponent(b.join("").trim())}`,`pageurl=${encodeURIComponent(window.location.origin+window.location.pathname)}`,`body=${encodeURIComponent(JSON.stringify(d))}`];return`${a}?${d.join("&")}`}clearQueue(a){this.info("Logger","gdprEnforcement","clearLogQueue",a);a&&(this._shouldQueue=
!1,this.logQueue.forEach(b=>{"send"===b.action&&this.sendRequest(b.type,b.className,b.methodName,...b.args).catch(()=>{});"fetch"===b.action&&this.fetchRequest(b.type,b.className,b.methodName,...b.args).catch(()=>{})}));this.logQueue=[]}async makeRequest(a,b,c,d,...e){return this.disable?(this.info("Logger","gdprEnforcement","logging disabled"),Promise.resolve(!1)):this._gdpr&&this._shouldQueue?(this.logQueue.push({action:a,type:b,className:c,methodName:d,args:e}),this.info("Logger","gdprEnforcement",
"log queued"),Promise.resolve(!0)):"send"===a?this.sendRequest(b,c,d,...e):this.fetchRequest(b,c,d,...e)}async sendRequest(a,b,c,...d){this.sending.emit();let e=this.buildRequestUrl(a,b,c,d);return 8192<e.length?this.sendRequest(a,b,c,"Payload too large. Logger cannot send").catch(g=>{console.error(g)}):new Promise((g,h)=>{let m=new XMLHttpRequest;m.open("get",e);let q="logger"===b&&"sendRequest"===c;m.addEventListener("load",()=>200!==m.status?(q||this.error("logger","sendRequest",...d,{className:b,
methodName:c}),h(Error(`Logger send request failed ${m.status}`))):g(m.responseText));m.addEventListener("error",()=>{q||this.error("logger","sendRequest",...d,{className:b,methodName:c});return h(Error("Logger send request failed"))});m.send()})}async fetchRequest(a,b,c,...d){this.sending.emit();a=this.buildRequestUrl(a,b,c,d);return fetch(a,{method:"GET",keepalive:!0,referrerPolicy:"no-referrer-when-downgrade"})}};lc=l([t()],lc);let r=new lc;class Uk{constructor(a){this._wait=a;this._timeouts=new Map}async limit(a){return new Promise(b=>
{this._timeouts.has(a)&&window.clearTimeout(this._timeouts.get(a));let c=window.setTimeout(()=>{b()},this._wait);this._timeouts.set(a,c)})}}let Od=class extends lc{};Od=l([t()],Od);let gb=new Od,Vk=[.1,5,20,100],Wk=new Map([[.1,100],[5,20],[20,10],[100,2]]),mc=(a,b)=>a?"flat"===a.type?b-a.value:a.value*b:b,Xi=(a,b,c,d=!0)=>{var e=c&&c.mediaType||"default";d&&(e=c&&c.adUnitCode||"",d=a.video.instreamAdUnits.has(e),e=e.includes("Video_StickyOutstream"),c=!d&&!e&&("vastUrl"in c||"vastXml"in c),e=d?"instream":
e?"stickyOutstream":c?"outstream":"default");return a.partners.getBidderConfig(b).cpmMap.get(a.partners.getBidderConfig(b).cpmMap.has(e)?e:"default")},Yi=(a,b,c,d)=>(a=Xi(a,b,c))?"flat"===a.type?d+a.value:d/a.value:d,Pd=(a,b,c,d)=>{var e;const g=!d.isAmazon,h=g?null===d||void 0===d?void 0:d.dealId:d.amzndeal_sp,m=a.partners.getBidderConfig(c).cpmMap.get("pmp");if(h&&m)return(a=null===(e=m.deals)||void 0===e?void 0:e.filter(q=>q.name===h.toString())[0])?"flat"===m.type?mc(a,b):m.value*mc(a,b):mc(m,
b);e=Xi(a,c,d,g);return mc(e,b)},Xk=a=>{var b=Vk.find(c=>a<=c)||100;b=Wk.get(b);return Math.floor(a*b)/b},nc=(a,b,c,d,e)=>{const g="instream"===e;b={...b};b.mediaType=e;b.isAmazon=!0;c=Pd(a,d,c,b);g&&(c-=a.video.vidDiscount);return Xk(Math.max(c,0)).toString()},Qd=navigator.vendor,ha=navigator.userAgent,Ua=(a,b)=>/Chrom/.test(a||ha)&&/Google/.test(b||Qd)&&!/Edge\/|Edg\//.test(a||ha)&&!/Opera|OPR/.test(a||ha),Rd=(a,b)=>/Safari/.test(a||ha)&&/Apple Computer/.test(b||Qd)&&!/Edge\/|Edg\//.test(a||ha)&&
!/Opera|OPR/.test(a||ha),Zi=(a,b)=>Ua(a,b)?"Chrome":Rd(a,b)?"Safari":/Edge\/|Edg\//.test(a||ha)?"Edge":/Firefox/.test(a||ha)?"Firefox":/Opera|OPR/.test(a||ha)?"Opera":/Trident|MSIE/.test(a||ha)?"IE":"Others",$i=(a,b)=>{b=Zi(a||ha,b||Qd);if("Chrome"===b){a=a||ha;b=a.indexOf("Chrom");if(-1!==b){b+=7;var c=a.indexOf(" ",b);a=a.substring(b,c)}else a=null;return a}if("Safari"===b)return a=a||ha,b=a.indexOf("Version/"),-1!==b?(b+=8,c=a.indexOf(" ",b),a=a.substring(b,c)):(b=a.indexOf("Safari/"),-1!==b?(b+=
7,c=a.indexOf(" ",b),a=a.substring(b,c)):a=null),a;if("Firefox"===b)return a=a||ha,b=a.indexOf("Firefox/"),-1!==b?(b+=8,c=a.indexOf(" ",b),-1===c&&(c=a.length),a=a.substring(b,c)):a=null,a;if("Edge"===b)return a=a||ha,b=a.indexOf("Edg/"),-1!==b?(b+=4,c=a.indexOf(" ",b),-1===c&&(c=a.length),a=a.substring(b,c)):a=null,a;if("IE"===b)return a=a||ha,b=a.indexOf("MSIE "),-1!==b?(b+=5,c=a.indexOf(";",b),-1===c&&(c=a.length),a=a.substring(b,c)):a=void 0,a;if("Opera"===b)return a=a||ha,b=a.indexOf("OPR/"),
-1!==b?(b+=4,c=a.indexOf(" ",b),a=a.substring(b,c)):a="Unknown",a},Sd=()=>{const a=document.querySelector(".adthrive-footer");let b=52;a&&"none"===a.style.display?b=102:a&&(b=Math.max(a.getBoundingClientRect().height,b));return b},Ea=(a,b,c,d,e)=>{const g=document.createElement(a);b&&g.setAttribute("id",b);c&&(g.className=c);d&&(g.innerHTML=d);e&&(g.href=e,"a"===a&&g.addEventListener("click",h=>{h.preventDefault()}));return g},oc=(a,b=0,c=!1,d=74)=>{if(a.parentElement&&b!==d){var e=getComputedStyle(a.parentElement).overflow;
if("hidden"===e||"auto"===e)a.parentElement.style.overflow="visible",c||(c=!0,r.event("util","checkForOverflow","parent element with overflow detected"));oc(a.parentElement,++b,c,d)}},B=(a,b)=>null==a||a!==a?b:a,aj=a=>new Promise(b=>{setTimeout(b,a)}),pc=(a,b)=>{const c=window.innerWidth;return c>=b?"desktop":c>=a?"tablet":"phone"},bj=()=>new Promise(a=>{if("interactive"===document.readyState||"complete"===document.readyState)return a();document.addEventListener("DOMContentLoaded",()=>a())}),Yk=a=>
{let b=a.clientWidth;getComputedStyle&&(a=getComputedStyle(a,null),b-=parseFloat(a.paddingLeft||"0")+parseFloat(a.paddingRight||"0"));return b},Td=a=>{const b=a.offsetHeight,c=a.offsetWidth;var d=a.getBoundingClientRect();const e=document.body,g=document.documentElement;a=Math.round(d.top+(window.pageYOffset||g.scrollTop||e.scrollTop)-(g.clientTop||e.clientTop||0));d=Math.round(d.left+(window.pageXOffset||g.scrollLeft||e.scrollLeft)-(g.clientLeft||e.clientLeft||0));return{top:a,left:d,bottom:a+b,
right:d+c,width:c,height:b}},cj=a=>(a=a.match(/([a-zA-Z0-9._!#$%+^&*()[\]<>-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9._-]+)/gi))?a[0]:"",La=(a,b,c)=>c.indexOf(a)===b,Q=()=>{const a=navigator.userAgent,b=/Tablet|iPad|Playbook|Nook|webOS|Kindle|Android (?!.*Mobile).*Safari/i.test(a);return/Mobi|iP(hone|od)|Opera Mini/i.test(a)&&!b},dj=a=>Q()&&"Content"===a.location&&1===a.refreshCount?60:80,ej=a=>0<a.refreshCount?dj(a):a.viewability?Math.min(10*Math.floor(100*a.viewability/10),80):0,Zk=(a=document)=>(a===document?
document.body:a).getBoundingClientRect().top,$k=a=>a.includes(",")?a.split(","):[a],al=(a=document)=>{a=a.querySelectorAll("article");return 0===a.length?null:(a=Array.from(a).reduce((b,c)=>c.offsetHeight>b.offsetHeight?c:b))&&a.offsetHeight>1.5*window.innerHeight?a:null},bl=(a,b,c=document)=>{const d=al(c),e=d?[d]:[],g=[];a.forEach(m=>{const q=Array.from(c.querySelectorAll(m.elementSelector)).slice(0,m.skip);$k(m.elementSelector).forEach(w=>{w=c.querySelectorAll(w);for(let u=0;u<w.length;u++){const v=
w[u];if(b.map.some(({el:G})=>G.isEqualNode(v)))continue;const A=v&&v.parentElement;A&&A!==document.body?e.push(A):e.push(v);-1===q.indexOf(v)&&g.push({dynamicAd:m,element:v})}})});const h=Zk(c);a=g.sort((m,q)=>m.element.getBoundingClientRect().top-h-(q.element.getBoundingClientRect().top-h));return[e,a]},fj=(a,b,c=document)=>{const [d,e]=bl(a,b,c);if(0===d.length)throw Error("No Main Content Elements Found");return[Array.from(d).reduce((g,h)=>h.offsetHeight>g.offsetHeight?h:g)||document.body,e]},
Ud=(a,b="div #comments, section .comments")=>(b=a.querySelector(b))?a.offsetHeight-b.offsetHeight:a.offsetHeight,gj=a=>new Promise((b,c)=>{fetch(a).then(d=>{d.json().then(e=>b(e)).catch(()=>c(!1))}).catch(()=>c(!1))}),Vd=a=>{const b=a.split("."),c=b.length;2<c&&(a=b[c-2]+"."+b[c-1],2!==b[c-2].length&&3!==b[c-2].length||2!==b[c-1].length||(a=b[c-3]+"."+a));return a},Wd=a=>{a:{if(document.referrer&&document.referrer.length){var b=document.referrer;var c=document.createElement("a");c.href=b;b=c.hostname;
c=Vd(b);const d=Vd(window.location.hostname);if(c!==d)break a}b=void 0}return B(b,a)},xb=a=>a.id?`id:${a.id}`:a.classList&&a.classList.value?`class:${a.classList.value.split(" ").join(".")}`:`node:${a.nodeName.toLowerCase()}`,cl=(a,b)=>{const c=document.getElementsByTagName("script")[0];c&&c.parentNode&&!b?c.parentNode.insertBefore(a,c):document.body.appendChild(a)},va=(a,b=!1,c=!1,d=!1)=>new Promise((e,g)=>{const h=document.createElement("script");h.addEventListener("error",()=>g(Error(`Failed to import script ${a}`)));
h.addEventListener("load",()=>e(h));h.type="text/javascript";h.src=a;h.defer=c;h.async=d;cl(h,b)}),hj=(a,b,c)=>{const d=document.createElement("link");d.rel=b;d.href=a;c&&c.length&&c.forEach(e=>{d.setAttribute(e.name,e.value)});document.head.appendChild(d)},ij="Refresh PD Source Browser Topic MCMP Sens".split(" "),yb=(a,b,c=!1)=>{b.addToQueue(()=>{const d=b.getConfig("ix")||{firstPartyData:{}},e={...d.firstPartyData,...a},g={};ij.forEach(h=>{h in e&&(g[h]=e[h])});for(const h in e)ij.includes(h)||
(g[h]=e[h]);d.firstPartyData=g;c&&delete d.firstPartyData.Refresh;b.setConfig({ix:d})})},dl=(a,b)=>{b.addToQueue(()=>{const c=b.getConfig("ix")||{};c.largeFormatSizes=a;b.setConfig({ix:c})})},el=a=>{const b={google:"google",facebook:"facebook",instagram:"instagram",pinterest:"pinterest"};return a.split(".").filter(c=>b[c])[0]||"other"},fl=[50,60,70,80],jj=({event:a,ignoreOtherCompanyIds:b=!1})=>{var c=new Set([-1,0,1,199612376,2143809321]);const d=new Set([4455444655,4460609902,4463579729,4464180925,
4466143841,4550726766,4623743690,4623743882,4634020290,4642901988,4697115760,4801442281,4802163255,4805985973,4807636548,4867316569]);c=!a.campaignId||c.has(a.campaignId);a=!a.companyIds||a.companyIds&&!a.companyIds.some(e=>d.has(e));return b?c:c&&a},gl=()=>{var a=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0);var b=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0);if(5E3<a||5E3<b)return"vpv"},hl=()=>{var a=document.createElement("canvas");const b=(a=
a.getContext&&a.getContext("webgl"))&&a.getExtension&&a.getExtension("WEBGL_debug_renderer_info");if(b&&b.UNMASKED_RENDERER_WEBGL&&"Google SwiftShader"===(a&&a.getParameter(b.UNMASKED_RENDERER_WEBGL)))return"wglv"},il=()=>{var a=gl();var b=navigator&&navigator.webdriver?"wdv":void 0;var c=navigator&&navigator.userAgent&&/python|apis|googleweblight|spider|crawler|curl|wget|ia_archiver|insights|baidu|bot|monitor|scraper|A6-Indexer|addthis|admantx|agentslug|alexa|anderspink|apache-httpclient|apachebench|apis-google|appengine-google|ask jeeves|asynchttpclient|awe.sm|baidu|barkrowler|biglotron|bingpreview|brandverify|bubing|butterfly|buzztalk|cf-uc|check_http|cloudflare|cmradar\/0.1|coldfusion|comodo ssl checker|convera|copypants|crowsnest|curl|dap\/nethttp|daumoa|developers.google.com\/\+\/web\/snippet\/|digitalpersona fingerprint software|drupact|duckduck|elb-healthchecker|embedly|eoaagent|europarchive|eventmachine httpclient|evrinid|exaleadcloudview|ezooms|ez publish|facebookexternalhit|feedburner|feedfetcher-google|findlink|findthatfile|flipboardproxy|garlik|genieo|getprismatic.com|ghost|gigablast|go http package|google( page speed insights| web preview|google-site-verification|-structured-data-testing-tool|-structureddatatestingtool)|hatena|headless|heritrix|htmlparser|http(_request2|client|s|unit)|httrack|hubspot|ichiro|icoreservice|idmarch|in(agist|sieve|stapaper)|ips-agent|jack|jakarta commons|java|jetslide|jobseeker|js-kit|kimengi|knows.is|kraken|laconica|libwww|lighthouse|linode|lipperhey|longurl|ltx71|lwp-trivial|mappydata|mastodon|mediapartners-google|megaindex.ru|metauri|mfe_expand|mixnode|mon(tastic|tools)|moreover|mrchrome|nberta|net(craft|researchserver|state|vibes)|newrelicpinger|newspaper|newsme|ning|nmap|nutch|online-domain-tools|paessler|page(peek|sinventory|thing)|panopta|peerindex|phantomjs|pingdom|plukkie|proximic|pu_in|publiclibraryarchive.org|python-(httplib2|requests|urllib)|quanti|queryseeker|quicklook|qwanti|re-animator|readability|rebelmouse|relateiq|riddler|rssmicro|ruby|scrapy|seo-audit|seodiver|seokicks|shopwiki|shortlinktranslate|siege|sistrix|site24x7|siteexplorer|skypeuripreview|slack|slurp|socialrank|sogou|spinn3r|squider|statuscake|stripe|summify|teeraid|teoma|test certificate info|tineye|traackr|tweetedtimes|twikle|twitjobsearch|twitmunin|twurly|typhoeus|unwindfetch|uptim(e|ia)|uptm.io|vagabondo|vb project|vigil|vkshare|wappalyzer|watchsumo|webceo|webdatascout|webmon|webscout|wesee|wget|whatsapp|whatweb|wikido|wordpress|wormly|wotbox|xenu link sleuth|xing-contenttabreceiver|yandex|yanga|yeti|yff35|yourls|zelist.ro|zibb|^Mozilla\/5\.0$|Viv\/2/i.test(window.navigator.userAgent)?
"uav":void 0;var d=navigator&&16<navigator.hardwareConcurrency?"hwv":void 0;a=[a,b,c,d,hl()].filter(e=>!!e);return a.length?a:void 0},qa=(a=navigator.userAgent)=>/Windows NT|Macintosh/i.test(a),Xd=a=>!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length);var zb;(function(a){a.amznbid="amznbid";a.amzniid="amzniid";a.amznp="amznp";a.amznsz="amznsz"})(zb||(zb={}));var f;(function(a){a.ThirtyThreeAcross="33across";a.AppNexus="appnexus";a.Amazon="amazon";a.Colossus="colossus";a.ColossusServer="col_ss";
a.Conversant="conversant";a.Concert="concert";a.Criteo="criteo";a.GumGum="gumgum";a.IndexExchange="ix";a.Kargo="kargo";a.KargoServer="krgo_ss";a.MediaGrid="grid";a.MediaGridVideo="gridvid";a.Nativo="nativo";a.OpenX="openx";a.OpenXServer="opnx_ss";a.Pubmatic="pubmatic";a.PubmaticServer="pubm_ss";a.ResetDigital="resetdigital";a.Roundel="roundel";a.Rtbhouse="rtbhouse";a.Rubicon="rubicon";a.RubiconServer="rubi_ss";a.Sharethrough="sharethrough";a.Spotx="spotx";a.Teads="teads";a.Triplelift="triplelift";
a.TripleliftServer="tripl_ss";a.TTD="ttd";a.Undertone="undertone";a.UndertoneServer="under_ss";a.Unruly="unruly";a.YahooSSP="yahoossp";a.Verizon="verizon";a.Yieldmo="yieldmo"})(f||(f={}));var ra;(function(a){a.Prebid="prebid";a.GAM="gam";a.Amazon="amazon";a.WebVitals="webvitals";a.Marmalade="marmalade";a.Floors="floors";a.CMP="cmp"})(ra||(ra={}));var R;(function(a){a.bidCycleNonlazy="bidCycleNonlazy";a.instream="instream";a.lazy="lazy";a.refresh="refresh";a.session="session";a.crossDomain="crossdomain";
a.highSequence="highsequence";a.lazyBidPool="lazyBidPool";a.rubicon="rubicon"})(R||(R={}));var Yd;(function(a){a.bidCycleNonlazy="bc";a.instream="i";a.lazy="l";a.refresh="r";a.session="s";a.crossdomain="c";a.highsequence="hs";a.rubicon="rubi";a.lazyBidPool="lbp"})(Yd||(Yd={}));var da;(function(a){a.Version="Version";a.SharingNotice="SharingNotice";a.SaleOptOutNotice="SaleOptOutNotice";a.SharingOptOutNotice="SharingOptOutNotice";a.TargetedAdvertisingOptOutNotice="TargetedAdvertisingOptOutNotice";a.SensitiveDataProcessingOptOutNotice=
"SensitiveDataProcessingOptOutNotice";a.SensitiveDataLimitUseNotice="SensitiveDataLimitUseNotice";a.SaleOptOut="SaleOptOut";a.SharingOptOut="SharingOptOut";a.TargetedAdvertisingOptOut="TargetedAdvertisingOptOut";a.SensitiveDataProcessing="SensitiveDataProcessing";a.KnownChildSensitiveDataConsents="KnownChildSensitiveDataConsents";a.PersonalDataConsents="PersonalDataConsents";a.MspaCoveredTransaction="MspaCoveredTransaction";a.MspaOptOutOptionMode="MspaOptOutOptionMode";a.MspaServiceProviderMode="MspaServiceProviderMode";
a.SubSectionType="SubsectionType";a.Gpc="Gpc"})(da||(da={}));var Ma;(function(a){a[a.NA=0]="NA";a[a.OptedOut=1]="OptedOut";a[a.OptedIn=2]="OptedIn"})(Ma||(Ma={}));var Ab;(function(a){a.Desktop="desktop";a.Mobile="mobile"})(Ab||(Ab={}));var x;(function(a){a.Video_Collapse_Autoplay_SoundOff="Video_Collapse_Autoplay_SoundOff";a.Video_Individual_Autoplay_SOff="Video_Individual_Autoplay_SOff";a.Video_Coll_SOff_Smartphone="Video_Coll_SOff_Smartphone";a.Video_In_Post_ClicktoPlay_SoundOn="Video_In-Post_ClicktoPlay_SoundOn"})(x||
(x={}));var kj;(kj||(kj={})).None="none";var sa;(function(a){a.AdDensity="addensity";a.AdLayout="adlayout";a.FooterCloseButton="footerclose";a.Interstitial="interstitial";a.RemoveVideoTitleWrapper="removevideotitlewrapper";a.StickyOutstream="stickyoutstream";a.StickyOutstreamOnStickyPlayer="sospp";a.VideoAdvancePlaylistRelatedPlayer="videoadvanceplaylistrp";a.MobileStickyPlayerPosition="mspp"})(sa||(sa={}));let jl=(a,b)=>{const c=a.adDensityEnabled;a=a.adDensityLayout.pageOverrides.find(d=>!!document.querySelector(d.pageSelector)&&
(d[b].onePerViewport||"number"===typeof d[b].adDensity));return c?!a:!0},Bb=(a,b)=>{if(1>=a.length)return 0;a.sort((g,h)=>g-h);if(0>=b)return a[0];if(1<=b)return a[a.length-1];b*=a.length+1;const c=Math.floor(b)-1,d=c+1,e=Number((b%1).toFixed(1));return 1>b?a[0]:d>=a.length?a[c]:a[c]+e*(a[d]-a[c])},kl=(a,b)=>{window.addEventListener("message",c=>{try{const {origin:d,source:e}=c,g=JSON.parse(c.data),h=g&&g.message===b.message;d&&d.match(a)&&h&&e.postMessage(JSON.stringify(b),d)}catch(d){}})};class ll{constructor(){this._timeOrigin=
0}resetTimeOrigin(){this._timeOrigin=window.performance.now()}now(){try{return Math.round(window.performance.now()-this._timeOrigin)}catch(a){return 0}}}window.adthrive.windowPerformance=window.adthrive.windowPerformance||new ll;let Zd=window.adthrive.windowPerformance,ia=Zd.now.bind(Zd),ml=(a,b=33)=>Object.keys(a).reduce((c,d)=>{const e=a[d].map(g=>parseInt(g,b)/1E5);return{...c,[d]:[...e]}},{}),lj=(a,b=33)=>Object.keys(a).reduce((c,d)=>{const e=a[d].map(g=>Math.floor(1E5*g).toString(b));return{...c,
[d]:e}},{}),mj=()=>new Promise(a=>{if("complete"===document.readyState)return a();window.addEventListener("load",()=>a())}),Va=(a=window.location.search)=>{const b=0===a.indexOf("?")?1:0;return a.slice(b).split("&").reduce((c,d)=>{const [e,g]=d.split("=");c.set(e,g);return c},new Map)},nj=a=>a.split("&").reduce((b,c)=>{const [d,e]=c&&c.split("=");d&&e&&(b[d]=e);return b},{}),nl=a=>Object.keys(a).map(b=>`${b}=${encodeURIComponent(a[b])}`).join("&"),Ba=a=>(a=RegExp("(^|[^;]+)\\s*"+a+"\\s*=\\s*([^;]+)").exec(document.cookie))?
a.pop():"",ol=(a,b)=>{if("Intl"in window){const c=Intl.DateTimeFormat().resolvedOptions().timeZone;return a.some(d=>c===d)}return b.some(c=>{const d=(new Date).getTimezoneOffset();var e=(new Date).getTimezoneOffset();var g=new Date((new Date).getFullYear(),0,1);const h=new Date((new Date).getFullYear(),6,1);g=Math.max(g.getTimezoneOffset(),h.getTimezoneOffset());return d===(e<g?c-60:c)})},Cb=a=>void 0!==a,Ja=(a,b)=>!!(a&&"object"===typeof a&&b in a),$d=a=>{const b=window.location.href;return a.some(c=>
(new RegExp(c,"i")).test(b))},oj=a=>{try{return{valid:!0,elements:document.querySelectorAll(a)}}catch(b){return{valid:!1,...b}}},hb=a=>""===a?{valid:!0}:oj(a),pl=a=>{const b=a.reduce((c,d)=>d.weight?d.weight+c:c,0);return 0<a.length&&a.every(c=>{const d=c.value;c=c.weight;return!(void 0===d||null===d||"number"===typeof d&&isNaN(d)||!c)})&&100===b},ql=["siteId","siteName","adOptions","breakpoints","adUnits"],pj=(a,b=ql)=>{if(!a)return!1;for(let c=0;c<b.length;c++)if(!a[b[c]])return!1;return!0},ae=
(a,b)=>!a.disableAds.locations.has(b.location)&&!a.disableAds.all,rl=a=>0===a.length||!a.split(",").some(b=>null!==document.querySelector(b)),qj=(a,b,c,d,e,g)=>{a=Math.round(g-e);b=[];e=[];b.push("(",c.map(()=>"%o").join(", "),")");e.push(...c);void 0!==d&&(b.push(" => %o"),e.push(d));b.push(` %c(${a}ms)`);e.push("color: #999;")},rj=(a,b,c)=>{const d=void 0!==c.get?c.get:c.value;return function(...e){try{const g=ia(),h=d.apply(this,e);if(h instanceof Promise)return h.then(q=>{const w=ia();qj(a,b,
e,q,g,w);return Promise.resolve(q)}).catch(q=>{q.logged||(r.error(a,b,q),q.logged=!0);throw q;});const m=ia();qj(a,b,e,h,g,m);return h}catch(g){throw g.logged||(r.error(a,b,g),g.logged=!0),g;}}},n=(a,b=!1)=>c=>{const d=Object.getOwnPropertyNames(c.prototype).filter(e=>b||0!==e.indexOf("_")).map(e=>[e,Object.getOwnPropertyDescriptor(c.prototype,e)]);for(const [e,g]of d)void 0!==g&&"function"===typeof g.value?c.prototype[e]=rj(a,e,g):void 0!==g&&void 0!==g.get&&"function"===typeof g.get&&Object.defineProperty(c.prototype,
e,{...g,get:rj(a,e,g)})},sl=a=>{let b=5381,c=a.length;for(;c;)b=33*b^a.charCodeAt(--c);return b>>>0},N=()=>(a,b,c)=>{const d=c.value;d&&(c.value=function(...e){var g=Array.isArray(this._choices)?sl(JSON.stringify(this._choices)).toString(16):null,h=this.key?this.key.toLowerCase():"";g=g?`${h}_${g}`:h;g=this.localStoragePrefix?`${this.localStoragePrefix}-${g}`:g;h=H.getLocalStorageValue("branch");!1===(h&&h.enabled)&&H.removeLocalStorageValue(g);return H.getOrSetABGroupLocalStorageValue(g,()=>d.apply(this,
e),864E5)})},sj=Math.pow(2,48)-1,tl=(a,b)=>{if(isNaN(a))throw Error(`${a} must be a number`);if(a>sj)throw a=Error(`cannot encode time greater than ${sj}`),a.source="ulid",a;let c,d="";for(;0<b;b--)c=a%32,d="0123456789ABCDEFGHJKMNPQRSTVWXYZ".charAt(c)+d,a=(a-c)/32;return d},ul=(a,b)=>{let c="";for(;0<a;a--){let d=Math.floor(32*b());32===d&&(d=31);c="0123456789ABCDEFGHJKMNPQRSTVWXYZ".charAt(d)+c}return c},ib=()=>tl(Date.now(),10)+ul(16,()=>{if(window.crypto){var a=new Uint8Array(1);crypto.getRandomValues(a);
a=a[0]/255}else a=Math.random();return a}),tj=a=>new Promise(b=>setTimeout(b,a)),be=async({condition:a,delay:b=500,maxAttempts:c=10,executedAttempts:d=0})=>{if(!a()){if(d>=c)throw Error("Max waitFor attempts reached without resolution");await tj(b);return await be({condition:a,delay:b,maxAttempts:c,executedAttempts:d+1})}},I=class{constructor(){this._map=new Map;this.setAbGroup=!Va().has("at_features")}set(a,b){this.setAbGroup&&this._map.set(a,b)}get(a){return this._map.get(a)}get groups(){let a=
[];for(let [b,c]of this._map)Array.isArray(c)?c.forEach(d=>{a.push(`${b}:${d}`)}):a.push(`${b}:${c}`);return a}get groupsAsObject(){let a={};for(let b of this._map.keys()){let c=this._map.get(b);c&&(a[b]=c)}return a}};I=l([p(),k("design:paramtypes",[])],I);let ya=class extends I{};ya=l([p()],ya);let ce=class{constructor(){this.adthriveExperimentOverrides=this.getExperimentOverrides()}getExperimentOverrides(){let a={},b=Va().get("at_features");if(b)try{let c=decodeURIComponent(b);a=JSON.parse(c);r.event("ExperimentOverrides",
"getExperimentOverrides","at_features",a)}catch(c){}return a}hasValidOverride(a,b){return a in this.adthriveExperimentOverrides?this.isValidExperimentOverride(b,this.adthriveExperimentOverrides[a]):!1}useOverride(a){return this.adthriveExperimentOverrides[a]}isValidExperimentOverride(a,b){if(0===a.length)return!1;let c=Array.isArray(a[0])?"array":typeof a[0];if("array"===c){if(!Array.isArray(b)||b.some(d=>!a.includes(d))&&b.map(d=>"["+JSON.stringify(d)+"]").some(d=>!a.map(e=>JSON.stringify(e)).includes(d))&&
!a.map(d=>JSON.stringify(d)).includes(JSON.stringify(b)))return!1}else if("object"===c){if(!a.map(d=>JSON.stringify(d)).includes(JSON.stringify(b)))return!1}else if(!a.includes(b))return!1;return!0}};ce=l([p(),k("design:paramtypes",[])],ce);class K{constructor(){this.shouldUseCoreExperimentsConfig=!0;let a=this.run.bind(this);this.run=()=>{var b;let c=F.resolve(ce),d=null===(b=this._choices)||void 0===b?void 0:b.map(e=>e.choice);return d&&c.hasValidOverride(this.key,d)?c.useOverride(this.key):a()}}}
class uj{}class O extends uj{constructor(a){super();this._probability=a}get(){if(0>this._probability||1<this._probability)throw Error(`Invalid probability: ${this._probability}`);return Math.random()<this._probability}}class ta extends uj{constructor(a=[],b){super();this._choices=a;this._default=b}static fromArray(a,b){return new ta(a.map(([c,d])=>({choice:c,weight:d})),b)}addChoice(a,b){this._choices.push({choice:a,weight:b})}get(){let a=100*Math.random(),b=0;for(let {choice:c,weight:d}of this._choices)if(b+=
d,b>=a)return c;return this._default}get totalWeight(){return this._choices.reduce((a,{weight:b})=>a+b,0)}}let Fa=class{};Fa=l([p()],Fa);let qc=class extends Fa{constructor(){super(...arguments);this.libraryLoadFailed=new z}};qc=l([p()],qc);class C{get enabled(){return!0}}let de=class{};de=l([p()],de);let Db=class extends de{constructor(){super(...arguments);this.footerElementAdded=new z;this.comscoreInitialized=new z}};Db=l([p()],Db);let Wa=class extends Fa{constructor(){super(...arguments);this.dataCaptured=
new z}};Wa=l([p()],Wa);let Ga=class extends Fa{constructor(){super();this.marmaladeResponseLoaded=new z;this.recencyFrequencyDataSet=new z;this.resetMarmaladeData=new z}};Ga=l([p(),k("design:paramtypes",[])],Ga);let ka=class extends Fa{constructor(){super(...arguments);this.routeChanged=new z;this.resetCompleted=new z}};ka=l([p()],ka);let rc=class extends Fa{constructor(){super(...arguments);this.targetingReady=new z}};rc=l([p()],rc);let Ha=class extends Fa{constructor(){super(...arguments);this.addSlots=
new z;this.requestingBids=new z;this.preRequestBids=new z;this.refreshingBids=new z;this.addPrebidSlotTargeting=new z;this.displaySlot=new z}};Ha=l([p()],Ha);let Ca=class extends Fa{constructor(){super(...arguments);this.videoPlayerAdded=new z;this.preRequestVideoBids=new z;this.requestingVideoBids=new z;this.addAPStagSlotBidResponse=new z;this.topCenterVideoClosed=new z;this.topCenterVideoCollapsed=new z;this.topCenterVideoUnCollapsed=new z}};Ca=l([p()],Ca);class Xa{constructor(){this._siteExperimentEventBus=
F.resolve(rc);this._isTargeted=!1}get result(){this._isTargeted||(this._siteExperimentEventBus.targetingReady.emit(),this._isTargeted=!0);return this._result}get enabled(){return void 0!==this.experimentConfig}_isValidResult(a,b=()=>!0){return b()&&H.isValidABGroupLocalStorageValue(a)}}class ee extends Xa{constructor(){super(...arguments);this._resultValidator=()=>!0}_isValidResult(a){return super._isValidResult(a,()=>this._resultValidator(a)||"control"===a)}run(){if(!this.experimentConfig||!this._mappedChoices||
0===this._mappedChoices.length)return r.error("WeightedChoiceSiteExperiment","run","No experiment config found"),"control";let a=(new ta(this._mappedChoices)).get();if(this._isValidResult(a))return a;r.error("WeightedChoiceSiteExperiment","run","Invalid result from experiment choices. Defaulting to control.",a);return"control"}}class fe{constructor(a){var b,c;this.siteExperiments=[];this._device=Q()?"mobile":"desktop";this.siteExperiments=null!==(c=null===(b=null===a||void 0===a?void 0:a.siteExperiments)||
void 0===b?void 0:b.filter(d=>{var e=d.key;var g=this._device;if(d){var h=!!d.enabled,m=null==d.dateStart||Date.now()>=d.dateStart,q=null==d.dateEnd||Date.now()<=d.dateEnd,w=null===d.selector||""!==d.selector&&!!document.querySelector(d.selector),u="mobile"===d.platform&&"mobile"===g;g="desktop"===d.platform&&"desktop"===g;u=null===d.platform||"all"===d.platform||u||g;(g="bernoulliTrial"===d.experimentType?1===d.variants.length:pl(d.variants))||r.error("SiteTest","validateSiteExperiment","experiment presented invalid choices for key:",
d.key,d.variants);d=h&&m&&q&&w&&u&&g}else d=!1;a:switch(e){case sa.AdDensity:var v=jl(a,this._device);break a;case sa.StickyOutstream:var A,G;v=(e=null===(G=null===(A=null===(v=a.videoPlayers)||void 0===v?void 0:v.partners)||void 0===A?void 0:A.stickyOutstream)||void 0===G?void 0:G.blockedPageSelectors)?!document.querySelector(e):!0;break a;case sa.Interstitial:v=(v=a.adOptions.interstitialBlockedPageSelectors)?!document.querySelector(v):!0;break a;default:v=!0}return d&&v}))&&void 0!==c?c:[]}getSiteExperimentByKey(a){return this.siteExperiments.filter(b=>
b.key.toLowerCase()===a.toLowerCase())[0]}}let Da=class extends fe{constructor(a){var b;super(a.siteAds);this._players=null===(b=a.siteAds.videoPlayers)||void 0===b?void 0:b.players}getVideoPlaylistByType(a){var b,c;return null!==(c=null===(b=this._players)||void 0===b?void 0:b.filter(d=>d.type===a))&&void 0!==c?c:[]}};Da=l([p(),U(0,T("AdThrive")),k("design:paramtypes",[Object])],Da);let vl=a=>{let b=0;a.forEach(c=>{c.weight&&(b+=c.weight)});return 0<a.length&&a.every(c=>!(!c.hasOwnProperty("value")||
!c.hasOwnProperty("weight")))&&100===b},wl=a=>0<a.length&&a.every(b=>!(!b.hasOwnProperty("value")||!b.hasOwnProperty("weight"))),aa=class{constructor(a){this._validExperiments=this._getValidExperiments(a);this.coreExperiments=this._validExperiments.map(({variants:b,abgroup:c})=>({variants:b,abgroup:c}))}getCoreExperimentButMutateWeights(a){let b=this._validExperiments.find(({abgroup:c})=>c===a);"bernoulliTrial"===(null===b||void 0===b?void 0:b.type)&&(b.variants[0].weight/=100);return b}getCoreExperiment(a){return this._validExperiments.find(({abgroup:b})=>
b===a)}getWeightedChoiceVariants(a){return(a=this.getCoreExperimentButMutateWeights(a))&&"weightedChoice"===a.type?a.variants.map(b=>({choice:b.value,weight:b.weight,...(b.abvalue?{abvalue:b.abvalue}:{})})):null}getMultivalueBernoulliVariants(a){return(a=this.getCoreExperimentButMutateWeights(a))&&"multivalueBernoulliTrial"===a.type?a.variants.map(b=>({choice:b.value,weight:b.weight})):null}_getValidExperiments(a=[]){return a.filter(({type:b,variants:c,key:d})=>"weightedChoice"===b?this._isValidWeightedChoice(c,
d):"bernoulliTrial"===b?this._isValidBernoulliTrial(c,d):"multivalueBernoulliTrial"===b?this._isValidMultivalueBernoulliTrial(c,d):!1)}_isValidWeightedChoice(a,b){(a=vl(a))||this._invalidExperiment(b);return a}_isValidBernoulliTrial(a,b){(a=1===a.length)||this._invalidExperiment(b);return a}_isValidMultivalueBernoulliTrial(a,b){(a=wl(a))||this._invalidExperiment(b);return a}_invalidExperiment(a){r.error("CoreExperimentConfig","_invalidExperiment","Experiment Validation failed for key: ",a)}};aa=l([p(),
U(0,T("CoreExperimentValues")),k("design:paramtypes",[Array])],aa);let Eb=class extends K{constructor(a,b){super();this.abgroup=a;this._coreExperimentConfig=b;this._setAbGroup=!0;this.init();this.isEnabled()&&(a=this._choices)&&(this._result=this.run(),a=(a=a.filter(({choice:c})=>c===this._result)[0])&&a.abvalue||this._result,this._setAbGroup&&void 0!==a&&this.setABGroup(this.key,a))}get _choices(){return null}get key(){if(!this._key)throw Error("You need to set \"this._key\" in the init method for this experiment. The code should look something like this:\n\n  protected init() {\n    this._key = 'my_key';\n  }");
return this._key}setABGroup(a,b){this.abgroup.set(a,String(b))}init(){throw Error("You need to set \"this._key\" in the init method for this experiment. The code should look something like this:\n\n  protected init() {\n    this._key = 'my_key';\n  }");}get result(){return this._result}isEnabled(){return this.shouldUseCoreExperimentsConfig?!!this._coreExperimentConfig.getCoreExperiment(this.key):!0}};Eb=l([U(0,T(I)),U(1,T(aa)),k("design:paramtypes",[I,aa])],Eb);class Y extends Eb{get _choices(){return this._coreExperimentConfig.getWeightedChoiceVariants(this.key)}run(){if(this._choices)return(new ta(this._choices)).get()}}
let sc=class extends Y{init(){this._key="inters5"}run(){return super.run()}};l([N(),k("design:type",Function),k("design:paramtypes",[]),k("design:returntype",void 0)],sc.prototype,"run",null);sc=l([n("InterstitialExperiment"),p()],sc);let vj=()=>{try{const a=window.localStorage.getItem("__lsv__"),b=a?JSON.parse(decodeURIComponent(a)):[];return 2500<=window.innerWidth?{isError:!1,canDisplay:!1}:b.length?{isError:!1,canDisplay:36E5<Date.now()-b[0]}:{isError:!1,canDisplay:!0}}catch(a){return{isError:!0,
canDisplay:!1,message:a.message}}},tc=class extends Xa{constructor(a,b){super();this._siteExperiments=a;this._pubabgroup=b;this._choices=[];this._result=!1;this.key=sa.Interstitial;let {isError:c,canDisplay:d,message:e}=vj();c&&r.error("InterstitialSiteExperiment","constructor",{message:e});this.experimentConfig=this._siteExperiments.getSiteExperimentByKey(this.key);this.enabled&&this.experimentConfig&&d&&(this._choices=this.experimentConfig.variants,this._result=this.run(),this.setExperimentTargeting())}run(){return(new O(this._choices[0].weight/
100)).get()}setExperimentTargeting(){if(this.enabled&&this.experimentConfig){var a=`${this.experimentConfig.key.toLowerCase()}-${this.experimentConfig.id}`;this._pubabgroup.set(a,this._result?"on":"off")}else r.error("InterstitialSiteExperiment","setExperimentTargeting","() => %o","Experiment targeting requires an experiment config")}};l([N(),k("design:type",Function),k("design:paramtypes",[]),k("design:returntype",void 0)],tc.prototype,"run",null);tc=l([p(),k("design:paramtypes",[Da,ya])],tc);let uc=
class extends Xa{constructor(a,b){super();this._siteExperiments=a;this._pubabgroup=b;this._choices=[];this._result=!1;this.key=sa.FooterCloseButton;this.experimentConfig=this._siteExperiments.getSiteExperimentByKey(this.key);this.enabled&&this.experimentConfig&&(this._choices=this.experimentConfig.variants,this._result=this.run(),this.setExperimentTargeting())}run(){return(new O(this._choices[0].weight/100)).get()}setExperimentTargeting(){if(this.enabled&&this.experimentConfig){var a=`${this.experimentConfig.key.toLowerCase()}-${this.experimentConfig.id}`;
this._pubabgroup.set(a,this._result?"on":"off")}else r.error("RemoveFooterCloseButtonSiteExperiment","setExperimentTargeting","() => %o","Experiment targeting requires an experiment config")}};l([N(),k("design:type",Function),k("design:paramtypes",[]),k("design:returntype",void 0)],uc.prototype,"run",null);uc=l([p(),k("design:paramtypes",[Da,ya])],uc);let vc=class{constructor(a,b,c){var d,e,g;this._interstitialSiteExperiment=b;this._removeFooterCloseButtonSiteExperiment=c;this.footerCloseButtonMigrated=
!1;let {allowSmallerAdSizes:h,footerCloseButton:m,footerCloseButtonMobile:q,footerCloseButtonDesktop:w,footerSelector:u,infiniteScroll:v,infiniteScrollOptions:A,infiniteScrollRefresh:G,pmp:L,targetaff:J,stickyContainerConfig:D}=a.siteAds.adOptions;this.allowSmallerAdSizes=B(h,!0);void 0!==q&&void 0!==w&&(this.footerCloseButtonMigrated=!0);b=this._isGamInterstitialNetworkExperimentEnabled(a);this.interstitial={gam:this._interstitialSiteExperiment.enabled?this._interstitialSiteExperiment.result:b,prebid:!1};
this._removeFooterCloseButtonSiteExperiment.enabled?this.footerCloseButtonDesktop=this.footerCloseButtonMobile=this.footerCloseButton=b=!this._removeFooterCloseButtonSiteExperiment.result:(this.footerCloseButton=B(m,!0),this.footerCloseButtonMobile=B(q,!0),this.footerCloseButtonDesktop=B(w,!0));this.footerSelector=B(u,"");this.pmp=B(L,!0);this.infiniteScroll=B(v,!1);this.infiniteScrollOptions=B(A,{});this.infiniteScrollRefresh=B(G,!0);this.targetAff=B(J,!1);this.spa=B(a.siteAds.adOptions.spa,!1);
this.stickyContentEnabled=null===(d=null===D||void 0===D?void 0:D.content)||void 0===d?void 0:d.enabled;this.stickyContentHeight=null===(e=null===D||void 0===D?void 0:D.content)||void 0===e?void 0:e.minHeight;this.stickyRecipeHeight=null===(g=null===D||void 0===D?void 0:D.recipe)||void 0===g?void 0:g.minHeight;this.stickyHeaderSelectors=null===D||void 0===D?void 0:D.stickyHeaderSelectors;this.stickyBlockedSelectors=null===D||void 0===D?void 0:D.blockedSelectors}_isGamInterstitialNetworkExperimentEnabled(a){let {isError:b,
canDisplay:c,message:d}=vj();var e=Q()&&B(a.siteAds.adOptions.mobileInterstitial,!1);a=!Q()&&B(a.siteAds.adOptions.desktopInterstitial,!1);b&&r.error("InterstitialExperiment","canDisplayInterstitial",{message:d});return c&&(e||a)?(e=F.resolve(sc))&&e.result&&"off"!==e.result?!0:!1:!1}};vc=l([p(),U(0,T("AdThrive")),k("design:paramtypes",[Object,tc,uc])],vc);let ge=class{constructor(a){a=a.siteAds.adTypes||{};this.animatedFooter=B(a.animatedFooter,!0);this.expandableFooter=B(a.expandableFooter,!0);
this.inRecipeRecommendationDesktop=B(a.inRecipeRecommendationDesktop,!0);this.inRecipeRecommendationMobile=B(a.inRecipeRecommendationMobile,!0);this.interscroller=Q()?B(a.interscroller,!0):!1;this.largeFormatsDesktop=B(a.largeFormatsDesktop,!0);this.largeFormatsMobile=B(a.largeFormatsMobile,!0);this.miniscroller=Q()?B(a.miniscroller,!0):!1;this.nativeDesktopContent=B(a.nativeDesktopContent,!0);this.nativeDesktopRecipe=B(a.nativeDesktopRecipe,!0);this.nativeDesktopSidebar=B(a.nativeDesktopSidebar,
!0);this.nativeMobileContent=B(a.nativeMobileContent,!0);this.nativeMobileRecipe=B(a.nativeMobileRecipe,!0);this.outstreamDesktop=B(a.outstreamDesktop,!0);this.outstreamMobile=B(a.outstreamMobile,!0)}has(a){return this[a]&&!0===this[a]}get enabled(){return Object.keys(this).filter(a=>!0===this[a])}get enabledMinified(){let a={outstreamDesktop:{min:"od",val:this.outstreamDesktop},outstreamMobile:{min:"om",val:this.outstreamMobile}};return this.enabled.filter(b=>Object.keys(a).includes(b)&&a[b].val).map(b=>
a[b].min)}get outstreamEnabled(){return Q()?!0===this.outstreamMobile:!0===this.outstreamDesktop}};ge=l([p(),U(0,T("AdThrive")),k("design:paramtypes",[Object])],ge);let he=(a=navigator.userAgent)=>/iP(hone|od|ad)/i.test(a),xl=(a,b=navigator.userAgent)=>(new RegExp(`OS ${a}`,"i")).test(b),wj=(a,b=navigator.userAgent)=>he(b)&&xl(a.toString(),b),yl=(a=navigator.userAgent)=>Rd(a)&&qa(a),wc=class extends K{constructor(a,b,c){super();this._result=!0;this.key="amzn";this._choices=[{choice:!0},{choice:!1}];
this.weight=.995;a=a.deliveryFeatures;c=c.getCoreExperimentButMutateWeights(this.key);a&&a.includes("amazonLoad")||!c||(this.weight=c.variants[0].weight,this._result=this.run(),b.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return(new O(this.weight)).get()}};l([N(),k("design:type",Function),k("design:paramtypes",[]),k("design:returntype",void 0)],wc.prototype,"run",null);wc=l([n("AmazonExperiment"),p(),U(0,T("AdThrive")),k("design:paramtypes",[Object,I,aa])],wc);class ea extends Eb{get _choices(){return[{choice:!0,
weight:-1},{choice:!1,weight:-1}]}run(){let a=this._coreExperimentConfig.getCoreExperiment(this.key);if(a)return(new O(a.variants[0].weight/100)).get()}setABGroup(a,b){this.abgroup.set(a,b?"on":"off")}get result(){var a;if(void 0===this._default)throw Error("You need to set \"this._default\" in the init method for this experiment. The code should look something like this:\n\n  protected init() {\n    this._key = 'my_key';\n    this._default = false;\n  }");return null!==(a=this._result)&&void 0!==
a?a:this._default}}let ie=class extends ea{init(){this._key="wvtls";this._default=!1}};ie=l([n("WebVitalsExperiment"),p()],ie);let ma=class{constructor(a,b){this.bootstrapResult=new Map;this.bootstrapLoaders={};this.ccpaOptIn="1YNY";this.ccpaOptOut="1YYY";this.ccpaConsentChange=new z;var c=a&&a.core&&a.core.country;this.webVitalsEnabled=Ua()?F.resolve(ie).result:!1;this.ccpaRequired="US"===c;this.ccpaPrivacyString=Ba("usprivacy");this.ccpaEnabled=(this.ccpaUserOptedOut=this.ccpaPrivacyString===this.ccpaOptOut)&&
this.ccpaRequired;this.gptLibFailed=!1;this.liveRamp=B(a.siteAds.adOptions.liveRamp,!0);this.liveRampId=B(a.siteAds.adOptions.liveRampId,"7f035220-1751-4684-bb7f-a1c0d45657df");36!==this.liveRampId.length&&(this.liveRampId="7f035220-1751-4684-bb7f-a1c0d45657df");if("FR"===c||"DE"===c)this.liveRampId="34233849-5500-4e44-8601-5006ae8d13fe";c=he()?"/s2s":"";this._baseUrl=a.baseUrl;this._targetPath=`${a.targetPath}${c}`||`/es2018${c}`;c=a.deliveryFeatures;this.isAmazonPreloaded=!(!c||!c.includes("amazonLoad"));
this.isGPTPreloaded=!(!c||!c.includes("gptLoad"));this.isPrebidPreloaded=!(!c||!c.includes("prebidLoad"));this.amazonEnabled=b.result||this.isAmazonPreloaded;this.isGDPR="true"===a.gdpr}get baseUrl(){return this._baseUrl}get targetPath(){return this._targetPath}};ma=l([n("BootstrapConfig"),p(),U(0,T("AdThrive")),k("design:paramtypes",[Object,wc])],ma);let je=class{constructor(a,b){this._bootstrapConfig=b;this.type=ra.Amazon;this.wait=!1;this._url="https://c.amazon-adsystem.com/aax2/apstag.js";this._link=
"https://c.amazon-adsystem.com";this._amazonUAM=a.siteAds.adOptions.amazonUAM}async load(){if(this._bootstrapConfig.amazonEnabled&&this._amazonUAM){this._init();if(this._bootstrapConfig.isAmazonPreloaded)return Promise.resolve(!0);this._addAmazonLinks();return this._addApstag()}return Promise.resolve(!1)}_addApstag(){return va(this._url)}_addAmazonLinks(){let a=this._link;hj(a,"dns-prefetch");hj(a,"preconnect",[{name:"crossorigin",value:""}])}_init(){window.apstag||(window.apstag={init(){window.apstag._Q.push(["i",
arguments])},fetchBids(){window.apstag._Q.push(["f",arguments])},setDisplayBids(){},targetingKeys(){return[]},dpa(){window.apstag._Q.push(["di",arguments])},rpa(){window.apstag._Q.push(["ri",arguments])},upa(){window.apstag._Q.push(["ui",arguments])},_Q:[]})}};je=l([n("AmazonBootstrap"),t(),U(0,T("AdThrive")),k("design:paramtypes",[Object,ma])],je);let ke=class{constructor({isGPTPreloaded:a}){this._url="https://securepubads.g.doubleclick.net/tag/js/gpt.js";this._isGPTPreloaded=a}async load(){if(this._isGPTPreloaded)return Promise.resolve(!0);
this.init();return va(this._url)}init(){window.googletag=window.googletag||{};window.googletag.cmd=window.googletag.cmd||[]}};ke=l([n("GAMBootstrap"),t(),k("design:paramtypes",[ma])],ke);let le=class{constructor(a){this._eventBus=a;this._marmaladeFinishedTimeout=3E3}setMarmaladeFinishedTimeout(a){this._marmaladeFinishedTimeout=a}async get(){if(window.adthrive.marmalade){var a=await window.adthrive.marmalade;this._emitMarmaladeResponse(a);return a}a=(new Promise(c=>{window.adthrive.marmaladeFinished=
c})).then(c=>{this._emitMarmaladeResponse(c);return c});let b=new Promise(c=>{const d=setTimeout(()=>{clearTimeout(d);const e=window.adthrive.marmalade||{};this._emitMarmaladeResponse(e);c(e)},this._marmaladeFinishedTimeout)});return Promise.race([a,b])}_emitMarmaladeResponse(a){a&&0<Object.keys(a).length&&(r.event("MarmaladeBootstrap","marmaladeResponseLoaded"),this._eventBus.marmaladeResponseLoaded.emit(a))}};le=l([n("MarmaladeBootstrap"),t(),k("design:paramtypes",[Ga])],le);let me=class{constructor({baseUrl:a,
targetPath:b,isPrebidPreloaded:c}){this.type=ra.Prebid;this.wait=!1;this._url=`${a}/vendor/prebid${b}/prebid.min.js`;this._isPrebidPreloaded=c}async load(){this.init();return this._isPrebidPreloaded?"preloaded":await va(this._url)}init(){window.pbjs=window.pbjs||{};window.pbjs.que=window.pbjs.que||[]}};me=l([n("PrebidBootstrap"),t(),k("design:paramtypes",[ma])],me);let ne=class extends K{constructor(a){super();this._abgroup=a;this._choices=[{choice:.4,weight:20},{choice:.6,weight:20},{choice:.8,weight:20},
{choice:0,weight:40}];this.key="bcnlzy";this._result=this.run();this._abgroup.set(this.key,0===this._result?"none":`${100*this._result}`)}get result(){return this._result}run(){return(new ta(this._choices)).get()}};ne=l([n("BidCycleNonlazyFloorsExperiment"),p(),k("design:paramtypes",[I])],ne);let oe=class extends K{constructor(a){super();this._abgroup=a;this._choices=[{choice:0,weight:40},{choice:500,weight:15},{choice:1500,weight:15},{choice:2E3,weight:15},{choice:3500,weight:15}];this.key="flrdt";
this._result=this.run();this._abgroup.set(this.key,0===this._result?"none":`${this._result}`)}get result(){return this._result}run(){return(new ta(this._choices)).get()}};oe=l([n("DelayAuctionExperiment"),p(),k("design:paramtypes",[I])],oe);let Fb=class extends Y{init(){this._key="flr"}run(){return super.run()}};l([N(),k("design:type",Function),k("design:paramtypes",[]),k("design:returntype",void 0)],Fb.prototype,"run",null);Fb=l([n("FloorsExperiment"),p()],Fb);let pe=class extends K{constructor(a){super();
this._abgroup=a;this._choices=[{choice:0,weight:20},{choice:.3,weight:20},{choice:.5,weight:20},{choice:.7,weight:20},{choice:.9,weight:20}];this.key="vidfflr";this._result=this.run();this._abgroup.set(this.key,0===this._result?"none":`${this._result}`)}get result(){return this._result}run(){return(new ta(this._choices)).get()}};pe=l([n("FooterFloorsExperiment"),p(),k("design:paramtypes",[I])],pe);let qe=class extends K{constructor(a){super();this._abgroup=a;this._choices=[{choice:0,weight:20},{choice:.5,
weight:20},{choice:.6,weight:20},{choice:.7,weight:20},{choice:.8,weight:20}];this.key="vidoflr";this._result=this.run();this._abgroup.set(this.key,0===this._result?"none":`${100*this._result}`)}get result(){return this._result}run(){return(new ta(this._choices)).get()}};qe=l([n("OutstreamFloorsExperiment"),p(),k("design:paramtypes",[I])],qe);let re=class extends Y{init(){this._key="flrmltp"}};re=l([n("SingleFloorMultiplierExperiment"),p()],re);let Na=class{constructor(a,b){this._floorsExperiment=
a;this.abGroup=b;this._result={rubicon:!1,legacy:!1,fallback:!1,cm:!1,delay:0,instream:!1,percentile:{lazy:0,outstream:0,footer:0,singleFlrMltp:0,bidCycleNonlazy:0}};this.run()}get result(){return this._result}_enableRubiconFloors(){this._result.rubicon=!0}_enableLegacyFloors(){this._result.legacy=!0}_canEnableBidCycleNonlazy(){return!!this._result.delay}_enabledSingleFloorMultiplier(){return F.resolve(re).result||0}_enableBidCycleNonlazy(){this._result.percentile.bidCycleNonlazy=(new ne(this.abGroup)).result}_setUpInstreamFloorsExp(){let a=
this._result,b=(new qe(this.abGroup)).result,c=(new pe(this.abGroup)).result;a.delay&&b&&c&&(this._result.percentile.outstream=b,this._result.percentile.footer=c,this._result.instream=!0)}_setExpResults({cm:a,fallback:b,delay:c,singleFlrMltp:d}){let e=this._result;e.percentile.singleFlrMltp=d;a&&(e.cm=a);b&&(e.fallback=b);c&&(e.delay=c)}run(){let a=(new oe(this.abGroup)).result,b=this._enabledSingleFloorMultiplier();var c=this._floorsExperiment.result;let d="fb"===c,e="rubi"===c;c="cm"===c;this._setExpResults({cm:c,
fallback:d,delay:a,singleFlrMltp:b});if(c||d)this._canEnableBidCycleNonlazy()&&this._enableBidCycleNonlazy(),this._enableLegacyFloors(),this._setUpInstreamFloorsExp();(e||d)&&this._enableRubiconFloors()}};Na=l([n("FloorsExperimentHandler"),p(),k("design:paramtypes",[Fb,I])],Na);let Gb=class{constructor(a){this._enabledFloorsExperiments=a;this._activeFloorsTypes=[];this._cmFPVPriority=[R.refresh,R.bidCycleNonlazy,R.lazyBidPool,R.lazy,R.session];this._cmNonFPVPriority=[R.refresh,R.bidCycleNonlazy,R.lazyBidPool,
R.session,R.lazy];this._floorsPriorityData=new Map;this.bidCycleNonlazySlotLocations=["Content"];this.bidCycleExcludes={Content:[2]};this.delayedBids={};this.floorsDataReady=new z;this._fpv=!0===H.getLocalStorageValue("session_fpv")||null===H.getLocalStorageValue("session_fpv")}savePriorityFloorData(a,b){this._floorsPriorityData.set(b,a)}get floorsExperiment(){return this._enabledFloorsExperiments.result}get activeFloorsData(){return this._floorsPriorityData}get cmPriority(){return this._fpv?
this._cmFPVPriority:this._cmNonFPVPriority}get activeFloorsTypes(){return this._activeFloorsTypes}addActiveFloorsType(a){return this._activeFloorsTypes.push(a)}isBidCycleNonlazySlot(a){let {location:b,sequence:c}=a,d=this.bidCycleNonlazySlotLocations.includes(b),e=c&&1===c,g=c&&this.bidCycleExcludes[b]&&this.bidCycleExcludes[b].includes(c);return!a.lazy&&d&&!e&&!g}};Gb=l([p(),k("design:paramtypes",[Na])],Gb);let se=class{constructor(a){this._floorsConfig=a;this._floorsFinishedTimeout=3E3}resolveFloorsData(a){return Promise.resolve(a).then(b=>
{this._floorsConfig.floorsData=b;this._floorsConfig.floorsDataReady.emit();return b})}async get(){if(!this._floorsConfig.floorsExperiment.rubicon)return Promise.resolve({});var a=window.adthrive.floors;if(a)return this.resolveFloorsData(a);a=new Promise(c=>{window.adthrive.rubiconFloorsFinished=c});let b=new Promise(c=>{setTimeout(()=>{c({})},this._floorsFinishedTimeout)});return Promise.race([a,b]).then(()=>this.resolveFloorsData(window.adthrive.floors))}};se=l([n("FloorsBootstrap"),t(),k("design:paramtypes",
[Gb])],se);let te=class{constructor(a){this._bootstrapConfig=a;this._url="https://unpkg.com/web-vitals@3/dist/web-vitals.iife.js"}load(){return this._bootstrapConfig.webVitalsEnabled?this.import():Promise.resolve(!0)}async import(){return await va(this._url,!1,!0)}};te=l([n("WebVitalsBootstrap"),t(),k("design:paramtypes",[ma])],te);let ue=class{constructor(a,b){this.bootstrapConfig=a;this.eventBus=b;this._frame=document.createElement("iframe");if(!a.ccpaEnabled)b.marmaladeResponseLoaded.on(c=>{let d=
c.recencyFrequency;Array.isArray(d)&&d.length&&void this.addIframeToPage().then(()=>{r.event("RecencyAndFrequencyIFrameManager","recencyFrequencyIframeAdded",`Found ${d.length} data elements`);this.setMcmpData(d);this.bootstrapConfig.ccpaConsentChange.on(e=>{e===a.ccpaOptOut&&this.deleteMcmpData()})})})}get recencyFrequencyIframeLocation(){return`${this.bootstrapConfig.baseUrl}/html/rnf.html`}addIframeToPage(){let a,b=new Promise(c=>{a=c});this._frame.onload=()=>{a()};try{this._frame.src=this.recencyFrequencyIframeLocation,
this._frame.id="adthrive-mcmp",this._frame.style.display="none",document.body.appendChild(this._frame)}catch(c){r.error("RecencyAndFrequencyIFrameManager","addIframeToPage","Failed to append rnf iframe to document",c)}return b}deleteMcmpData(){try{this._frame.contentWindow&&this._frame.contentWindow.postMessage({message:"deleteMcmpData"},window.adthriveDevelopmentMode?"https://localhost:8080":"https://ads.adthrive.com")}catch(a){r.error("RecencyAndFrequencyIFrameManager","deleteMcmpData","Failed to delete mcmp data",
a)}}setMcmpData(a){try{if(this._frame.contentWindow){let b=window.adthriveDevelopmentMode?"https://localhost:8080":"https://ads.adthrive.com";window.addEventListener("message",c=>{let d=c.data;c.origin===b&&"mcmpDataResponse"===d.message&&(r.event("RecencyAndFrequencyIFrameManager","recencyFrequencyDataSet"),this.eventBus.recencyFrequencyDataSet.emit(d.mcmpData))});this._frame.contentWindow.postMessage({message:"setMcmpData",mcmpData:a},b)}}catch(b){r.error("RecencyAndFrequencyIFrameManager","setMcmpData",
"Failed to set mcmp data",b)}}};ue=l([n("RecencyAndFrequencyIFrameManager"),p(),k("design:paramtypes",[ma,Ga])],ue);let ve=class{constructor(a,b,c,d,e,g,h,m){this._bootstrapConfig=a;this._bootstrapEventBus=b;this._amazon=c;this._gam=d;this._marmalade=e;this._prebid=g;this._floors=h;this._webVitals=m;F.resolve(ue)}async run(){let a=this._run(()=>this._floors.get(),ra.Floors),b,c;this.loadNonBlockingLibraries();return Promise.all([this._run(()=>this._gam.load(),ra.GAM,{required:!0}).catch(d=>this.gamFallback(d&&
d.result,b,c)),c=this._run(()=>this._marmalade.get(),ra.Marmalade),a,this._run(()=>b=this._webVitals.load(),ra.WebVitals),bj()]).then(([d,e,g,h])=>({gam:d,marmalade:e,floors:g,webvitals:h}))}get ccpaOptOut(){return this._bootstrapConfig.ccpaUserOptedOut}loadNonBlockingLibraries(){[this._prebid,this._amazon].forEach(a=>{this._run(()=>this._bootstrapConfig.bootstrapLoaders[a.type]=a.load().catch(b=>{this._bootstrapEventBus.libraryLoadFailed.emit({bootstrapType:a.type});throw Error(b);}),a.type,{wait:a.wait}).catch(()=>
!1)})}gamFallback(a,b,c){this._bootstrapConfig.gptLibFailed=!0;this._bootstrapConfig.webVitalsEnabled||(this._bootstrapConfig.webVitalsEnabled=!0,b=this._webVitals.load());return b.then(()=>c.then(d=>Promise.reject({message:a,marmalade:d})))}_run(a,b,{required:c=!1,wait:d=!0}={}){let e=ia(),g=h=>{const m=ia();h={result:h,started:e,finished:m,duration:m-e};this._bootstrapConfig.bootstrapResult.set(b,h);return h};a=a().then(g,h=>{r.error("Bootstrap","_start error",b,h);return c?Promise.reject(g(h.message)):
g(h.message)});return d?a:Promise.resolve(g(!0))}};ve=l([t(),k("design:paramtypes",[ma,qc,je,ke,le,me,se,te])],ve);let we=class{constructor(a,b){this.pubId="4fbba76f-7987-4fa2-9733-c27eb3a2170b";this.adUnitExclusions=new Set(["Interstitial"]);this.enabled=b.amazonEnabled&&!0===a.siteAds.adOptions.amazonUAM}};we=l([p(),U(0,T("AdThrive")),k("design:paramtypes",[Object,ma])],we);let xe=class{constructor(a){this._bootstrapConfig=a;this.nonCompliantBidders=["unruly"];this.ccpaNotApplicable="1---";this.consentChange=
new z;this.optOutText="Do not sell or share my personal information.";this.optInText="Customize my ad experience.";this.ccpaOptIn=this._bootstrapConfig.ccpaOptIn;this.ccpaOptOut=this._bootstrapConfig.ccpaOptOut;this.required=this._bootstrapConfig.ccpaRequired;this.consentChange=this._bootstrapConfig.ccpaConsentChange;this.privacyString=this._bootstrapConfig.ccpaPrivacyString;this.gpcEnabled=H.getLocalStorageValue("gpc");this.userOptedOut=this._bootstrapConfig.ccpaUserOptedOut;this.consentChange.on(b=>
{this.privacyString=b});this.userOptedOut=this.privacyString===this.ccpaOptOut?!0:!1;this.required&&(this.comscoreParams=this.userOptedOut?"0":"1")}get enabled(){return this._bootstrapConfig.ccpaEnabled}};xe=l([p(),k("design:paramtypes",[ma])],xe);let zl=(a,b)=>{var c;a=a||navigator.userAgent;if(!Rd(a,b||navigator.vendor))return!1;b=(null===(c=/ Version\/(1\d)\.(\d+)/.exec(a))||void 0===c?void 0:c.slice(-2))||[];c="15"===b[0]&&4>+b[1];return"14"===b[0]||c},Al=()=>{zl()&&window.addEventListener("beforeunload",
()=>{window.addEventListener("visibilitychange",a=>{a.stopImmediatePropagation()},!0)},!0)},wa=class{constructor(){this.beforeUnload=new z;this.pageHide=new z;this.resize=new z;this.scroll=new z;this.visibilityChange=new z;this.addEventListener("beforeunload",this.beforeUnload);this.addEventListener("pagehide",this.pageHide);this.addEventListener("resize",this.resize);this.addEventListener("scroll",this.scroll);this.addEventListener("visibilitychange",this.visibilityChange,document);Al()}setupOnceEvent(a,
b,c=window){let d=()=>{c.removeEventListener(a,d);b()};c.addEventListener(a,d)}setupOnceEventWithPromise(a,b=window){return new Promise(c=>{let d=e=>{b.removeEventListener(a,d);return c(e)};b.addEventListener(a,d)})}addEventListener(a,b,c=window){c.addEventListener(a,()=>{b.emit()},!1)}};wa=l([n("PageManager"),p(),k("design:paramtypes",[])],wa);let Bl=a=>{const b=Ba("_ga"),c=Ba("_gid");if(b||c)r.event("Context","sessionLogger",{gaCookie:b,gidCookie:c,sessionId:a,ua:navigator.userAgent});else F.resolve(wa).beforeUnload.on(()=>
{r.event("Context","sessionLogger",{gaCookie:Ba("_ga"),gidCookie:Ba("_gid"),sessionId:a,ua:navigator.userAgent})})},jb=class{constructor(a){this.connectionTargeting=[];this.sessionData={key:"session_key",timeout:864E5,rolling:!0,cb:P=>{H.removeLocalStorageValue("fpv");Bl(P)}};let {bucket:b,core:c,plugin:d,branch:e,debug:g,deployment:h,baseUrl:m,fastAds:q,siteAds:w,styleUrl:u,invalidTraffic:v,integration:A,deliveryVersion:G}=a,{tablet:L,desktop:J}=w.breakpoints;this.baseUrl=m;this.branch=e;this.bucket=
b;this.country=c&&c.country;this.plugin=d;this.fastAds=q;this.invalidTraffic=v;this.deployment=h;this.domain=window.location.host;this.device=pc(L,J);this.pageUrl=window.location.href;this.pageviewKey=ib();a=this.querystring=Va();this.sessionKey=this.setSessionKey();this.styleUrl=u;this.debug=g;this.integration=A;this.deliveryVersion=G;this.fledgeSupported=!!navigator.runAdAuction;this.savedReferrer=H.getLocalStorageValue("referrer",!0,18E5);this.isFirstPageview=this.checkIsFirstPageview();try{var D=
window.localStorage.getItem("id5id");this.gpid=D?JSON.parse(decodeURIComponent(D)).gp:void 0}catch(P){}this.ri=a.has("ri")?a.get("ri"):String(Math.floor(200*Math.random()));a=this.rsi=(D=H.getLocalStorageValue("rsi"))||String(Math.floor(200*Math.random()));D||H.setLocalStorageValue("rsi",a);if(D=window.performance.getEntriesByType("resource").filter(P=>P.name.includes("ads.min.js")&&P.name.includes("ads.adthrive.com"))[0])D=Math.round(D.responseEnd-D.startTime).toString(),"NaN"!==D&&(this.adsMinLoadDuration=
[D]);if(D=window.navigator&&(window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection))D.effectiveType&&this.connectionTargeting.push(`niet:${D.effectiveType}`),(this.downlink=D.downlink||D.bandwidth)&&this.connectionTargeting.push(`dl:${this.downlink}`)}setSessionKey(){return H.getOrSetLocalStorageValue(this.sessionData,()=>ib())}checkIsFirstPageview(){let a=0;try{let b=H.getLocalStorageValue("fpv");b&&(a=Date.now()-Date.parse(b));if(!b||864E5<a)return!0}catch(b){}return!1}};
jb=l([p(),U(0,T("AdThrive")),k("design:paramtypes",[Object])],jb);class Hb{constructor(){this._clsGlobalData=window.adthriveCLS}get enabled(){return!!this._clsGlobalData&&!!this._clsGlobalData.siteAds&&pj(this._clsGlobalData.siteAds)}get error(){return!(!this._clsGlobalData||!this._clsGlobalData.error)}set siteAds(a){this._clsGlobalData.siteAds=a}get siteAds(){return this._clsGlobalData.siteAds}set disableAds(a){this._clsGlobalData.disableAds=a}get disableAds(){return this._clsGlobalData.disableAds}set enabledLocations(a){this._clsGlobalData.enabledLocations=
a}get enabledLocations(){return this._clsGlobalData.enabledLocations}get injectedFromPlugin(){return this._clsGlobalData.injectedFromPlugin}set injectedFromPlugin(a){this._clsGlobalData.injectedFromPlugin=a}get injectedFromSiteAds(){return this._clsGlobalData.injectedFromSiteAds}set injectedFromSiteAds(a){this._clsGlobalData.injectedFromSiteAds=a}overwriteInjectedSlots(a){this._clsGlobalData.injectedSlots=a}setInjectedSlots(a){this._clsGlobalData.injectedSlots=this._clsGlobalData.injectedSlots||[];
this._clsGlobalData.injectedSlots.push(a)}get injectedSlots(){return this._clsGlobalData.injectedSlots}setInjectedVideoSlots(a){this._clsGlobalData.injectedVideoSlots=this._clsGlobalData.injectedVideoSlots||[];this._clsGlobalData.injectedVideoSlots.push(a)}get injectedVideoSlots(){return this._clsGlobalData.injectedVideoSlots}setInjectedScripts(a){this._clsGlobalData.injectedScripts=this._clsGlobalData.injectedScripts||[];this._clsGlobalData.injectedScripts.push(a)}get getInjectedScripts(){return this._clsGlobalData.injectedScripts}setExperiment(a,
b,c=!1){this._clsGlobalData.experiments=this._clsGlobalData.experiments||{};this._clsGlobalData.siteExperiments=this._clsGlobalData.siteExperiments||{};(c?this._clsGlobalData.siteExperiments:this._clsGlobalData.experiments)[a]=b}getExperiment(a,b=!1){return(b=b?this._clsGlobalData.siteExperiments:this._clsGlobalData.experiments)&&b[a]}setWeightedChoiceExperiment(a,b,c=!1){this._clsGlobalData.experimentsWeightedChoice=this._clsGlobalData.experimentsWeightedChoice||{};this._clsGlobalData.siteExperimentsWeightedChoice=
this._clsGlobalData.siteExperimentsWeightedChoice||{};(c?this._clsGlobalData.siteExperimentsWeightedChoice:this._clsGlobalData.experimentsWeightedChoice)[a]=b}getWeightedChoiceExperiment(a,b=!1){var c,d;return(b=b?null===(c=this._clsGlobalData)||void 0===c?void 0:c.siteExperimentsWeightedChoice:null===(d=this._clsGlobalData)||void 0===d?void 0:d.experimentsWeightedChoice)&&b[a]}get branch(){return this._clsGlobalData.branch}get bucket(){return this._clsGlobalData.bucket}set videoDisabledFromPlugin(a){this._clsGlobalData.videoDisabledFromPlugin=
a}get videoDisabledFromPlugin(){return this._clsGlobalData.videoDisabledFromPlugin}set targetDensityLog(a){this._clsGlobalData.targetDensityLog=a}get targetDensityLog(){return this._clsGlobalData.targetDensityLog}get removeVideoTitleWrapper(){return this._clsGlobalData.siteAds.adOptions.removeVideoTitleWrapper}}let ye=class{constructor(a,b,c,d){this._context=b;this._abgroup=c;this._clsOptions=d;this._defaultHeight=250;this._map=new Map([["phone",{Content:250,Recipe:250,Header:50,Footer:50,Below_Post:250,
Sidebar:250}],["tablet",{Content:250,Recipe:250,Header:90,Footer:90,Below_post:250,Sidebar:250}],["desktop",{Content:250,Recipe:250,Header:90,Footer:90,Below_Post:250,Sidebar:250}]]);this._clsOptimizedAds=a.siteAds.adOptions.clsOptimizedAds;this._clsOptions.enabled&&((a=this._clsOptions.getExperiment("clsins_ss"))&&this._abgroup.set("clsins_ss",String(a)),["cls-insertion","cls-header-insertion","cls-disable-ads"].filter(e=>this._clsOptions.branch?0<document.querySelectorAll("script[id^="+`${e}-${this._clsOptions.branch}`+
"]").length:!1).forEach(e=>this._clsOptions.setInjectedScripts(e)))}get enabled(){return this._clsOptimizedAds||this._clsOptions.enabled&&(this._clsOptions.injectedFromPlugin||this._clsOptions.injectedFromSiteAds)}getDivHeight(a,b){return(b=this._map.get(b))&&b[a]||this._defaultHeight}setStyle(a,b){if("Footer"===b||this.enabled&&this._map.get(this._context.device)[b])a.style.minHeight=`${this._map.get(this._context.device)[b]}px`,a.classList.add("adthrive-ad-cls")}};ye=l([p(),U(0,T("AdThrive")),k("design:paramtypes",
[Object,jb,I,Hb])],ye);let ze=class{constructor(a,b){this._footerConfigEventBus=b;this.tracker=!0;this.gdpr=!1;this._footerMessages=new Map([["FamilyParenting","CafeMedia Family & Parenting"],["Finance","CafeMedia Finance"],["Food","CafeMedia Food"],["General","CafeMedia"],["HomeDIY","CafeMedia Home/DIY"],["Lifestyle","CafeMedia Lifestyle"],["Pets","CafeMedia Pets"],["Tech","CafeMedia Tech"],["Travel","CafeMedia Travel"]]);let {comscore:c,comscoreFooter:d}=a.siteAds.adOptions;this.category=B(c,"General");
this.comscore=B(d,!0);this.comscoreMessage=B(this._footerMessages.get(this.category),"CafeMedia");this._footerConfigEventBus.comscoreInitialized.emit(this.comscore)}};ze=l([p(),U(0,T("AdThrive")),k("design:paramtypes",[Object,Db])],ze);let Ae=class{constructor(a,b){this.adthrive=a;this._clsOptions=b;this.video=this.recipe=this.content=this.all=!1;this.locations=new Set;this.reasons=new Set;this._clsDivs=["adthrive-below-post","adthrive-content","adthrive-header","adthrive-recipe","adthrive-sidebar"];
this.init=()=>{if(this.urlHasEmail(window.location.href)||this.urlHasEmail(window.document.referrer))this.all=!0,this.reasons.add("all_email"),this.removeClsDivs(this._clsDivs);try{document.body.classList.contains("adthrive-disable-all")&&(this.all=!0,this.reasons.add("all_plugin")),document.body.classList.contains("adthrive-disable-content")&&(this.recipe=this.content=!0,this.locations.add("Content"),this.locations.add("Recipe"),this.reasons.add("content_plugin")),null!==document.querySelector(".tag-novideo")&&
(this.video=!0,this.locations.add("Video"),this.reasons.add("video_tag")),document.body.classList.contains("adthrive-disable-video")&&(this.video=!0,this.locations.add("Video"),this.reasons.add("video_plugin"))}catch(c){r.error("DisableAds","constructor",{message:c.message});let d="classList"in document.createElement("_");r.error("BodyDeviceClassComponent","init.support",{support:d});r.error("BodyDeviceClassComponent","init.supportBody",{supportBody:"classList"in document.body})}this._log("init")};
this.clear=()=>{this.video=this.recipe=this.content=this.all=!1;this.locations=new Set;this.reasons=new Set};this._log=c=>{};this.init()}removeClsDivs(a){if(this._clsOptions.enabled){var b=this._clsOptions.injectedSlots.filter(c=>{const d=c.element;c=!1;d.parentNode&&a.some(e=>d.classList.contains(e))&&(d.parentNode.removeChild(d),c=!0);return!c});this._clsOptions.overwriteInjectedSlots(b)}}disableAllAds(a){if(!a||$d(a))this.all=!0,this.reasons.add("all_page"),this.removeClsDivs(this._clsDivs);this._log("disableAllAds")}disableContentAds(a){if(!a||
$d(a))this.recipe=this.content=!0,this.locations.add("Content"),this.locations.add("Recipe"),this.reasons.add("content_page"),this.removeClsDivs(["adthrive-content","adthrive-recipe"]);this._log("disableContentAds")}disablePlaylistPlayers(a){if(!a||$d(a))this.video=!0,this.locations.add("Video"),this.reasons.add("video_page"),this.adthrive.siteAds.videoPlayers?this._removeCLSVideoPlayers():this._removeLegacyCLSVideoPlayers();this._log("disablePlaylistPlayers")}_removeCLSVideoPlayers(){var a;null===
(a=this.adthrive.siteAds.videoPlayers)||void 0===a?void 0:a.players.filter(b=>"stickyPlaylist"===b.type).map(b=>document.querySelectorAll(`#cls-video-container-${b.playlistId}`)).forEach(b=>{var c;for(let d=0;d<b.length;d++){let e=b[d];null===(c=e.parentNode)||void 0===c?void 0:c.removeChild(e)}})}_removeLegacyCLSVideoPlayers(){var a,b,c=null===(a=this.adthrive.siteAds.video)||void 0===a?void 0:a.jwPlaylistId;if(c)for(a=document.querySelectorAll(`#cls-video-container-${c}`),c=0;c<a.length;c++){let d=
a[c];null===(b=d.parentNode)||void 0===b?void 0:b.removeChild(d)}}urlHasEmail(a){return a?null!==/([A-Z0-9._%+-]+(@|%(25)*40)[A-Z0-9.-]+\.[A-Z]{2,})/i.exec(a):!1}};Ae=l([p(),U(0,T("AdThrive")),k("design:paramtypes",[Object,Hb])],Ae);class xj extends Eb{constructor(){super(...arguments);this._default=["none"]}get _choices(){return this._coreExperimentConfig.getMultivalueBernoulliVariants(this.key)}run(){var a=this._choices;a&&(a=a.filter(b=>(new O(b.weight/100)).get()).map(b=>b.choice),a.length&&(this._result=
a));return this._result||this._default}}let Be=class extends xj{init(){this._setAbGroup=!1;this._key="doba"}};Be=l([n("DOBAExperiment"),p()],Be);let Ce=class{constructor(a){this.bidders=a.result||["none"]}};Ce=l([p(),k("design:paramtypes",[Be])],Ce);let xc=class extends K{constructor(a,b){var c;super();this.abgroup=b;this._result=!1;this.key="parallax";this._choices=[{choice:!0},{choice:!1}];this.weight=.5;this.shouldUseCoreOverride=!1;var d=window.adthriveCLS;d=d&&d.experiments;a=null===(c=null===
a||void 0===a?void 0:a.siteAds)||void 0===c?void 0:c.adTypes;c=Q()?null===a||void 0===a?void 0:a.largeFormatsMobile:!1;d&&this.key in d?(this._result=d[this.key],b.set(this.key,this._result?"on":"off")):c&&(this._result=this.run(),b.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return(new O(this.weight)).get()}};xc=l([t(),n("ParallaxAdsExperiment"),U(0,T("AdThrive")),k("design:paramtypes",[Object,I])],xc);let yj=a=>{const {tablet:b,desktop:c}=a.siteAds.breakpoints,
d=pc(b,c);var e=a.siteAds;const g=e.videoPlayers&&e.videoPlayers.partners&&e.videoPlayers.partners.stickyOutstream;a=a.siteAds.adOptions;e=e.video&&e.video.partners&&e.video.partners.stickyOutstream||g||a&&a.stickyOutstream;return!!(e&&("phone"===d?e.mobile.enabled:e.desktop.enabled))},yc=class extends Xa{constructor(a,b){super();this._siteExperiments=a;this._pubabgroup=b;this._choices=[];this._result=!1;this.key=sa.StickyOutstream;this.experimentConfig=this._siteExperiments.getSiteExperimentByKey(this.key);
this.enabled&&this.experimentConfig&&(this._choices=this.experimentConfig.variants,this._result=this.run(),this.setExperimentTargeting())}run(){return(new O(this._choices[0].weight/100)).get()}setExperimentTargeting(){if(this.enabled&&this.experimentConfig){var a=`${this.experimentConfig.key.toLowerCase()}-${this.experimentConfig.id}`;this._pubabgroup.set(a,this._result?"on":"off")}else r.error("StickyOutstreamSiteExperiment","setExperimentTargeting","() => %o","Experiment targeting requires an experiment config")}};
l([N(),k("design:type",Function),k("design:paramtypes",[]),k("design:returntype",void 0)],yc.prototype,"run",null);yc=l([p(),k("design:paramtypes",[Da,ya])],yc);let De=class extends K{constructor(a){super();this._result=!1;this._choices=[{choice:!0},{choice:!1}];this.shouldUseCoreExperimentsConfig=!1;this.key="conmax99";var b=window.adthriveCLS;this._result=(b=b&&b.experiments)&&this.key in b?b[this.key]:this.run();a.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return(new O(.02)).get()}};
De=l([n("MaxContentExperiment"),p(),k("design:paramtypes",[I])],De);let Ee=class extends K{constructor(a){super();this._result=!1;this._choices=[{choice:!0},{choice:!1}];this.shouldUseCoreExperimentsConfig=!1;this.key="smhd100";var b=window.adthriveCLS;this._result=(b=b&&b.experiments)&&this.key in b?b[this.key]:this.run();a.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return(new O(.1)).get()}};Ee=l([n("RemoveLargeSizeExperiment"),p(),k("design:paramtypes",[I])],Ee);
let Fe=class extends K{constructor(a){super();this._result=!1;this._choices=[{choice:!0},{choice:!1}];this.shouldUseCoreExperimentsConfig=!1;this.key="mrsf";var b=window.adthriveCLS;(b=b&&b.experiments)&&this.key in b?(this._result=b[this.key],a.set(this.key,this._result?"on":"off")):Q()&&(this._result=this.run(),a.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return(new O(1)).get()}};Fe=l([n("MobileRecipeSizeFilterExperiment"),p(),k("design:paramtypes",[I])],Fe);let Ge=
class{constructor(a,b,c,d,e,g,h){this._adOptions=b;this._removeLargeSizeExperiment=c;this._stickyOutstreamSiteExperiment=d;this._maxContentExperiment=e;this._parallaxAdsExperiment=g;this._mobileRecipeSizeFilterExperiment=h;this._stickyOutstreamEnabled=!1;this._supportedSizes=[[728,90],[300,250],[300,600],[320,50],[970,250],[160,600],[300,1050],[336,280],[970,90],[300,50],[320,100],[468,60],[250,250],[120,240],[1,1],[300,300],[552,334],[300,420],[728,250],[320,300],[300,390]];this._tallMobileContentAdsizes=
[[300,600],[160,600]];this._interstitialSupportedSizes=[[320,50],[300,250],[300,600],[336,280],[320,480],[1,1]];this._adUnitAuctionPriorityMap=new Map([["Footer",1],["Header",2],["Sidebar",3],["Content",4],["Recipe",5],["Sidebar_sticky",6],["Below Post",7]]);this._adUnitSettingTemplate={auctionPriority:8,autosize:!0,classNames:[],devices:["tablet","phone","desktop"],elementSelector:"body",every:1,lazy:!1,lazyMax:0,lazyMaxDefaulted:!1,location:"",max:1,pageSelector:"",position:"beforebegin",sequence:1,
sizes:[],skip:0,spacing:0,special:[],sticky:!1,stickyOverlapSelector:""};let {tablet:m,desktop:q}=a.siteAds.breakpoints;this._device=pc(m,q);this._adthriveSiteAds=a.siteAds;this._adthriveOptions=this._adthriveSiteAds.adOptions;this._adUnits=a.siteAds.adUnits;this.setupStickyOutstreamSettings(a);this.setupInterstitialSettings()}setupStickyOutstreamSettings(a){var b=this._adthriveSiteAds.videoPlayers&&this._adthriveSiteAds.videoPlayers.partners&&this._adthriveSiteAds.videoPlayers.partners.stickyOutstream;
b=a.siteAds.video&&a.siteAds.video.partners&&a.siteAds.video.partners.stickyOutstream||b;a=yj(a);if(this._stickyOutstreamSiteExperiment.enabled?this._stickyOutstreamSiteExperiment.result:a)this._stickyOutstreamEnabled=!0,a={...this._adUnitSettingTemplate,sticky:!0,location:"Video_StickyOutstream",position:"beforeend"},a.pageSelector=B(b&&b.blockedPageSelectors,""),a.sizes="phone"===this._device?[[300,50]]:[[300,250]],this._stickyOutstreamSettingTemplate=a}setupInterstitialSettings(){let a={...this._adUnitSettingTemplate},
b=this._adthriveOptions;a.location="Interstitial";a.sizes=this.interstitalSupportedSizes();a.pageSelector=B(b.interstitialBlockedPageSelectors,"");this._interstitialSettingTemplate=a}get(){this._adUnits.sort((b,c)=>{c="Sidebar"===c.location&&c.sticky?`${c.location}_sticky`:c.location;return this._adUnitAuctionPriorityMap.get("Sidebar"===b.location&&b.sticky?`${b.location}_sticky`:b.location)-this._adUnitAuctionPriorityMap.get(c)});let a=this._adUnits.filter(b=>void 0!==b.dynamic&&b.dynamic.enabled).map(b=>
{const c=b.location.replace(/\s+/g,"_"),d="Sidebar"===c?0:2,e=this._parallaxAdsExperiment.result;return{auctionPriority:this._adUnitAuctionPriorityMap.get(c)||8,location:c,sequence:B(b.sequence,1),sizes:this.onlySupportedAdSizes(b.adSizes).filter(g=>this.includeCertainTallSizes(b,g)).concat(e&&"Content"===b.location?this._tallMobileContentAdsizes:[]),devices:b.devices,pageSelector:B(b.dynamic.pageSelector,"").trim(),elementSelector:B(b.dynamic.elementSelector,"").trim(),position:B(b.dynamic.position,
"beforebegin"),max:this._maxContentExperiment.result&&"Content"===b.location?99:Math.floor(B(b.dynamic.max,0)),spacing:B(b.dynamic.spacing,0),skip:Math.floor(B(b.dynamic.skip,0)),every:Math.max(Math.floor(B(b.dynamic.every,1)),1),classNames:b.dynamic.classNames||[],sticky:"Footer"===b.location?!0:b.sticky,stickyOverlapSelector:B(b.stickyOverlapSelector,"").trim(),autosize:b.autosize,special:B(b.targeting,[]).filter(g=>"special"===g.key).reduce((g,h)=>g.concat(...h.value),[]),lazy:B(b.dynamic.lazy,
!1),lazyMax:B(b.dynamic.lazyMax,d),lazyMaxDefaulted:0===b.dynamic.lazyMax?!1:!b.dynamic.lazyMax}});this._stickyOutstreamEnabled&&this._stickyOutstreamSettingTemplate&&a.push(this._stickyOutstreamSettingTemplate);this._adOptions.interstitial.gam&&this._interstitialSettingTemplate&&a.push(this._interstitialSettingTemplate);return a}onlySupportedAdSizes(a){return this._supportedSizes.filter(([b,c])=>a.some(([d,e])=>b===d&&c===e))}interstitalSupportedSizes(){return this._interstitialSupportedSizes.filter(([a,
b])=>"phone"!==this._device&&"320,50"===`${a},${b}`?!1:!0)}includeCertainTallSizes(a,[b,c]){let {location:d,sequence:e}=a;return"Footer"===d?!("phone"===this._device&&320===b&&100===c):"Header"===d?!(100<c&&this._removeLargeSizeExperiment.result):"Recipe"===d?!(this._mobileRecipeSizeFilterExperiment.result&&"phone"===this._device&&(300===b&&390===c||320===b&&300===c)):"Sidebar"===d?(b=a.adSizes.some(([,g])=>300>=g),(c=300<c)&&!b?!0:9===e?!0:e&&5>=e?c?a.sticky:!0:!c):!0}};Ge=l([t(),U(0,T("AdThrive")),
k("design:paramtypes",[Object,vc,Ee,yc,De,xc,Fe])],Ge);let He=class extends K{constructor(a){super();this.key="ebho";this._choices=[{choice:{name:"ix_ebda",weight:.5}},{choice:{name:"medianet_ebda",weight:4}},{choice:{name:"openx_ebda",weight:10}},{choice:{name:"pubmatic_ebda",weight:1}},{choice:{name:"rhythmone_ebda",weight:10}},{choice:{name:"rubicon_ebda",weight:6}},{choice:{name:"sharethrough_ebda",weight:10}},{choice:{name:"smart_ebda",weight:1}},{choice:{name:"sonobi_ebda",weight:1}},{choice:{name:"sovrn_ebda",
weight:15}},{choice:{name:"triplelift_ebda",weight:1}},{choice:{name:"verizon_ebda",weight:0}},{choice:{name:"yieldmo_ebda",weight:10}},{choice:{name:"mediagrid_edba",weight:1}},{choice:{name:"xandr_ebda",weight:1}},{choice:{name:"onetag_ebda",weight:1}}];this._result=this.run();a.set(this.key,this._result?this._result.name:"none")}get result(){return this._result}run(){let a=this._choices.map(b=>b.choice).map(b=>({choice:b,weight:b.weight}));return(new ta(a)).get()}};He=l([n("EBHOExperiment"),p(),
k("design:paramtypes",[I])],He);let Ie=class{constructor(a){this.bidder=a.result}};Ie=l([p(),k("design:paramtypes",[He])],Ie);let Je=class{constructor(){this.elements=[]}};Je=l([p()],Je);let zc=class{constructor(a){this.prefix="AdThrive";this.networkCode="18190176";this._gamMCMEnabled=B(a.siteAds.adOptions.gamMCMEnabled,!1);this._gamMCMChildNetworkCode=B(a.siteAds.adOptions.gamMCMChildNetworkCode,"");this.account=this._gamMCMEnabled&&""!==this._gamMCMChildNetworkCode?`${this.networkCode},${this._gamMCMChildNetworkCode}`:
this.networkCode;let b=new Set(["service","bidding","dynamicVersion"]);this.targeting=a.siteAds.targeting.length&&a.siteAds.targeting.filter(({key:c})=>!b.has(c)).map(({key:c,value:d})=>{"boolean"===typeof d&&(d=String(d));return{key:c,value:d}})||[]}};zc=l([p(),U(0,T("AdThrive")),k("design:paramtypes",[Object])],zc);let Ke=class{constructor(a){this.cafeMediaVendorId=996;this.nonCompliantBidders=[f.Colossus,f.Concert,f.ResetDigital,f.Roundel,f.ThirtyThreeAcross,f.Rtbhouse];this.consentCaptured=!1;
this._isRequired="true"===a.gdpr}get enabled(){return this._isRequired}};Ke=l([p(),U(0,T("AdThrive")),k("design:paramtypes",[Object])],Ke);let Le=class{constructor(){this.gpcUpdated=!1;this.globalPrivacyControl=!!window.navigator.globalPrivacyControl;this.gpcEnabled=!!window.localStorage.getItem("adthrive_gpc")}setGpcString(){!this.gpcEnabled&&this.globalPrivacyControl?(window.localStorage.setItem("adthrive_gpc",`${this.globalPrivacyControl}`),this._updateGPC()):this.gpcEnabled&&!this.globalPrivacyControl&&
(window.localStorage.removeItem("adthrive_gpc"),this._updateGPC())}_updateGPC(){this.gpcEnabled=!!this.globalPrivacyControl;this.gpcUpdated=!0}};Le=l([p(),k("design:paramtypes",[])],Le);let Me=class extends K{constructor(){super();this._result=[];this.shouldUseCoreExperimentsConfig=!1;this._choices=[{choice:"33across",threshold:.1},{choice:"appnexus",threshold:.01},{choice:"colossus",threshold:.01},{choice:"conversant",threshold:.1},{choice:"concert",threshold:.05},{choice:"criteo",threshold:.01},
{choice:"grid",threshold:.005},{choice:"gumgum",threshold:.01},{choice:"kargo",threshold:.01},{choice:"ix",threshold:.005},{choice:"nativo",threshold:.1},{choice:"openx",threshold:.01},{choice:"pubmatic",threshold:.01},{choice:"resetdigital",threshold:.6},{choice:"roundel",threshold:.1},{choice:"rtbhouse",threshold:.1},{choice:"rubicon",threshold:.01},{choice:"sharethrough",threshold:.2},{choice:"teads",threshold:.01},{choice:"triplelift",threshold:.005},{choice:"ttd",threshold:.01},{choice:"undertone",
threshold:.05},{choice:"unruly",threshold:.01},{choice:"verizon",threshold:.01},{choice:"yahoossp",threshold:.01},{choice:"yieldmo",threshold:.1}];this.key="hbho";this._result=this.run();this.result.length||(this._result=["none"])}get result(){return this._result}run(){return this._choices.filter(({threshold:a})=>(new O(a)).get()).map(({choice:a})=>a)}};Me=l([n("HBHOExperiment"),p(),k("design:paramtypes",[])],Me);let Ne=class{constructor(a){this.bidders=a.result}};Ne=l([p(),k("design:paramtypes",
[Me])],Ne);let Oe=class{constructor(a){this.apiReady=new z;this.optIn=new z;this._liveRampATS=B(a.siteAds.adOptions.liveRampATS,!1)}get enabled(){return this._liveRampATS}};Oe=l([p(),U(0,T("AdThrive")),k("design:paramtypes",[Object])],Oe);let Ac=class extends K{constructor(a){super();this._abgroup=a;this._choices=[{choice:{name:"id5Id",threshold:.05}},{choice:{name:"identityLink",threshold:.01}},{choice:{name:"pairId",threshold:.01}},{choice:{name:"unifiedId",threshold:.01}},{choice:{name:"unifiedId2",
weight:.01}},{choice:{name:"sharedId",threshold:.01}},{choice:{name:"criteo",threshold:.05}},{choice:{name:"connectId",threshold:.05}},{choice:{name:"fabrickId",threshold:.05}},{choice:{name:"FTrackId",threshold:.05}},{choice:{name:"33acrossId",threshold:.05}},{choice:{name:"liveIntentId",threshold:.03}}];this.key="idho";this._result=this.run();this.result.length||(this._result=["none"]);this._abgroup.set(this.key,this.result)}get result(){return this._result}run(){return this._choices.filter(({choice:a})=>
(new O(a.threshold)).get()).map(({choice:a})=>a.name)}};Ac=l([n("IDHOExperiment"),p(),k("design:paramtypes",[I])],Ac);let Pe=class{constructor(a){this.subModule=a.result;this.percentages=a._choices.map(({choice:b})=>`${b.name}:${"number"===typeof b.threshold?100*b.threshold:0}`)}};Pe=l([p(),k("design:paramtypes",[Ac])],Pe);let Qe=class extends ea{init(){this._key="loglev";this._default=!1}};Qe=l([n("EventLogExperiment"),p()],Qe);let Re=class{constructor(a){this.enabled=a.result}};Re=l([p(),k("design:paramtypes",
[Qe])],Re);let Se=class{constructor(){this.refreshSlots=new Set(["Footer"]);this.ajaxType=!1}};Se=l([p()],Se);let Bc=class extends Y{init(){this._key="lzbpvp"}run(){return super.run()}};l([N(),k("design:type",Function),k("design:paramtypes",[]),k("design:returntype",void 0)],Bc.prototype,"run",null);Bc=l([n("BelowPostMarginExperiment"),p()],Bc);let Cc=class extends Y{init(){this._key="lzcvp"}run(){return super.run()}};l([N(),k("design:type",Function),k("design:paramtypes",[]),k("design:returntype",
void 0)],Cc.prototype,"run",null);Cc=l([n("ContentMarginExperiment"),p()],Cc);let Te=class{constructor(a,b){var c,d;this._defaultViewPort=2;this._infScrollViewPort=4;this.googleLazyLoadSettings={disabled:{fetchMarginPercent:-1,renderMarginPercent:-1,mobileScaling:-1},gam:{fetchMarginPercent:600,renderMarginPercent:100,mobileScaling:1.5},hbMarginPercent:700};this.lzhb=!0;this.viewports={content:null!==(c=a.result)&&void 0!==c?c:2,belowPost:null!==(d=b.result)&&void 0!==d?d:.75,default:this._defaultViewPort,
infScroll:this._infScrollViewPort}}};Te=l([p(),k("design:paramtypes",[Cc,Bc])],Te);let Ue=class{constructor(a){this._id="69e75073-3763-483e-a64c-0d281bfd9225";this.url=`https://launchpad-wrapper.privacymanager.io/${this._id}/launchpad-liveramp.js`;this.enabled=B(a.siteAds.adOptions.liveRampATS,!0)}};Ue=l([p(),U(0,T("AdThrive")),k("design:paramtypes",[Object])],Ue);let Cl={AS:{location:"Sponsor_Tile",selectors:"h1.entry-title;h1.post-title;h1.posttitle;h1.story-title;h1.heading;.post > .post-title".split(";"),
size:[[300,55],[234,60]],position:"afterend",classNames:["adthrive-sponsor-tile"],find:a=>document.querySelector(a),requireSelectorMatch:!0,lazy:!1},NR:{location:"Native_Recipe",sequence:1,selectors:'[itemscope][itemtype$="//schema.org/Recipe"] [itemprop="recipeIngredient"]:last-child;[itemscope][itemtype$="//schema.org/Recipe"] [itemprop="ingredients"]:last-child;[itemscope][itemtype$="//schema.org/Recipe"] .ingredient:last-child;.wprm-recipe-ingredient:last-child;#recipe .ingredients;.wprm-recipe-ingredients-container;.tasty-recipe-ingredients;[class*="recipe"] [class*="ingredient"] ul li:last-child;[class*="create-ingredient"] ul li:last-child;[class*="tasty-recipe"] [class*="ingredient"] p:last-child;[class*=recipe] [class*=recipe] ~ p + ul li:last-child'.split(";"),
size:[[225,65],[234,60],[300,100]],position:"afterend",classNames:["adthrive-native-recipe"],find:a=>{a=document.querySelectorAll(a);return 0<a.length?a[a.length-1]:null},requireSelectorMatch:!1,lazy:!0}},Dc=class{constructor(a,b){this.loaded=!1;this.campaigns=[];this.siteCodes=[];this.adViewability=[];this.speed=navigator.connection&&"4g"===navigator.connection.effectiveType?"1":"0";this.adUnits=Cl;this.selectorMatches=[];this.ortbSegments=new Map;this.rfMcmpCodes=[];this.rfIabCodes=[];this.rfDataProcessed=
new z;this.hvThreshold=.6;this.mcmp=[];this.flpProdIds=[];this._activeCampaign=c=>{let d=Date.now();return d>=this._parseDate(c.start_date).getTime()&&d<=this._parseDate(c.expiration_date).getTime()};if(a&&0<Object.keys(a).length)this._setMarmaladeData(a,b);else b.marmaladeResponseLoaded.once(c=>{this._setMarmaladeData(c,b);b.resetMarmaladeData.emit()})}_setMarmaladeData(a,b){this.loaded=!0;let {host:c,page:d,adViewability:e,dcsllSiteSpecific:g}=a;c&&c.length&&(this.siteCodes=c[0].site_codes||[]);
d&&d.length&&(this.campaigns=(d[0].campaigns||[]).filter(this._activeCampaign));e&&e.length&&(this.adViewability=e);g&&(this.dcsllSiteSpecific=g);a=this._getMcmpFlpIds();this.mcmp=a.mcmp||[];this.flpProdIds=a.flpProdIds||[];this.ortbSegments=this._getOrtbSegments();b.recencyFrequencyDataSet.on(this._handleRecencyFrequencyDataSet.bind(this),{handleEventsAlreadyEmitted:!0})}_getOrtbSegments(){return this.campaigns.reduce((a,b)=>{let [,c,,d]=(new RegExp(/(^iab(a|c))_(\d*)/)).exec(b.dfp_id)||[];d&&(b=
a.get(c)||[],b.push({id:d}),c&&b.length&&a.set(c,b));return a},new Map)}_handleRecencyFrequencyDataSet(a){a.forEach(b=>{let c=b[0];b=b[1];if("_A"===c.substring(c.length-2))this.rfMcmpCodes.push([c,b]);else{let d=c.substring(c.indexOf("_")+1);this.ortbSegments.set("iaba",[{id:d}]);this.rfIabCodes.push([c,b])}});this.rfDataProcessed.emit()}_isValidMarmaladeCampaign(a){a=a.dfp_id.substring(0,2);if(a=this.adUnits[a]){let b=a.find(a.selectors.join(","));b&&this.selectorMatches.push({adUnit:a,match:b});
return!a.requireSelectorMatch||!!b}return!0}_getMcmpFlpIds(){return this.campaigns.filter(a=>this._isValidMarmaladeCampaign(a)).reduce((a,b)=>{a.mcmp.push(b.dfp_id);b.flp_prod_id&&a.flpProdIds.push(...JSON.parse(b.flp_prod_id));return a},{mcmp:[],flpProdIds:[]})}_parseDate(a){a=a.split("-");return new Date(Number(a[0]),Number(a[1])-1,Number(a[2]))}};Dc=l([p(),U(0,T("RecencyFrequencyMarmaladeResponse")),k("design:paramtypes",[Object,Ga])],Dc);let Ve=class{constructor(a){this._biddersConfig=new Map;
let b=a.siteAds.videoPlayers&&a.siteAds.videoPlayers.partners,c=a.siteAds.video&&a.siteAds.video.partners;this._adOptions=a.siteAds.adOptions;this._videoPartners=b||c||{};a&&a.core&&a.core.partners.forEach(d=>{if(d.bidder_name){let e=B(d.enabled,!0),g=new Map;d.cpm&&d.cpm.length&&d.cpm.forEach(h=>{g.set(h.name,h)});this._biddersConfig.set(d.bidder_name,{bidder_name:d.bidder_name,enabled:e,cpmMap:g})}});this.display=new Map([[f.AppNexus,this.partnerEnabled(f.AppNexus,!1,!0,"appNexus")],[f.Concert,
this.partnerEnabled(f.Concert,!1,!1,f.Concert)],[f.Colossus,this.partnerEnabled(f.Colossus,!0,!0,f.Colossus)],[f.Conversant,this.partnerEnabled(f.Conversant,!1,!0,f.Conversant)],[f.Criteo,this.partnerEnabled(f.Criteo,!0,!0,f.Criteo)],[f.IndexExchange,this.partnerEnabled(f.IndexExchange,!1,!0,"indexExchange")],[f.GumGum,this.partnerEnabled(f.GumGum,!0,!0,f.GumGum)],[f.Kargo,this.partnerEnabled(f.Kargo,!0,!0,f.Kargo)],[f.MediaGrid,this.partnerEnabled(f.MediaGrid,!0,!0,"mediaGrid")],[f.MediaGridVideo,
this.partnerEnabled(f.MediaGridVideo,!0,!0,"mediaGrid")],[f.Nativo,this.partnerEnabled(f.Nativo,!0,!0,f.Nativo)],[f.OpenX,this.partnerEnabled(f.OpenX,!1,!0,f.OpenX)],[f.Pubmatic,this.partnerEnabled(f.Pubmatic,!0,!0,"pubMatic")],[f.ResetDigital,this.partnerEnabled(f.ResetDigital,!0,!0,f.ResetDigital)],[f.Rtbhouse,this.partnerEnabled(f.Rtbhouse,!0,!0,f.Rtbhouse)],[f.Rubicon,this.partnerEnabled(f.Rubicon,!0,!0,f.Rubicon)],[f.Roundel,this.partnerEnabled(f.Roundel,!0,!0,f.Roundel)],[f.Sharethrough,this.partnerEnabled(f.Sharethrough,
!0,!0,f.Sharethrough)],[f.Spotx,this.partnerEnabled(f.Spotx,!0,!0)],[f.Teads,this.partnerEnabled(f.Teads,!0,!0,f.Teads)],[f.ThirtyThreeAcross,this.partnerEnabled(f.ThirtyThreeAcross,!0,!0,"thirtyThreeAcross")],[f.Triplelift,this.partnerEnabled(f.Triplelift,!0,!0,"tripleLift")],[f.TTD,this.partnerEnabled(f.TTD,!0,!0,"theTradeDesk")],[f.Undertone,this.partnerEnabled(f.Undertone,!0,!0,f.Undertone)],[f.Unruly,this.partnerEnabled(f.Unruly,!0,!0,f.Unruly)],[f.Verizon,this.partnerEnabled(f.Verizon,!0,!0,
f.Verizon)],[f.YahooSSP,this.partnerEnabled(f.YahooSSP,!0,!0,f.YahooSSP)],[f.Yieldmo,this.partnerEnabled(f.Yieldmo,!0,!0,f.Yieldmo)],["AmazonUAM",this.partnerEnabled("AmazonUAM",!0,!0,"amazonUAM")]]);this.video=new Map([["AmazonUAM",this.videoPartnerEnabled("AmazonUAM",!0,"amazonUAM")],[f.AppNexus,this.videoPartnerEnabled(f.AppNexus,!0,"appNexus")],[f.Colossus,this.videoPartnerEnabled(f.Colossus,!0,f.Colossus)],[f.Conversant,this.videoPartnerEnabled(f.Conversant,!1,f.Conversant)],[f.Criteo,this.videoPartnerEnabled(f.Criteo,
!0,f.Criteo)],[f.GumGum,this.videoPartnerEnabled(f.GumGum,!0,f.GumGum)],[f.IndexExchange,this.videoPartnerEnabled(f.IndexExchange,!0,"indexExchange")],[f.MediaGridVideo,this.videoPartnerEnabled(f.MediaGridVideo,!0,"mediaGrid")],[f.OpenX,this.videoPartnerEnabled(f.OpenX,!0,f.OpenX)],[f.Pubmatic,this.videoPartnerEnabled(f.Pubmatic,!0,"pubMatic")],[f.ResetDigital,this.videoPartnerEnabled(f.ResetDigital,!0,f.ResetDigital)],[f.Rubicon,this.videoPartnerEnabled(f.Rubicon,!0,f.Rubicon)],[f.Sharethrough,this.videoPartnerEnabled(f.Sharethrough,
!0,f.Sharethrough)],[f.Spotx,this.videoPartnerEnabled(f.Spotx,!0,f.Spotx)],[f.ThirtyThreeAcross,this.videoPartnerEnabled(f.ThirtyThreeAcross,!0,"thirtyThreeAcross")],[f.Triplelift,this.videoPartnerEnabled(f.Triplelift,!0,"tripleLift")],[f.TTD,this.videoPartnerEnabled(f.TTD,!0,f.TTD)],[f.Unruly,this.videoPartnerEnabled(f.Unruly,!0,f.Unruly)],[f.UndertoneServer,this.videoPartnerEnabled(f.Undertone,!0,f.Undertone)],[f.YahooSSP,this.videoPartnerEnabled(f.YahooSSP,!0,f.YahooSSP)],[f.Kargo,this.videoPartnerEnabled(f.Kargo,
!0,f.Kargo)]])}getBidderConfig(a){return B(this._biddersConfig.get(a),{bidder_name:a,enabled:!0,cpmMap:new Map})}partnerEnabled(a,b=!0,c,d){var e;b=d?B(this._adOptions[d],b):void 0;c=B(null===(e=this._biddersConfig.get(a))||void 0===e?void 0:e.enabled,c);return"AmazonUAM"===a?b:d?b&&c:c}videoPartnerEnabled(a,b,c){a=this.display.get(a);b=B(this._videoPartners[c],b);return!(!a||!b)}};Ve=l([p(),U(0,T("AdThrive")),k("design:paramtypes",[Object])],Ve);let We=class extends K{constructor(a){super();this.key=
"SensOffExperiment";this._choices=[];this._sensCategories=B(a.siteAds.adOptions.sensitiveCategories,[]);this._choices=this._sensCategories.map(b=>({choice:[b]}));this._result=this.run()}get result(){return this._result}run(){return this._sensCategories.filter(()=>(new O(.01)).get())}};We=l([n("SensOffExperiment"),p(),U(0,T("AdThrive")),k("design:paramtypes",[Object])],We);let Ec=class{constructor(a,b){this._sensOffExperiment=b;this.id=a.siteAds.siteId;this.name=a.siteAds.siteName;this.verticals=a.siteAds.adOptions.verticals;
this.sensitiveCategories=B(a.siteAds.adOptions.sensitiveCategories,[]);this.sensCategoriesOff=this._sensOffExperiment.result;this.filteredSensitiveCategories=this.sensitiveCategories.filter(c=>-1===this.sensCategoriesOff.indexOf(c));this.breakpoints=a.siteAds.breakpoints;this.style=a.style;this.spa=B(a.siteAds.adOptions.spa,!1)}};Ec=l([p(),U(0,T("AdThrive")),k("design:paramtypes",[Object,We])],Ec);let Ib=class extends Y{init(){this._key="magnitedr"}run(){return super.run()}};l([N(),k("design:type",
Function),k("design:paramtypes",[]),k("design:returntype",void 0)],Ib.prototype,"run",null);Ib=l([n("RubiconExperiment"),p()],Ib);let Jb=class extends Y{init(){this._key="opnxdr"}run(){return super.run()}};l([N(),k("design:type",Function),k("design:paramtypes",[]),k("design:returntype",void 0)],Jb.prototype,"run",null);Jb=l([n("OpenXExperiment"),p()],Jb);let Kb=class extends Y{init(){this._key="tripleliftdr"}run(){return super.run()}};l([N(),k("design:type",Function),k("design:paramtypes",[]),k("design:returntype",
void 0)],Kb.prototype,"run",null);Kb=l([n("TripleLiftExperiment"),p()],Kb);let Lb=class extends Y{init(){this._key="coldr"}run(){return super.run()}};l([N(),k("design:type",Function),k("design:paramtypes",[]),k("design:returntype",void 0)],Lb.prototype,"run",null);Lb=l([n("ColossusExperiment"),p()],Lb);let Mb=class extends Y{init(){this._key="krgodr"}run(){return super.run()}};l([N(),k("design:type",Function),k("design:paramtypes",[]),k("design:returntype",void 0)],Mb.prototype,"run",null);Mb=l([n("KargoExperiment"),
p()],Mb);let Xe=class extends K{constructor(a,b,c,d,e,g){super();this._result="33across conversant pubm_ss unruly yieldmo resetdigital under_ss".split(" ");this.shouldUseCoreExperimentsConfig=!1;this._choices=[{choice:"appnexus",threshold:.05},{choice:"grid",threshold:.99},{choice:"gumgum",threshold:he()?1:.02}];this.key="pbs2s";this.addToS2SBidders(f.KargoServer,g&&g.result);this.addToS2SBidders(f.RubiconServer,c&&c.result);this.addToS2SBidders(f.TripleliftServer,b&&b.result);this.addToS2SBidders(f.ColossusServer,
d&&d.result);this.addToS2SBidders(f.OpenXServer,e&&e.result);let h=this.run();this._choices.forEach(({choice:m})=>{h.includes(m)?(this._result.push(m),a.set(`pbs2s_${m}`,"on")):a.set(`pbs2s_${m}`,"off")})}get result(){return this._result}run(){return this._choices.filter(({threshold:a})=>(new O(a)).get()).map(({choice:a})=>a)}addToS2SBidders(a,b){"both"!==b&&"server"!==b||this._result.push(a)}};Xe=l([n("S2SExperiment"),p(),k("design:paramtypes",[I,Kb,Ib,Lb,Jb,Mb])],Xe);let Ye=class extends Y{init(){this._key=
"adt2"}get result(){return this._result}};Ye=l([n("AuctionDelayExperiment"),p()],Ye);let Ze=class extends K{constructor(a,b){super();this._result=!1;this.key="s2sparam";this._choices=[{choice:!0},{choice:!1}];this.weight=.99;if(b=b.getCoreExperimentButMutateWeights(this.key))this.weight=b.variants[0].weight,this._result=this.run(),a.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return(new O(this.weight)).get()}};Ze=l([n("OrtbEnrichExperiment"),p(),k("design:paramtypes",
[I,aa])],Ze);let $e=class{constructor(a,b,c,d,e){var g;this._gam=d;this._site=e;this.bidPoolSlots=["Below_Post"];this.deals=[];this.targetingKeys="ADOMAIN AD_ID BIDDER CACHE_ID CACHE_HOST DEAL FORMAT PRICE_BUCKET SIZE SOURCE UUID INTERSTITIAL".split(" ");this.sendAllBidsTargetingKeys=this.targetingKeys.filter(h=>!["ADOMAIN","BIDDER","INTERSTITIAL"].includes(h));this.interstitialAdUnitCode=`gpt_unit_/${this._gam.account}/AdThrive_Interstitial_1/${this._site.id}_0`;this.ortbEnrich=c.result;this.s2s=
this.s2s={bidders:a.result};this.auctionDelay=null!==(g=b.result)&&void 0!==g?g:0}};$e=l([p(),k("design:paramtypes",[Xe,Ye,Ze,zc,Ec])],$e);let zj=a=>{a=a.substring(13).split(".").map(b=>parseInt(b));return{major:a[0],minor:a[1],patch:a[2]}},Aj=(a,b)=>{a=zj(a);b=zj(b);if(a.major>b.major)return!1;if(a.major<b.major)return!0;if(a.minor>b.minor)return!1;if(a.minor<b.minor)return!0;if(a.patch>b.patch)return!1;if(a.patch<=b.patch)return!0},af=class{constructor(a){this.settings=a.siteAds.adDensityLayout;
this._adDensityEnabled=B(a.siteAds.adDensityEnabled,!0);this.enabled=this.isEnabled()}isEnabled(){var a=window,b=a.adthrive&&a.adthrive.plugin;a=(a=a.adthriveCLS)&&a.experiments;b=!!(a&&"clsins_ss"in a)||!(!b||!Aj("adthrive-ads-1.1.0",b));return!!(this.settings&&this._adDensityEnabled&&b)}};af=l([p(),U(0,T("AdThrive")),k("design:paramtypes",[Object])],af);let Dl=a=>{var b=a.downlink;b=void 0===b?"unknown":10>b?"slow":"fast";if("desktop"===a.device)switch(b){case "fast":return"ito_df";case "slow":return"ito_ds";
case "unknown":return"ito_dn"}else switch(b){case "fast":return"ito_mf";case "slow":return"ito_ms";case "unknown":return"ito_mn"}},bf=class extends Y{init(){let a=F.resolve(jb);this._key=Dl(a)}};bf=l([n("InitialTimeoutExperiment"),p()],bf);let cf=class{constructor(a){var b;this.initialBidsRequest=null!==(b=a.result)&&void 0!==b?b:2400;this.refreshBidsRequest=5E3}};cf=l([p(),k("design:paramtypes",[bf])],cf);let df=class{constructor(){this._data={}}set(a){this._data={...this._data,...a}}get(){return 0!==
Object.keys(this._data).length?this._data:void 0}getByKey(a){return this._data[a]}clear(){this.set({})}};df=l([n("UserPageDataLoggingStore"),p()],df);let kb=class{constructor(a){this._userPageDataLoggingStore=a;this.loggingData=new z;this._maxTimeOnPage=36E5;this._listeners=[];this._callbacks=new Set;this._requestSent=!1;setTimeout(()=>{this._callbacks.forEach(b=>this._executeCallback(b));this.cleanup()},this._maxTimeOnPage)}_executeCallback(a){a();this._callbacks.delete(a);0===this._callbacks.size&&
this.logUserPageData()}setUserPageData(a){a&&this._userPageDataLoggingStore.set(a)}logUserPageData(){this._requestSent||(r.fetchEvent("UserPageDataLoggingComponent","logUserData",this._userPageDataLoggingStore.get()),this._requestSent=!0,this.cleanup())}addCallbackToQueue(a,b){this._callbacks.add(b);a.forEach(c=>{this._listeners.push(c.on(()=>this._executeCallback(b)))})}cleanup(){this._listeners.forEach(a=>{a()});this._listeners=[];this._callbacks.clear()}};kb=l([n("UserPageDataLoggingEvents"),p(),
k("design:paramtypes",[df])],kb);let Fc=class{constructor(a,b){this._userPageDataLoggingEvent=a;this._pageManager=b;this.webVitalsDuration=this.webVitalsFinished=this.webVitalsStarted=this.prebidDuration=this.prebidFinished=this.prebidStarted=this.floorsDuration=this.floorsFinished=this.floorsStarted=this.marmaladeDuration=this.marmaladeFinished=this.marmaladeStarted=this.gamDuration=this.gamFinished=this.gamStarted=this.amazonDuration=this.amazonFinished=this.amazonStarted=this.bootstrapFinished=
this.totalTimeOnPage=this.loading=this.delay=this.started=0;this.started=ia();"visible"===document.visibilityState&&(this.timeOnPage=this.started);this._pageManager.visibilityChange.on(()=>this.documentVisibilityChanged());a.loggingData.on(()=>{"visible"===document.visibilityState&&(this.totalTimeOnPage+=ia()-this.timeOnPage)})}setNonBlockingLibraryTimingData(a){let b=a.get(ra.Prebid);a=a.get(ra.Amazon);this._setPrebidTimingData(b);this._setAmazonTimingData(a)}_setPrebidTimingData(a){this.prebidStarted=
a&&a.started||0;this.prebidFinished=a&&a.finished||0;this.prebidDuration=a&&a.started&&a.finished&&a.finished-a.started||0}_setAmazonTimingData(a){this.amazonStarted=a&&a.started||0;this.amazonFinished=a&&a.finished||0;this.amazonDuration=a&&a.started&&a.finished&&a.finished-a.started||0}get timingData(){return{started:this.started,delay:this.delay,loading:this.loading,totalTimeOnPage:this.totalTimeOnPage,bootstrapFinished:this.bootstrapFinished,amazonStarted:this.amazonStarted,amazonFinished:this.amazonFinished,
amazonDuration:this.amazonDuration,gamStarted:this.gamStarted,gamFinished:this.gamFinished,gamDuration:this.gamDuration,marmaladeStarted:this.marmaladeStarted,marmaladeFinished:this.marmaladeFinished,marmaladeDuration:this.marmaladeDuration,floorsStarted:this.floorsStarted,floorsFinished:this.floorsFinished,floorsDuration:this.floorsDuration,prebidStarted:this.prebidStarted,prebidFinished:this.prebidFinished,prebidDuration:this.prebidDuration,webVitalsStarted:this.webVitalsStarted,webVitalsFinished:this.webVitalsFinished,
webVitalsDuration:this.webVitalsDuration,...(this.timeOnPage&&{timeOnPage:this.timeOnPage})}}documentVisibilityChanged(){"visible"===document.visibilityState?this.timeOnPage=ia():"hidden"===document.visibilityState&&(this.totalTimeOnPage+=ia()-this.timeOnPage,this.timeOnPage=void 0)}};Fc=l([p(),k("design:paramtypes",[kb,wa])],Fc);let ef=class extends K{constructor(a){super();this._choices=[{choice:"ats",weight:1},{choice:"conf",weight:1},{choice:"hawk",weight:1},{choice:"tgtaff",weight:1},{choice:"amz",
weight:1},{choice:"none",weight:95}];this.key="3pho";this._result=this.run();a.set(this.key,this.result)}get result(){return this._result}run(){return(new ta(this._choices)).get()}};ef=l([n("TKHOExperiment"),p(),k("design:paramtypes",[I])],ef);let ff=class{constructor(a){this.tracker=a.result}};ff=l([p(),k("design:paramtypes",[ef])],ff);let gf=class{constructor(){let a=H.getLocalStorageValue("adt_ei",!1);a&&(this.hash="string"===typeof a&&a.match(/value/i)?this._retrieve64BitString(a):a)}_retrieve64BitString(a){return(a=
a.match(/\w{64}/))?a[0]:void 0}};gf=l([p(),k("design:paramtypes",[])],gf);let hf=class extends K{constructor(){super();this._result=[];this.shouldUseCoreExperimentsConfig=!1;this._choices=[{choice:"appnexus",threshold:.1},{choice:"colossus",threshold:.01},{choice:"conversant",threshold:.01},{choice:"criteo",threshold:.05},{choice:"gridvid",threshold:.01},{choice:"gumgum",threshold:.5},{choice:"ix",threshold:.005},{choice:"openx",threshold:.1},{choice:"pubmatic",threshold:.01},{choice:"resetdigital",
threshold:.6},{choice:"roundel",threshold:.1},{choice:"rubicon",threshold:.01},{choice:"sharethrough",threshold:.01},{choice:"spotx",threshold:.01},{choice:"triplelift",threshold:.01},{choice:"ttd",threshold:.01},{choice:"unruly",threshold:.01},{choice:"under_ss",threshold:.01},{choice:"yahoossp",threshold:.01},{choice:"kargo",threshold:.01},{choice:"33across",threshold:.01},{choice:"onetag",threshold:.1}];this.key="vbho";this._result=this.run();this.result.length||(this._result=["none"])}get result(){return this._result}run(){return this._choices.filter(({threshold:a})=>
(new O(a)).get()).map(({choice:a})=>a)}};hf=l([n("VBHOExperiment"),p(),k("design:paramtypes",[])],hf);let jf=class{constructor(a){this.bidders=a.result}};jf=l([p(),k("design:paramtypes",[hf])],jf);let Nb=class extends Y{init(){this._key="cbt"}run(){return super.run()}};l([N(),k("design:type",Function),k("design:paramtypes",[]),k("design:returntype",void 0)],Nb.prototype,"run",null);Nb=l([n("CloseButtonTimeoutExperiment"),p()],Nb);let Ob=class extends K{constructor(a){super();this.shouldUseCoreExperimentsConfig=
!1;this._choices=[{choice:{protocols:[1,2,3,4,5,6,7,8],value:"all",scope:"all"},weight:55},{choice:{protocols:[2,3,5,6,7,8],value:"nv1",scope:"all"},weight:15},{choice:{protocols:[1,2,3,5,6,7,8],value:"allr",scope:"limited"},weight:15},{choice:{protocols:[2,3,5,6,7,8],value:"nv1r",scope:"limited"},weight:15}];this.key="proto";this._result=this.run();a.set(this.key,this._result.value)}get result(){return this._result}run(){return(new ta(this._choices)).get()}};l([N(),k("design:type",Function),k("design:paramtypes",
[]),k("design:returntype",void 0)],Ob.prototype,"run",null);Ob=l([n("ProtocolsExperiment"),p(),k("design:paramtypes",[I])],Ob);let Pb=class extends Y{init(){this._key="vast_to"}run(){return super.run()}};l([N(),k("design:type",Function),k("design:paramtypes",[]),k("design:returntype",void 0)],Pb.prototype,"run",null);Pb=l([n("VastTimeoutExperiment"),p()],Pb);let Gc=class extends Xa{constructor(a,b){super();this._siteExperiments=a;this._pubabgroup=b;this._choices=[];this._result=!1;this.key=sa.RemoveVideoTitleWrapper;
this.experimentConfig=this._siteExperiments.getSiteExperimentByKey(this.key);this.enabled&&this.experimentConfig&&(this._choices=this.experimentConfig.variants,this._result=this.run(),this.setExperimentTargeting())}run(){return(new O(this._choices[0].weight/100)).get()}setExperimentTargeting(){if(this.enabled&&this.experimentConfig){var a=`${this.experimentConfig.key.toLowerCase()}-${this.experimentConfig.id}`;this._pubabgroup.set(a,this._result?"on":"off")}else r.error("RemoveVideoTitleWrapperSiteExperiment",
"setExperimentTargeting","() => %o","Experiment targeting requires an experiment config")}};l([N(),k("design:type",Function),k("design:paramtypes",[]),k("design:returntype",void 0)],Gc.prototype,"run",null);Gc=l([p(),k("design:paramtypes",[Da,ya])],Gc);let Hc=class extends Xa{constructor(a,b){super();this._siteExperiments=a;this._pubabgroup=b;this._choices=[];this._result=!1;this.key=sa.VideoAdvancePlaylistRelatedPlayer;this.experimentConfig=this._siteExperiments.getSiteExperimentByKey(this.key);
a=this._siteExperiments.getVideoPlaylistByType("stickyPlaylist");this.enabled&&this.experimentConfig&&0<a.length&&(this._choices=this.experimentConfig.variants,this._result=this.run(),this.setExperimentTargeting())}run(){return(new O(this._choices[0].weight/100)).get()}setExperimentTargeting(){if(this.enabled&&this.experimentConfig){var a=`${this.experimentConfig.key.toLowerCase()}-${this.experimentConfig.id}`;this._pubabgroup.set(a,this._result?"on":"off")}else r.error("VideoAdvancePlaylistRelatedPlayerSiteExperiment",
"setExperimentTargeting","() => %o","Experiment targeting requires an experiment config")}};l([N(),k("design:type",Function),k("design:paramtypes",[]),k("design:returntype",void 0)],Hc.prototype,"run",null);Hc=l([p(),k("design:paramtypes",[Da,ya])],Hc);class ja{static getScrollTop(){return(window.pageYOffset||document.documentElement.scrollTop)-(document.documentElement.clientTop||0)}static getScrollBottom(){return this.getScrollTop()+(document.documentElement.clientHeight||0)}static shufflePlaylist(a){let b=
a.length,c,d;for(;0!==b;)d=Math.floor(Math.random()*a.length),--b,c=a[b],a[b]=a[d],a[d]=c;return a}static isMobileLandscape(){return window.matchMedia("(orientation: landscape) and (max-height: 480px)").matches}static playerViewable(a){a=a.getBoundingClientRect();return this.isMobileLandscape()?window.innerHeight>a.top+a.height/2&&0<a.top+a.height/2:window.innerHeight>a.top+a.height/2}static playerVisible(a){a=a.getBoundingClientRect();return window.innerHeight>a.top}static createQueryString(a){return Object.keys(a).map(b=>
`${b}=${a[b]}`).join("&")}static createEncodedQueryString(a){return Object.keys(a).map(b=>`${b}=${encodeURIComponent(a[b])}`).join("&")}static setMobileLocation(a){a=a||"bottom-right";"top-left"===a?a="adthrive-collapse-top-left":"top-right"===a?a="adthrive-collapse-top-right":"bottom-left"===a?a="adthrive-collapse-bottom-left":"bottom-right"===a?a="adthrive-collapse-bottom-right":"top-center"===a&&(a=Q()?"adthrive-collapse-top-center":"adthrive-collapse-bottom-right");return a}static addMaxResolutionQueryParam(a){let b=
`max_resolution=${Q()?"320":"1280"}`,[c,d]=String(a).split("?");return`${c}?${d?d+`&${b}`:b}`}}let Ic=class extends K{constructor(a,b,c){super();this._result=!0;this.key="rvadv_ab1";this._choices=[{choice:!0},{choice:!1}];this.weight=1;var d=a.siteAds;a=d.adOptions.advancePlaylistOptions||{};d=d.videoPlayers;d=(d&&d.players||[]).filter(e=>"stickyPlaylist"===e.type);(c=c.getCoreExperimentButMutateWeights(this.key))&&d.length&&B(a.relatedPlayer&&a.relatedPlayer.enabled,!0)&&(this.weight=c.variants[0].weight,
this._result=this.run(),b.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return(new O(this.weight)).get()}};l([N(),k("design:type",Function),k("design:paramtypes",[]),k("design:returntype",void 0)],Ic.prototype,"run",null);Ic=l([n("AdvancePlaylistRelatedExperiment"),p(),U(0,T("AdThrive")),k("design:paramtypes",[Object,I,aa])],Ic);let Jc=class extends K{constructor(a,b,c){super();this._result=!0;this.key="vadv";this._choices=[{choice:!0},{choice:!1}];this.weight=1;var d=
a.siteAds.adOptions.advancePlaylist;d=(a=a.siteAds.adOptions.advancePlaylistOptions)?a&&a.playlistPlayer&&a.playlistPlayer.enabled:d;(c=c.getCoreExperimentButMutateWeights(this.key))&&B(d,!0)&&(this.weight=c.variants[0].weight,this._result=this.run(),b.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return(new O(this.weight)).get()}};l([N(),k("design:type",Function),k("design:paramtypes",[]),k("design:returntype",void 0)],Jc.prototype,"run",null);Jc=l([n("AdvancePlaylistExperiment"),
p(),U(0,T("AdThrive")),k("design:paramtypes",[Object,I,aa])],Jc);let Kc=class extends Y{init(){this._key="reqTo"}run(){return super.run()}};l([N(),k("design:type",Function),k("design:paramtypes",[]),k("design:returntype",void 0)],Kc.prototype,"run",null);Kc=l([n("JwRequestTimeoutExperiment"),p()],Kc);let kf=class extends ea{init(){this._key="LogAdDurationExperiment";this._default=!1}};kf=l([n("LogAdDurationExperiment"),p()],kf);let lf=class extends ea{init(){this._key="LogAdLifeCycleExperiment";this._default=
!1}};lf=l([n("LogAdLifeCycleExperiment"),p()],lf);let Lc=class extends K{constructor(a,b){super();this._result=!0;this.key="pbm";this._choices=[{choice:!0},{choice:!1}];this._map=new Map([[x.Video_In_Post_ClicktoPlay_SoundOn,[3]],[x.Video_Collapse_Autoplay_SoundOff,[6]],[x.Video_Coll_SOff_Smartphone,[6]],[x.Video_Individual_Autoplay_SOff,[6]]]);this.weight=1;if(b=b.getCoreExperimentButMutateWeights(this.key))this.weight=b.variants[0].weight,this.playbackmethod=(this._result=this.run())?this._map:
void 0,a.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return(new O(this.weight)).get()}};l([N(),k("design:type",Function),k("design:paramtypes",[]),k("design:returntype",void 0)],Lc.prototype,"run",null);Lc=l([n("PlaybackmethodExperiment"),p(),k("design:paramtypes",[I,aa])],Lc);let mf=class extends ea{init(){this._key="csp";this._default=!1}};mf=l([n("ContentSpecificPlaylistExperiment"),p()],mf);let El=a=>{const b=[],c=[];a.forEach(d=>{d.isDraft||(d.categories.some(e=>
{e=hb(`.adthrive-cat-${e}`);return e.valid&&e.elements&&e.elements.length})?b.push(d.playlistId):0===d.categories.length&&c.push(d.playlistId))});a=0<b.length?b:c;return a[Math.floor(Math.random()*a.length)]},nf=a=>{if(F.resolve(mf).result&&a.length)return El(a)},of=class extends Y{init(){this._key="osp"}run(){return super.run()}};of=l([n("OutstreamPlacementExperiment"),p()],of);let Mc=class extends ea{init(){this._key="nosvp";this._default=!1}run(){return super.run()}};l([N(),k("design:type",Function),
k("design:paramtypes",[]),k("design:returntype",void 0)],Mc.prototype,"run",null);Mc=l([n("OutstreamRendererExperiment"),p()],Mc);let pf=class{constructor(a,b,c,d,e,g,h,m,q,w,u){var v;this.players=[];this.instreamAdUnits=new Set([x.Video_Collapse_Autoplay_SoundOff,x.Video_Individual_Autoplay_SOff,x.Video_Coll_SOff_Smartphone,x.Video_In_Post_ClicktoPlay_SoundOn]);this.closeButtonTimeout=B(b.result,4E3);this.vastTimeout=B(c.result,1E4);this.maxRedirect=8;this.apiValue=[2];this.videoWasClosed=B(H.getLocalStorageValue("video_closed",
!0,18E5),!1);this.mobileStickyPlayerOnPage=!1;this.playbackmethod=e.playbackmethod;this.outstreamPlacement=w.result||0;this.logAdDuration=g.result;this.logAdLifeCycle=h.result;this.jwRequestTimeout=B(m.result,15E3);this.mimeType=navigator.userAgent&&-1===navigator.userAgent.search(/Chrom|firefox/i)?["video/mp4","application/javascript"]:["video/mp4","application/javascript","video/webm"];this.videoProtocols=d.result;this.position={id:1,name:"above"};this.removeVideoTitleWrapper=B(a.siteAds.adOptions.removeVideoTitleWrapper,
!1);b=a.siteAds.videoPlayers;this.footerSelector=B(b&&b.footerSelector,"");this.players=B(b&&b.players.map(A=>{A.mobileLocation=ja.setMobileLocation(A.mobileLocation);return A}),[]);this.contextualSettings=b&&b.contextual;this.jwPlaylist=this.getPlayListPlayerVideos(a);this.advancePlaylist=this.getAdvancePlaylistConfig(a,q);this.stickyOutstreamSettings=this._getStickyOutstreamSettings(a);this.contentSpecificPlaylists=null===(v=a.siteAds.videoPlayers)||void 0===v?void 0:v.contentSpecificPlaylists;
this.enableNewOutstreamRenderer=u.result}setupAdvanceRelatedExperiment(a){let b=F.resolve(Hc),c=F.resolve(Ic),d=this.advancePlaylist.relatedPlayer;if(b.enabled)d.applyToFirst=b.result,d.shouldRun=this.jwPlaylist.then(e=>"object"===typeof e&&b.result).catch(()=>Promise.reject().catch(()=>!1));else{let e=(a=a?d.sticky:d.static)?a.enabled:d.enabled;d.applyToFirst=a?a.applyToFirst:d.applyToFirst;d.shouldRun=this.jwPlaylist.then(g=>"object"===typeof g&&e&&c.result).catch(()=>Promise.reject().catch(()=>
!1))}}getPlayListPlayerVideos(a){var b,c=a.siteAds.videoPlayers;c=(c&&c.players||[]).filter(d=>"stickyPlaylist"===d.type);return(b=(b=(a=null===(b=a.siteAds.videoPlayers)||void 0===b?void 0:b.contentSpecificPlaylists)&&nf(a))?b:c.length&&c[0].playlistId)?gj(ja.addMaxResolutionQueryParam(`${"https://cdn.jwplayer.com/v2/playlists/"}${b}`)):Promise.reject().catch(()=>!1)}getAdvancePlaylistConfig(a,b){a=(a.siteAds.adOptions.advancePlaylistOptions||{}).relatedPlayer||{};return{playlistPlayer:{enabled:b.result},
relatedPlayer:{applyToFirst:B(a.applyToFirst,!0),enabled:B(a.enabled,!0),shouldRun:Promise.reject().catch(()=>!1),static:a.static,sticky:a.sticky}}}_getStickyOutstreamSettings(a){let b=a.siteAds.video&&a.siteAds.video.partners.stickyOutstream;return B(a.siteAds.videoPlayers&&a.siteAds.videoPlayers.partners&&a.siteAds.videoPlayers.partners.stickyOutstream||b,{blockedPageSelectors:"",mobile:{enabled:!1},desktop:{enabled:!1},allowForPageWithStickyPlayer:{enabled:!1},allowOnHomepage:!1,mobileHeaderSelector:"",
mobileLocation:"bottom-right",saveVideoCloseState:!1})}};pf=l([p(),U(0,T("AdThrive")),k("design:paramtypes",[Object,Nb,Pb,Ob,Lc,kf,lf,Kc,Jc,of,Mc])],pf);let qf=class extends Y{init(){this._key="vmaxdur"}};qf=l([n("VideoMaxDurationExperiment"),p()],qf);let rf=class{constructor(a,b,c,d,e,g){this._videoAdOptions=a;this.apiValue=[2];this.hasStickyOutstream=this.preventStickyOutstream=this.hasJwPlayer=this.contextualPlayerAdded=this.playlistPlayerAdded=this.mobileStickyPlayerOnPage=!1;this.footerSelector=
"";this.removeVideoTitleWrapper=!1;this.instreamAdUnits=new Set([x.Video_Collapse_Autoplay_SoundOff,x.Video_Individual_Autoplay_SOff,x.Video_Coll_SOff_Smartphone,x.Video_In_Post_ClicktoPlay_SoundOn]);this.plcmtUnits=new Map([[x.Video_Collapse_Autoplay_SoundOff,2],[x.Video_Individual_Autoplay_SOff,2],[x.Video_Coll_SOff_Smartphone,2],[x.Video_In_Post_ClicktoPlay_SoundOn,1]]);this.vidDiscount=.1753;a=this._videoAdOptions;this.videoProtocols=b.result;this.closeButtonTimeout=B(c.result,4E3);this.vastTimeout=
d.result;this.position={id:1,name:"above"};this.maxRedirect=8;this.playbackmethod=a.playbackmethod;this.advancePlaylist=a.advancePlaylist;this.jwPlaylist=a.jwPlaylist;this.setupAdvanceRelatedExperiment=a.setupAdvanceRelatedExperiment;this.contextualSettings=a.contextualSettings;this.mimeType=a.mimeType;this.outstreamPlacement=a.outstreamPlacement;this.videoProtocols=a.videoProtocols;this.closeButtonTimeout=a.closeButtonTimeout;this.jwRequestTimeout=a.jwRequestTimeout;this.logAdDuration=a.logAdDuration;
this.logAdLifeCycle=a.logAdLifeCycle;this.vastTimeout=a.vastTimeout;this.videoWasClosed=a.videoWasClosed;this.removeVideoTitleWrapper=e.enabled?e.result:a.removeVideoTitleWrapper;this.players=a.players;this.footerSelector=a.footerSelector;this.stickyOutstreamSettings=a.stickyOutstreamSettings;this.maxDuration=g.result||30;this.contentSpecificPlaylists=a.contentSpecificPlaylists;this.enableNewOutstreamRenderer=a.enableNewOutstreamRenderer}};rf=l([p(),k("design:paramtypes",[pf,Ob,Nb,Pb,Gc,qf])],rf);
let sf=class extends xj{init(){this._setAbGroup=!1;this._key="voba"}};sf=l([n("DOBAExperiment"),p()],sf);let tf=class{constructor(a){this.bidders=a.result||["none"]}};tf=l([p(),k("design:paramtypes",[sf])],tf);let y=class{constructor(a,b,c,d,e,g,h,m,q,w,u,v,A,G,L,J,D,P,M,ca,fa,lb,mb,nb,Qb,Rb,ob,Sb,pb,Tb,Ub,Ya,uf,vf,wf,xf,Nc){this.abGroup=a;this.adOptions=b;this.adTypes=c;this.amazon=d;this.ccpa=e;this.gpc=g;this.clsOptimizedAds=h;this.comscore=m;this.context=q;this.disableAds=w;this.displayOpenBidding=
u;this.ebho=v;this.impressionLog=A;this.floors=G;this.footer=L;this.gam=J;this.gdpr=D;this.hbho=P;this.identityApi=M;this.idho=ca;this.infiniteScroll=fa;this.lazyLoad=lb;this.liveRampAts=mb;this.marmalade=nb;this.partners=Qb;this.pubAbGroup=Rb;this.prebid=ob;this.site=Sb;this.targetDensity=pb;this.timeouts=Tb;this.timing=Ub;this.tkho=Ya;this.user=uf;this.vbho=vf;this.video=wf;this.videoOpenBidding=xf;this._dynamicAdsMapper=Nc;this.dynamicAds=Nc.get();a=F.resolve(Hb);a.enabled&&(this.clsOptions=a)}resetDynamicAds(){this.dynamicAds=
this._dynamicAdsMapper.get()}};y=l([p(),k("design:paramtypes",[I,vc,ge,we,xe,Le,ye,ze,jb,Ae,Ce,Ie,Re,Gb,Je,zc,Ke,Ne,Oe,Pe,Se,Te,Ue,Dc,Ve,ya,$e,Ec,af,cf,Fc,ff,gf,jf,rf,tf,Ge])],y);class Bj{constructor(a,b,c,d,e,g=!1,h=8,m,q=[],w=!0,u=!1){this.location=a;this.sequence=b;this.sizes=c;this.element=d;this.sticky=e;this.lazy=g;this.auctionPriority=h;this.stickyOverlapSelector=m;this.special=q;this.enabledForAuction=w;this.infinite=u;this.isRefreshing=this.refreshPaused=!1;this.slotFullyRenderedDuration=
this.viewableDuration=0;this.outOfViewGPT=this.outOfViewIO=!0;this.displayed=this.alwaysInView=!1;this.viewability=this.refreshCount=0;this.highlyViewable=!1;this.hvp=0;this.servedPrebidBidResponse=void 0;this.lazyDisabled=!1;this.transactionId="";"Video_StickyOutstream"===this.location&&(this.noAdRefreshCount=this.stickyOutstreamErrorCount=0,this.stickyOutstreamErrorLogged=!1)}get id(){return this.element.id}get isSticky(){return this.sticky}get hasHighViewability(){return this.sticky||"Recipe"===
this.location}setHighlyViewable(a){a=this.viewability>=Number(a&&a.hvThreshold);this.highlyViewable=this.lazy||a}setBidPoolId(a){a=a.includes(this.location);let b=this.lazy,c=this.location.toLowerCase().includes("content"),d=this.sequence;a=a?"":c&&d&&4<=d&&!b?"_Nonlazy":c&&this.lazy?"_Lazy":void 0;void 0!=a&&(this.bidPoolId=`${this.location}_BPID${a}`)}isHighlyViewable(){return this.highlyViewable||this.lazy||0<this.refreshCount}get isAboveTheFold(){return 1E3<this.element.getBoundingClientRect().top+
window.pageYOffset}hasSize([a,b]){return this.sizes.some(([c,d])=>a===c&&b===d)}get name(){return[this.location,this.sequence].filter(Cb).join("_")}get placementMapName(){return"Content"===this.location&&this.sequence&&9<this.sequence?"Content_9":this.name.includes("Below_Post")?"Below_Post":this.name}pushToQueue(a){let b=window.googletag;b&&b.cmd&&b.cmd.push(a)}setViewability(a){let b=a.adViewability.length&&void 0!==a.adViewability[0].home&&void 0!==a.adViewability[0].depth&&void 0!==a.adViewability[0].lazy,
c="/"===window.location.pathname?"1":"0",d=H.getLocalStorageValue("session_fpv"),e=!0===d||null===d?"1":"0";a.adViewability.filter(g=>g.speed===a.speed&&window.innerWidth>=g.width[0]&&(!g.width[1]||window.innerWidth<=g.width[1])&&(!b||g.home===c&&g.depth===e&&this.lazy===g.lazy)).forEach(g=>{Object.keys(g.adUnits).forEach(h=>{h===this.name?this.viewability=g.adUnits[h]:"Content"===this.location&&9<this.sequence?this.viewability=g.adUnits.Content:"Below_Post"===this.location&&1<this.sequence&&(this.viewability=
g.adUnits.Below_Post)})})}clearTargeting(a){this.googleTagSlot?this.googleTagSlot.clearTargeting(a):r.error("Slot","setTargeting","Attempted to clear targeting before slot was defined",a)}setTargeting(a){this.pushToQueue(()=>{if(this.googleTagSlot){let b=Array.isArray(a)?a:[a];for(let c of b)this.googleTagSlot.setTargeting(c.key,c.value)}else r.error("Slot","setTargeting","Attempted to set targeting before slot was defined",a)})}setSlotTargetingFlag(a,b,c=!1){let d=()=>{if(this.googleTagSlot){const e=
this.googleTagSlot.getTargeting("flag_slot").filter(g=>{[g]=g.split(":");return!c||g!==a});this.googleTagSlot.setTargeting("flag_slot",[...e,...b.map(g=>`${a}:${g}`)])}};b&&0<b.length&&this.pushToQueue(()=>d())}getTargeting(a){if(this.googleTagSlot)return this.googleTagSlot.getTargeting(a);r.error("Slot","getTargeting","Attempted to get targeting before slot was defined",a);return[]}setTransactionId(a){this.transactionId=a}getTargetingMap(){if(this.googleTagSlot){let a=this.googleTagSlot;return a.getTargetingKeys().reduce((b,
c)=>{b[c]=a.getTargeting(c);return b},{})}r.error("Slot","getTargetingMap","Attempted to get targeting before slot was defined");return{}}}let la=class{constructor(){this.added=new z;this.bidServed=new z;this._slots=new Map}add(a){let b=sessionStorage.getItem("adthrive_footer_closed");a=this.castArray(a);b&&(a=a.filter(c=>"Footer"!==c.location));for(let c of a)if(!this._slots.has(c.id)){this._slots.set(c.id,c);try{this.added.emit(c)}catch(d){r.error("Slots","add",d)}}return a}remove(a){a=this.castArray(a);
for(let b of a)this._slots.has(b.id)&&this._slots.delete(b.id)}get(a){return a?this._slots.get(a):[...this._slots.values()]}castArray(a){return"string"===typeof a?(a=this.get(a),void 0!==a?[a]:[]):Array.isArray(a)?a:[a]}};la=l([n("Slots"),p()],la);let yf=class{getBidWithBsidForSlot(a,b){let c=a.filter(d=>d.meta&&d.meta.dchain);b=new RegExp(`${b.location}_${b.sequence}(?!\d)`,"i");for(let d=a.length-1;0<=d;d--){let {adUnitCode:e,meta:g}=a[d];if(b.test(e)&&this.getLastBsid(g))return c[d]}}getLastBsid(a=
{}){({dchain:a}=a);a=a&&a.nodes||[];for(let b=a.length-1;0<=b;b--)if(a[b].bsid)return a[b].bsid}};yf=l([n("DemandChain"),t()],yf);let Vb=class{constructor(a,b){this._slots=a;this._slotEventBus=b;this.slotIntersectionObservers=new Map;this.unobservedSlotIntersectionObservers=new Map}observe(a,b){a=this.getIntersectionObserver(a);this.slotIntersectionObservers.set(b,a);this.unobservedSlotIntersectionObservers.set(b,a);a.observe(b.element)}unobserve(a){let b=this.unobservedSlotIntersectionObservers.get(a);
b&&(b.unobserve(a.element),this.unobservedSlotIntersectionObservers.delete(a))}unobserveAll(a=!0){this.unobservedSlotIntersectionObservers.forEach((b,c)=>{this.unobserve(c);a&&this._slotEventBus.displaySlot.emit(c)})}getIntersectionObserver(a){return new IntersectionObserver(b=>{for(const c of b)this.processEntry(c)},{rootMargin:`${a/100*window.innerHeight}px 0px`,threshold:[0]})}processEntry(a){let b=this._slots.get(a.target.id);b&&0<a.intersectionRatio&&this.unobservedSlotIntersectionObservers.has(b)&&
(this._slotEventBus.displaySlot.emit(b),this.unobserve(b))}};Vb=l([n("IntersectionObserverManager"),p(),k("design:paramtypes",[la,Ha])],Vb);let Fl={phone:"mobile",desktop:"desktop",tablet:"tablet"},Gl=a=>{if(!a||0===a.length)return!0;if(100!==a.reduce((c,{weight:d})=>c+d,0))return r.error("DCSLLSiteSpecificExperiment","validation","Sum of weights is not 100"),!1;a=a.map(({choice:c})=>c);const b=[...(new Set(a))];return a.length!==b.length?(r.error("DCSLLSiteSpecificExperiment","validation","Duplicate choices found in DCSLL site specific experiment"),
!1):a.filter(c=>"off"!==c).every(c=>!isNaN(Number(c)))?!0:(r.error("DCSLLSiteSpecificExperiment","validation","Non-numeric choices found in DCSLL site specific experiment"),!1)},Hl=a=>{const b=a.context.device;var c=(a=null===(c=a.marmalade)||void 0===c?void 0:c.dcsllSiteSpecific)?a[Fl[b]]:void 0;c=null===c||void 0===c?void 0:c.variants.map(({value:d,weight:e})=>({choice:`${d}`,weight:e}));return Gl(c)?c:null},zf=class extends K{constructor(a,b,c){super();this.key="dcsll_ss";this._result="off";this._choices=
[{choice:"off",weight:30},{choice:"5.80",weight:50},{choice:"4.00",weight:10},{choice:"2.00",weight:5},{choice:"0.75",weight:5}];B(b.siteAds.adOptions.dynamicContentSlotLazyLoading,!0)&&(b=Hl(c),this._choices=null!==b&&void 0!==b?b:this._choices,this._result=this.run(),a.set(this.key,this._result))}get result(){return this._result}run(){return(new ta(this._choices)).get()}};zf=l([n("DCSLLSiteSpecificExperiment"),p(),U(1,T("AdThrive")),k("design:paramtypes",[I,Object,y])],zf);let Af=class extends C{constructor(a,
b,c){super();this._slotEventBus=a;this._intersectionObserverManager=b;this.cpmThresholdMet=!1;this._dcsllSiteSpecificExperimentResult=c.result}isContentSlot(a){return"Content"===a.location}isBelowPostSlot(a){return"Below_Post"===a.location}isRecipeSlot(a){return"Recipe"===a.location}isValidLocation(a){return this.isContentSlot(a)||this.isBelowPostSlot(a)||this.isRecipeSlot(a)}isValidSequence(a){return this.isBelowPostSlot(a)?a.sequence&&1>=a.sequence:this.isRecipeSlot(a)?!0:a.sequence&&9>=a.sequence}isCPMSlot(a){return a.sequence&&
2>=a.sequence&&this.isContentSlot(a)}isTargetSlot(a){return a.lazy&&!this.isCPMSlot(a)&&this.isValidSequence(a)&&this.isValidLocation(a)}_sortByCpm(a,b){return a.cpm===b.cpm?0:a.cpm<b.cpm?1:-1}getSlotCPM(a,b){return a.prebidAdUnit&&(a=b.getBidResponsesForAdUnitCode(a.prebidAdUnit.code).bids.sort(this._sortByCpm),0<a.length)?a[0].cpm:0}checkThresholdMet(a,b){!this.cpmThresholdMet&&this.isCPMSlot(a)&&(this.cpmThresholdMet=this.getSlotCPM(a,b)>=parseFloat(this._dcsllSiteSpecificExperimentResult))&&this.loadRemainingSlots();
return this.cpmThresholdMet}loadRemainingSlots(){this._intersectionObserverManager.unobservedSlotIntersectionObservers.forEach((a,b)=>{this.isTargetSlot(b)&&(this._intersectionObserverManager.unobserve(b),this._slotEventBus.displaySlot.emit(b))})}lazyLoadingEnabledForSlot(a,b){if(!a||!a.googleTagSlot)r.error("DynamicContentSlotLazyLoadingComponent","lazyLoadingEnabledForSlot","Slot not configured");else if("off"!==this._dcsllSiteSpecificExperimentResult&&this.checkThresholdMet(a,b)&&this.isTargetSlot(a))return a.setSlotTargetingFlag("dcsll",
["true"]),a.lazyDisabled=!0,!1;return a.lazy}};Af=l([n("DynamicContentSlotLazyLoadingComponent"),p(),k("design:paramtypes",[Ha,Vb,zf])],Af);let Wb=class{constructor(){this._elements=[];this._emailProviderOnPage=!1;this.piiManagerReady=new z;this._emailProviders=[{divSelector:'div[id$="-optin"]'},{divSelector:'div[class^="cb-form-group"]'},{divSelector:"div.sumo-form-wrapper.listbuilder-popup"}];this.emailCaptured=new z;this._emailCheckTimeout=1500;this._eventMap=new Map([["mousemove",window],["scroll",
window],["mouseleave",document],["om.Campaign.startShow",document]]);this._boundCallEventHandler=this.callCheckEmailProviders.bind(this);this._boundProcessEventHandler=this.processInputChange.bind(this);this.addElementListeners();this.addEmailProviderListeners()}captureEmail(a,b,c){b=this.checkSources(b);this.emailCaptured.emit({email:a,source:`${b}_c`})}checkSources(a){a="slickstream"===a?"ss":a;let b=["url","c","nl","ss","l_s"];return a&&b.includes(a)?a:"o"}collectEmailFromStorage(){let a=H.getLocalStorageValue("adt_ei",
!1);a=a&&"string"===typeof a&&a.match(/value/i)?this._retrieve64BitHashString(a):a;let b=H.getLocalStorageValue("adt_emsrc",!1)||"l_s";b=b&&b.match(/value/i)?this._retrieveSourceString(b):b;let c="url"===b,d=b.includes("_c");b=c?"url_c":b;b=d?b.replace("_c","_s"):b;if(a)this.piiManagerReady.on(()=>{this.emailCaptured.emit({hash:a,source:b})})}_retrieve64BitHashString(a){return(a=a.match(/\w{64}/))?a[0]:""}_retrieveSourceString(a){return(a=a.match(/[a-z]{1,3}_[a-z]{1}/))?a[0]:"l_s"}addEmailProviderListeners(){this._eventMap.forEach((a,
b)=>{a.addEventListener(b,this._boundCallEventHandler)})}removeEmailProviderListeners(){this._eventMap.forEach((a,b)=>{a.removeEventListener(b,this._boundCallEventHandler)})}callCheckEmailProviders(a){("mouseleave"!==a.type||0>=a.clientY)&&setTimeout(()=>{this._emailProviderOnPage||this.emailProviderHandler()},this._emailCheckTimeout)}emailProviderHandler(){for(let a of this._emailProviders)if(document.querySelectorAll(a.divSelector).length){this.removeEmailProviderListeners();this._emailProviderOnPage=
!0;this.addElementListeners();break}}setElements(){this._elements=Array.prototype.slice.call(document.querySelectorAll("input[type=text], input[type=email], input[name=email]"))}addElementListeners(){this.setElements();for(let a of this._elements)a.addEventListener("blur",this._boundProcessEventHandler),a.addEventListener("change",this._boundProcessEventHandler)}removeElementListeners(){for(let a of this._elements)a.removeEventListener("blur",this._boundProcessEventHandler),a.removeEventListener("change",
this._boundProcessEventHandler)}sourceOrigin(a){if(a.form)return a=a.form.id,a.includes("comment")?"c":(null===a||void 0===a?0:a.includes("subscribe"))?"nl":void 0}processInputChange(a){var b=a.target;if(a=cj(b.value.toLowerCase().replace(/\s/g,"")))b=this.sourceOrigin(b),this.captureEmail(a,b,"_processInputChange"),this.removeElementListeners()}};Wb=l([n("EmailCaptureHandler"),p(),k("design:paramtypes",[])],Wb);class W{addAdUnits(a){this.addToQueue(()=>{window.pbjs.addAdUnits(a)})}getPrebidAdUnits(){return window.pbjs&&
window.pbjs.adUnits}addToQueue(a){window.pbjs.que.push(a)}enableAnalytics(a){this.addToQueue(()=>{window.pbjs.enableAnalytics(a)})}isPrebidLoaded(){return window.pbjs&&window.pbjs.libLoaded}getVersion(){return window.pbjs&&window.pbjs.version||"nl"}markWinningBidAsUsed(a){this.addToQueue(()=>{window.pbjs.markWinningBidAsUsed(a)})}offEvent(a,b){this.addToQueue(()=>{window.pbjs.offEvent(a,b)})}onEvent(a,b){this.addToQueue(()=>{window.pbjs.onEvent(a,b)})}refreshUserIds(a,b){this.addToQueue(()=>{window.pbjs.refreshUserIds(a,
b)})}requestBids(a){this.addToQueue(()=>{window.pbjs.requestBids(a)})}setAliasBidder(a,b,c){this.addToQueue(()=>{c?window.pbjs.aliasBidder(a,b,c):window.pbjs.aliasBidder(a,b)})}setBidderConfig(a){this.addToQueue(()=>{window.pbjs.setBidderConfig(a)})}setBidderSettings(a){this.addToQueue(()=>{window.pbjs.bidderSettings=a})}setBidsReceivedFilter(a){this.addToQueue(()=>{window.pbjs.setBidsReceivedFilter(a)})}setConfig(a){this.addToQueue(()=>{window.pbjs.setConfig(a)})}setTargetingForGPTAsync(a,b=null,
c="",d){this.addToQueue(()=>{window.pbjs.setTargetingForGPTAsync(a,b,c,d)})}triggerUserSyncs(){this.addToQueue(()=>{window.pbjs.triggerUserSyncs()})}registerSignalSources(){this.addToQueue(()=>{window.pbjs.registerSignalSources()})}clearTargetingForSharedBidPool(a){this.addToQueue(()=>{window.pbjs.clearTargetingForSharedBidPool(a)})}clearAllAuctions(){this.addToQueue(()=>{window.pbjs.clearAllAuctions()})}waitForQueue(){return new Promise(a=>{this.isPrebidLoaded()||a(!1);window.pbjs.que.push(()=>{a(!0)})})}getBidResponsesForAdUnitCode(a){return window.pbjs.getBidResponsesForAdUnitCode(a)}getBidResponsesForBidPoolId(a){return pbjs.getBidResponsesForBidPoolId(a)}getAdserverTargetingForAdUnitCode(a){return window.pbjs.getAdserverTargetingForAdUnitCode(a)}getAllPrebidWinningBids(){return window.pbjs.getAllPrebidWinningBids()}getConfig(a,
b){return b?window.pbjs.getConfig(a,b):window.pbjs.getConfig(a)}getHighestCpmBids(a){return window.pbjs.getHighestCpmBids(a)}getHighestCpmBidsForPoolId(a){return window.pbjs.getHighestCpmBidsForPoolId(a)}removeAdUnit(a){return window.pbjs.removeAdUnit(a)}removeAllAdUnits(){var a;let b=[...(null!==(a=pbjs.adUnits)&&void 0!==a?a:[])];window.pbjs.adUnits=[];return b}}var na;let E=na=class{constructor(a,b,c,d,e,g,h){this._config=a;this._bootstrapEventBus=b;this._slots=c;this.emailCapture=d;this._prebidMethods=
e;this._demandChain=g;this._dynamicContentSlotLazyLoadingComponent=h;this._started=!1;this.postStartTargetingWhiteList="bms pvk flag hi_au abgroup pubab mcmp fpv rf".split(" ");this.impressionViewable=new z;this.slotOnload=new z;this.slotRenderEnded=new z;this.slotVisibilityChanged=new z;this.slotRequested=new z;this.slotResponseReceived=new z;this.started=new z}init(){this.emailCapture.collectEmailFromStorage();na.pushToQueue(()=>{let a=window.googletag.pubads();a.setSafeFrameConfig({sandbox:!0,
allowOverlayExpansion:!0,allowPushExpansion:!0});a.set("page_url",this._config.context.pageUrl);a.collapseEmptyDivs();a.enableSingleRequest();a.disableInitialLoad();a.setPrivacySettings({childDirectedTreatment:!1});this._addGamEventListeners();this._bootstrapEventBus.libraryLoadFailed.on(({bootstrapType:b})=>{b===ra.Prebid&&this.setTargetingFlag("pbjs",["failed"])},{handleEventsAlreadyEmitted:!0})})}start(){na.pushToQueue(()=>{window.googletag.enableServices();try{this.started.emit()}catch(a){r.error("GoogleAdManager",
"start","started",a)}this._started=!0})}reset(){this._started=!1}static pushToQueue(a){window.googletag.cmd.push(a)}waitForQueue(){return new Promise(a=>{window.googletag.cmd.push(()=>{a(!0)})})}setTargeting(a){a=(Array.isArray(a)?a:[a]).filter(b=>!(!b.value||!b.value.length));if(this._started&&a.some(b=>!this.postStartTargetingWhiteList.includes(b.key)))r.error("GoogleAdManager","setTargeting","Attempted to set targeting after started");else for(let b of a)b&&na.pushToQueue(()=>{window.googletag.pubads().setTargeting(b.key,
b.value)})}setSlotTargeting(a,b){a=Array.isArray(a)?a:[a];for(let c of a)c&&na.pushToQueue(()=>{b.setTargeting(c.key,Array.isArray(c.value)?c.value.join(","):c.value)})}setTargetingFlag(a,b,c=!1){let d=()=>{const e=window.googletag.pubads().getTargeting("flag").filter(g=>{[g]=g.split(":");return!c||g!==a});this.setTargeting({key:"flag",value:[...e,...b.map(g=>`${a}:${g}`)]})};b&&0<b.length&&na.pushToQueue(()=>d())}getTargeting(){return window.googletag.pubads().getTargetingKeys().map(a=>({key:a,value:window.googletag.pubads().getTargeting(a)}))}getTargetingValuesForKey(a){return window.googletag.pubads().getTargeting(a)}getTargetingMap(){let a=
window.googletag.pubads();return a.getTargetingKeys().reduce((b,c)=>{b[c]=a.getTargeting(c);return b},{})}clearTargetingForKey(a){na.pushToQueue(()=>{window.googletag.pubads().clearTargeting(a)})}_getPathname(a){return"Content"===a.location&&a.sequence&&9<a.sequence||"Below_Post"===a.location&&a.sequence&&1<a.sequence?a.location:a.name}defineSlots(a){let {id:b}=this._config.site,{account:c,prefix:d}=this._config.gam;return a.map(e=>{var g=this._getPathname(e);g=`/${c}/${d}_${g}/${b}`;let h="Video_StickyOutstream"===
e.location?[...e.sizes]:[...e.sizes,"fluid"];this._setupSlot(e,g,h);return e}).filter(Cb)}displaySlots(a){na.pushToQueue(async()=>{let b=window.googletag.pubads();window.googletag&&!window.googletag.pubadsReady&&r.error("index","load",Error(`Unexpected googletag.pubadsReady: ${window.googletag.pubadsReady}`));let c=[];await this._prebidMethods.waitForQueue().then(e=>{!0===e&&(c=this._prebidMethods.getAllPrebidWinningBids())});for(let e of a){var d=this._demandChain.getBidWithBsidForSlot(c,e);d&&(d=
this._demandChain.getLastBsid(d.meta))&&e.googleTagSlot.setTargeting("hb_bsid",d);window.googletag.pubads().enableLazyLoad(this._dynamicContentSlotLazyLoadingComponent.lazyLoadingEnabledForSlot(e,this._prebidMethods)?this._config.lazyLoad.googleLazyLoadSettings.gam:this._config.lazyLoad.googleLazyLoadSettings.disabled);b.refresh([e.googleTagSlot])}})}refreshSlots(a){na.pushToQueue(()=>{window.googletag.pubads().refresh(a.map(b=>b.googleTagSlot))})}clearSlots(a){na.pushToQueue(()=>{let b=a.map(c=>
c.googleTagSlot);window.googletag.pubads().clear(b)})}destroySlots(a){na.pushToQueue(()=>{let b=a.map(c=>c.googleTagSlot);window.googletag.destroySlots(b)})}setSharedIdAsPPID(a){let b=a.replace(/[\W_]/g,"");32<=b.length&&150>=b.length&&na.pushToQueue(()=>{window.googletag.pubads().setPublisherProvidedId(b)})}setGPIDasPPID(a){na.pushToQueue(()=>{window.googletag.pubads().setPublisherProvidedId(a)})}_addGamEventListeners(){this._addEventListener(this.impressionViewable,"impressionViewable");this._addEventListener(this.slotOnload,
"slotOnload");this._addEventListener(this.slotRenderEnded,"slotRenderEnded");this._addEventListener(this.slotVisibilityChanged,"slotVisibilityChanged");this._addEventListener(this.slotRequested,"slotRequested");this._addEventListener(this.slotResponseReceived,"slotResponseReceived")}_addEventListener(a,b){na.pushToQueue(()=>{window.googletag.pubads().addEventListener(b,c=>{let d=this._slots.get(c.slot.getSlotElementId());if(d)try{a.emit({slot:d,event:c})}catch(e){r.error("GoogleAdManager","addEventListener",
"emit",e)}})})}_setupSlot(a,b,c){let d=window.googletag.pubads();a.googleTagSlot="Interstitial"===a.location?window.googletag.defineOutOfPageSlot(b,window.googletag.enums.OutOfPageFormat.INTERSTITIAL):window.googletag.defineSlot(b,c,a.element.id);a.googleTagSlot?(a.googleTagSlot.addService(d).setTargeting("location",a.location).setTargeting("sequence",String(a.sequence)).setTargeting("id",a.id),(1===a.sequence&&a.isAboveTheFold||"Footer"===a.location)&&a.googleTagSlot.setTargeting("ATF","true"),a.isSticky&&
"Video_StickyOutstream"!==a.location&&a.googleTagSlot.setTargeting("sticky","true"),a.special&&0<a.special.length&&a.googleTagSlot.setTargeting("special",a.special),"Sponsor_Tile"===a.location&&a.googleTagSlot.setCollapseEmptyDiv(!0,!0),d.isInitialLoadDisabled()&&window.googletag.display(a.googleTagSlot)):r.error("GoogleAdManager","defineSlots","Duplicate",b)}};E=na=l([n("GoogleAdManager"),p(),k("design:paramtypes",[y,qc,la,Wb,W,yf,Af])],E);let xa=class{constructor(a,b,c,d,e){this._config=a;this._prebidMethods=
b;this._slots=c;this._slotEventBus=d;this._videoEventBus=e;this.modelVersionMap=new Map([]);this._videoFlagSlot={};this._amazonFloors={};this._floorPriority=this._config.floors.cmPriority;this._floorResetTypes=[R.refresh,R.bidCycleNonlazy,R.lazyBidPool,R.lazy];this._prioritizedFloors=new Map;this._vidDiscountRules={};this._host=window.location.hostname;this._expirationThreshold=5;this._usedFloorMap=new Map;this._floorAbbrv={[R.refresh]:"lr",[R.bidCycleNonlazy]:"lbc",[R.lazyBidPool]:"lbp",[R.lazy]:"ll",
[R.session]:"ls"};this._refreshFloors=new Map;let {legacy:g,rubicon:h}=this._config.floors.floorsExperiment,m=this._host;if(g||h)this._prebidMethods.onEvent("auctionEnd",q=>{this.setFloorTargeting("auctionEnd",q);q.adUnitCodes.forEach(w=>this._clearRefreshFloorValue(`${m}|${w}`))}),this._slotEventBus.preRequestBids.on(this._setBannerAuctionFloor.bind(this)),this._videoEventBus.preRequestVideoBids.on(this._setVideoAuctionFloor.bind(this)),Object.keys(x).forEach(q=>{this._vidDiscountRules[`${m}|${x[q]}`]=
1E-5})}setValues(a,b,c){a.values[`${this._host}|${b}`]=0<c?c:0}getDefaultFloorConfig(){return{currency:"USD",schema:{fields:["domain","adUnitCode"],delimiter:"|"},values:{}}}setPrebidFloors(a){0<a.modelGroups.length&&this._setPrebidFloors(a)}setRubiconFloors(a){this._rubiconFloors=a}saveBids(a,b){this._prebidMethods.getBidResponsesForAdUnitCode(a.id).bids.forEach(c=>{b.push(c.cpm)})}prioritizeFloorsConfig(a,b){if(Object.keys(a.values).length){var c=Object.keys(a.values),d=this._config.floors,e=this._prioritizedFloors.get(b);
e=e&&e.values||{};for(let g of c)e=this._addVidDiscountFloor({...e,[g]:a.values[g]});a.values=e;d.savePriorityFloorData(a,b);this._prioritizedFloors.set(b,a);return a}}setLegacyFloorsConfig(a){this._setAmazonFloors(a);a=!this._config.floors.floorsExperiment.fallback&&this._config.floors.floorsData||{floorProvider:"legacy",floorsSchemaVersion:2,currency:"USD",modelGroups:[{...a,skipRate:0,modelWeight:100,modelVersion:"legacy"}]};this.setPrebidFloors(a);return a}createDelayTimeout(a,b,c){let d=this._config.floors.delayedBids;
window.setTimeout(()=>{let e=d[a]&&d[a][b];e&&e.parentBidResolve&&e.parentBidResolve()},c)}updateBidTTL(a,b,c=""){(c?this._prebidMethods.getBidResponsesForBidPoolId(c):this._prebidMethods.getBidResponsesForAdUnitCode(a)).bids.filter(d=>"rendered"!==d.status&&d.ttl&&!d.expired&&!d.sharedBidInUse).forEach(d=>{let e=d.ttl-this._expirationThreshold;Number(d.responseTimestamp)+1E3*Number(e)<b&&(d.ttl=e,d.expired=!0)})}createDelayedBidRace(a,b){let c=()=>{},d=this._config.floors.delayedBids,e=new Promise(g=>
{c=()=>g(!0)});d[a][b]={parentBidResolve:c};return e}handleDelayedBids(a,b){let c=this._config.floors;c.delayedBids[a]||(c.delayedBids[a]={});return this.createDelayedBidRace(a,b)}removeDelayedBid(a,b){var c;null===(c=this._config.floors.delayedBids[a])||void 0===c?!0:delete c[b]}setOGRefreshValue(a,b){this._refreshFloors.set(a,b)}get prioritizedFloorData(){return this._prioritizedFloors}createFloorValue(a=[],b=0){return 0===a.length?0:1<a.length?Bb(a,b):a[0]*b}_addVidDiscountFloor(a){return{...this._vidDiscountRules,
...a}}_clearRefreshFloorValue(a){this._floorResetTypes.forEach(b=>{let c=this._prioritizedFloors.get(b);c&&c.values&&c.values[a]&&(c.values[a],delete c.values[a],this._config.floors.savePriorityFloorData(c,b))})}_setBannerAuctionFloor(a){a.forEach(b=>{if(b=b.prebidAdUnit&&b.prebidAdUnit.code)this._usedFloorMap.delete(b),this._setAuctionFloor(b)})}_setVideoAuctionFloor(a){a.videos.forEach(b=>{b=b.name;this._usedFloorMap.delete(b);this._setAuctionFloor(b)})}_setAuctionFloor(a){let b=this._rubiconFloors,
c=this._floorPriority,d=!1;if(a){for(let e=0;e<=c.length;e++){let g=this._prioritizedFloors.get(c[e]);if(g&&g.values&&g.values[`${this._host}|${a}`]){d=!0;this.setLegacyFloorsConfig(g);this._usedFloorMap.set(a,c[e]);break}}!d&&b&&this._setPrebidFloors(b)}}_setPrebidFloors(a){this._prebidMethods.setConfig({floors:{enforcement:{enforceJS:!1},data:a}})}_setAmazonFloors({values:a,currency:b}){Object.keys(a).forEach(c=>{let d=c.split("|").length&&c.split("|")[1]||c;this._amazonFloors[d]={value:a[c],currency:b||
"USD"}})}getAmazonFloorsBySlotId(a){return this._amazonFloors[a]||this._amazonFloors[a.toLowerCase()]||{}}getVideoFlagSlot(a){return this._videoFlagSlot[a]}setVideoFlagSlot(a,b={}){return a&&(this._videoFlagSlot[a]={...this._videoFlagSlot[a],...b})}_getTargetingValue(a,b){b=this._usedFloorMap.get(b);b=a&&"legacy"===a.floorProvider&&(b&&this._floorAbbrv[b]||"L");let c=a&&a.skipped&&"s";a=a&&this.modelVersionMap.get(a.modelVersion);return b||c||`${a}`}_clearRefreshValue(a){return a&&this._refreshFloors.get(a)&&
this._refreshFloors.set(a,0)}getFCVForAdUnit(a,b){let c=b?":":"%3A",d=[];this._config.floors.activeFloorsTypes.forEach(e=>{if(e===R.refresh){var g=this._refreshFloors.get(a)||0;this._clearRefreshValue(a)}else g=(g=this._prioritizedFloors.get(e))&&g.values[`${this._host}|${a}`]||0;g&&d.push(`${Yd[e]}${c}${g}`)});return d}setFloorTargeting(a,b){let c=b.adUnitCodes[0],d=this._slots.get(c);var e=b.adUnits&&b.adUnits[0].bids&&b.adUnits[0].bids[0].floorData;a=e&&"auctionEnd"===a?this._getTargetingValue(e,
c):"f";e=d&&d.id===c;let g=Object.keys(x).some(q=>x[q]===c);var h=this._prebidMethods.getHighestCpmBids(c);let m=!b.bidsReceived.length&&!!h.length;b=this.getFloorPrice(m?h[0]:b.bidsReceived[0]);h=this.getFCVForAdUnit(c,!!e);e?(d.setSlotTargetingFlag("fv",[a],!0),d.setSlotTargetingFlag("hbf",[b],!0),h.length&&d.setTargeting({key:"fcv",value:h}),m&&d.setSlotTargetingFlag("hbfcf",[b],!0)):g&&this.setVideoFlagSlot(c,{fv:a,hbf:b,...(h.length&&{fcv:h}),...(m&&{hbfcf:b})})}getFloorPrice(a){return a?a.floorData&&
a.floorData.floorValue&&a.floorData.floorValue.toFixed(2)||"none":"0"}};xa=l([n("Floors"),p(),k("design:paramtypes",[y,W,la,Ha,Ca])],xa);class Cj{get videoEnabled(){return!0}get enabled(){return!0}}class Dj{getSupplyChainConfig(a){return{ver:"1.0",complete:1,nodes:[{asi:"cafemedia.com",sid:a,hp:1}]}}}let Ej=new Map([["10thu68",`a_${f.AppNexus}`],["16d9pts",`a_${f.GumGum}`],["1axt6o",`a_${f.OpenX}`],["1bkk3r4",`a_${f.Amazon}`],["1dfpj4",`a_${f.Amazon}`],["1e4ycjk",`a_${f.Triplelift}`],["1lcnshs",`a_${f.Sharethrough}`],
["1n0lcsg",`a_${f.Spotx}`],["1skd8g0",`a_${f.Yieldmo}`],["1y4543k",`a_${f.Pubmatic}`],["3bcv7k",`a_${f.Amazon}`],["j27tog",`a_${f.Rubicon}`],["me2y9s",`a_${f.IndexExchange}`],["qtwge8",`a_${f.Verizon}`],["upqrr4",`a_${f.MediaGrid}`]]),Fj={"138wa9s":.01,lhm9s0:.02,"1l06ark":.03,clz9j4:.04,"1c4jaio":.05,ud9a0w:.06,"1tvtb0g":.07,"865reo":.08,"17opse8":.09,pxfrwg:.1,"1pfzsw0":.11,h1srnk:.12,"1gkcsn4":.13,yt2s5c:.14,"1ybmt4w":.15,"1ifi80":.16,"110zj7k":.17,j9pips:.18,"1is9jpc":.19,ae2igw:.2,"19wmjgg":.21,
s5ciyo:.22,"1rnwjy8":.23,"5y90cg":.24,"15gt1c0":.25,npj0u8:.26,"1n831ts":.27,etw0lc:.28,"1ecg1kw":.29,wl6134:.3,"1w3q22o":.31,"2mdvr4":.32,"124xwqo":.33,kdnw8w:.34,"1jw7x8g":.35,bi0w00:.36,"1b0kwzk":.37,t9awhs:.38,"1sruxhc":.39,"727dvk":.4,"16krev4":.41,othedc:.42,"1oc1fcw":.43,fxue4g:.44,"1fgef40":.45,xp4em8:.46,"1x7ofls":.47,eh4ow:.48,zx15og:.49,i5r56o:.5,"1hob668":.51,"9a44xs":.52,"18so5xc":.53,r1e5fk:.54,"1qjy6f4":.55,"4uamtc":.56,"14cunsw":.57,mlknb4:.58,"1m44oao":.59,dpxn28:.6,"1d8ho1s":.61,
vh7nk0:.62,"1uzrojk":.63,"4abg1s":.64,"13svh1c":.65,m1lgjk:.66,"1lk5hj4":.67,d5ygao:.68,"1coiha8":.69,ux8gsg:.7,"1ufshs0":.71,"8q4y68":.72,"188oz5s":.73,qheyo0:.74,"1pzyznk":.75,hlryf4:.76,"1h4bzeo":.77,zd1yww:.78,"1yvlzwg":.79,"22eozk":.8,"11kypz4":.81,jtophc:.82,"1jc8qgw":.83,ay1p8g:.84,"1aglq80":.85,spbpq8:.86,"1s7vqps":.87,"6i8740":.88,"160s83k":.89,o9i7ls:.9,"1ns28lc":.91,fdv7cw:.92,"1ewf8cg":.93,x557uo:.94,"1wnp8u8":.95,"36d2io":.96,"12ox3i8":.97,kxn30g:.98,"1kg7400":.99,c202rk:1,"1bkk3r4":1.01,
tta39c:1.02,"1tbu48w":1.03,"7m6kn4":1.04,"174qlmo":1.05,pdgl4w:1.06,"1ow0m4g":1.07,ghtkw0:1.08,"1g0dlvk":1.09,y93lds:1.1,"1xrnmdc":1.11,ygbgg:1.12,"10h0cg0":1.13,ipqby8:1.14,"1i8acxs":1.15,"9u3bpc":1.16,"19cncow":1.17,rldc74:1.18,"1r3xd6o":1.19,"5e9tkw":1.2,"14wtukg":1.21,n5ju2o:1.22,"1mo3v28":1.23,e9wtts:1.24,"1dsgutc":1.25,w16ubk:1.26,"1vjqvb4":1.27,"3gcnwg":1.28,"12ywow0":1.29,l7moe8:1.3,"1kq6pds":1.31,cbzo5c:1.32,"1bujp4w":1.33,u39on4:1.34,"1tltpmo":1.35,"7w660w":1.36,"17eq70g":1.37,png6io:1.38,
"1p607i8":1.39,grt69s:1.4,"1gad79c":1.41,yj36rk:1.42,"1y1n7r4":1.43,"18fwu8":1.44,"10qzxts":1.45,izpxc0:1.46,"1ii9ybk":1.47,a42x34:1.48,"19mmy2o":1.49,rvcxkw:1.5,"1rdwykg":1.51,"5o9eyo":1.52,"156tfy8":1.53,nfjfgg:1.54,"1my3gg0":1.55,ejwf7k:1.56,"1e2gg74":1.57,wb6fpc:1.58,"1vtqgow":1.59,"2ceadc":1.6,"11uybcw":1.61,k3oav4:1.62,"1jm8buo":1.63,b81am8:1.64,"1aqlbls":1.65,szbb40:1.66,"1shvc3k":1.67,"6s7shs":1.68,"16arthc":1.69,ojhszk:1.7,"1o21tz4":1.71,fnusqo:1.72,"1f6etq8":1.73,xf4t8g:1.74,"1wxou80":1.75,
"4hjb4":1.76,zn1kao:1.77,hvrjsw:1.78,"1hebksg":1.79,"904jk0":1.8,"18iokjk":1.81,qrek1s:1.82,"1q9yl1c":1.83,"4kb1fk":1.84,"142v2f4":1.85,mbl1xc:1.86,"1lu52ww":1.87,dfy1og:1.88,"1cyi2o0":1.89,v78268:1.9,"1ups35s":1.91,"40buo0":1.92,"13ivvnk":1.93,lrlv5s:1.94,"1la5w5c":1.95,cvyuww:1.96,"1ceivwg":1.97,un8veo:1.98,"1u5swe8":1.99,"8g5csg":2,"17ypds0":2.01,q7fda8:2.02,"1ppze9s":2.03,hbsd1c:2.04,"1guce0w":2.05,z32dj4:2.06,"1ylmeio":2.07,"1sf3ls":2.08,"11az4lc":2.09,jjp43k:2.1,"1j29534":2.11,ao23uo:2.12,"1a6m4u8":2.13,
sfc4cg:2.14,"1rxw5c0":2.15,"688lq8":2.16,"15qsmps":2.17,nzim80:2.18,"1ni2n7k":2.19,f3vlz4:2.2,"1emfmyo":2.21,wv5mgw:2.22,"1wdpngg":2.23,"2wdh4w":2.24,"12exi4g":2.25,knnhmo:2.26,"1k67im8":2.27,bs0hds:2.28,"1bakidc":2.29,tjahvk:2.3,"1t1uiv4":2.31,"7c6z9c":2.32,"16ur08w":2.33,p3gzr4:2.34,"1om10qo":2.35,g7tzi8:2.36,"1fqe0hs":2.37,xz4000:2.38,"1xho0zk":2.39,ogq2o:2.4,"1070r28":2.41,ifqqkg:2.42,"1hyark0":2.43,"9k3qbk":2.44,"192nrb4":2.45,rbdqtc:2.46,"1qtxrsw":2.47,"54a874":2.48,"14mu96o":2.49,mvk8ow:2.5,
"1me49og":2.51,dzx8g0:2.52,"1dih9fk":2.53,vr78xs:2.54,"1v9r9xc":2.55,"3vc1z4":2.56,"13dw2yo":2.57,lmm2gw:2.58,"1l563gg":2.59,cqz280:2.6,"1c9j37k":2.61,ui92ps:2.62,"1u0t3pc":2.63,"8b5k3k":2.64,"17tpl34":2.65,q2fklc:2.66,"1pkzlkw":2.67,h6skcg:2.68,"1gpclc0":2.69,yy2ku8:2.7,"1ygmlts":2.71,"1nfaww":2.72,"115zbwg":2.73,jepbeo:2.74,"1ix9ce8":2.75,aj2b5s:2.76,"1a1mc5c":2.77,sacbnk:2.78,"1rswcn4":2.79,"638t1c":2.8,"15lsu0w":2.81,nuitj4:2.82,"1nd2uio":2.83,eyvta8:2.84,"1ehfu9s":2.85,wq5ts0:2.86,"1w8purk":2.87,
"2rdog0":2.88,"129xpfk":2.89,kinoxs:2.9,"1k17pxc":2.91,bn0oow:2.92,"1b5kpog":2.93,teap6o:2.94,"1swuq68":2.95,"7776kg":2.96,"16pr7k0":2.97,oyh728:2.98,"1oh181s":2.99,g2u6tc:3,"1020ydc":3.05,r6dy4g:3.1,"1m94gzk":3.15,"4fb8qo":3.2,"1cti9z4":3.25,qmercw:3.3,"1z0lslc":3.35,b31hxc:3.4,"165s0sg":3.45,xa50jk:3.5,"1kl6wow":3.55,"7r6dc0":3.6,"1g5dekg":3.65,iuq4n4:3.7,"1r8x5vk":3.75,eewmio:3.8,"133whkw":3.85,u89hc0:3.9,"1pb0074":3.95,"1dfpj4":4,"19rmqrk":4.05,nkj85c:4.1,"1vyq9ds":4.15,bd13b4:4.2,"16frm68":4.25,
xk4lxc:4.3,"1hjbdhc":4.35,"4pau4g":4.4,"1d3hvcw":4.45,lwlnuo:4.5,"1uasp34":4.55,hgs5q8:4.6,"11fyxa8":4.65,skbx1c:4.7,"1nn2fwg":4.75,"31d9ts":4.8,"1bfkb28":4.85,p8gsg0:4.9,"1xmntog":4.95,"9p3j0g":5,"14ru1vk":5.05,vw71mo:5.1,"1kxoef4":5.15,"83nv28":5.2,"1ghuwao":5.25,j77mdc:5.3,"1rlenls":5.35,ere48w:5.4,"122g0e8":5.45,t6t05c:5.5,"1o9jj0g":5.55,bz8cg:5.6,"18q69kw":5.65,mj2qyo:5.7,"1ux9s74":5.75,d3gjy8:5.8,"18672tc":5.85,zak2kg:5.9,"1j9qu4g":5.95,"6fqark":6,"1etxc00":6.05,kv56o0:6.1,"1t9c7wg":6.15,gfbojk:6.2,
"10eig3k":6.25,rivfuo:6.3,"1mllyps":6.35,"3durk0":6.4,"1bs1ssg":6.45,pkya68:6.5,"1xz5beo":6.55,a1l0qo:6.6,"154bjls":6.65,w8ojcw:6.7,"1jjqfi8":6.75,"6ppw5c":6.8,"1f3wxds":6.85,ht9ngg:6.9,"1q7goow":6.95,ddg5c0:7,"13gdzb4":7.05,ukqz28:7.1,"1pnhhxc":7.15,"1px79c":7.2,"1a448hs":7.25,nx0pvk:7.3,"1wb7r40":7.35,bpil1c:7.4,"16s93wg":7.45,xwm3nk:7.5,"1hvsv7k":7.55,"51sbuo":7.6,"1dfzd34":7.65,lk464g:7.7,"1tyb7cw":7.75,h4ao00:7.8,"113hfk0":7.85,s7ufb4:7.9,"1naky68":7.95,"2ovs3k":8,ovzaps:8.1,"9cm1a8":8.2,"14fck5c":8.25,
vjpjwg:8.3,"8smuio":8.4,jw6lts:8.5,fgd3pc:8.6,tvrzls:8.7,"1oyiigw":8.75,"10y7sw":8.8,n81qf4:8.9,cehkhs:9,yll340:9.1,"5qrbb4":9.2,"1e4ycjk":9.25,k6677k:9.3,fqcp34:9.4,qtwge8:9.5,"42tr0g":9.6,q9x9mo:9.7,"1yo4av4":9.75,aqk074:9.8,wxnitc:9.9,"7eovls":10,ii8mww:10.1,e2f4sg:10.2,"137nc3k":10.25,uc0buo:10.3,"1h6k1s":10.4,noa2o0:10.5,bgrxts:10.6,xnvgg0:10.7,"1hn2800":10.75,"4t1on4":10.8,m0cidc:10.9,hkj08w:11,so2rk0:11.1,"3544cg":11.2,"1bjb5kw":11.25,pc7myo:11.3,"9sudj4":11.4,vzxw5c:11.5,"7ux7uo":11.6,iygz5s:11.7,
"1rco0e8":11.75,einh1c:11.8,sy2cxs:11.9,"38l4w":12,mac3r4:12.1,cupwqo:12.2,"17xgfls":12.25,z1tfcw:12.3,"66znk0":12.4,kmejgg:12.5,g6l1c0:12.6,"1mcvbi8":12.7,ra4sn4:12.75,"3u33sw":12.8,q16mf4:12.9,ahtczk:13,wowvls:13.1,"75y8e8":13.2,"1fk59mo":13.25,i9hzpc:13.3,dtohkw:13.4,v0zbb4:13.5,"265ji8":13.6,od924g:13.7,"1wrg3cw":13.75,c5qxa8:13.8,ycufwg:13.9,"5i0o3k":14,lbdiww:14.1,gvk0sg:14.2,"10uqscg":14.25,rz3s3k:14.3,"2g54w0":14.4,on8ni8:14.5,"93ve2o":14.6,vaywow:14.7,"1ldwqo0":14.75,"8jw7b4":14.8,jnfym8:14.9,
f7mghs:15,tn1ce8:15.1,s7klc:15.2,"196elts":15.25,mzb37k:15.3,ci8f0g:15.4,ypbxmo:15.5,"5ui5ts":15.6,k9x1q8:15.7,"1so42yo":15.75,fu3jls:15.8,qxnaww:15.9,"46klj4":16,qdo45c:16.1,auaups:16.2,"15x1dkw":16.25,x1edc0:16.3,"7ifq4g":16.399999,ilzhfk:16.5,e65zb4:16.6,tziu4g:16.7,"1p29czk":16.75,"14p2bk":16.8,nbskxs:16.9,b4ag3k:17,xbdyps:17.1,"4gk6ww":17.2,"1cur85c":17.25,lnv0n4:17.3,h81iio:17.4,sbl9ts:17.5,"2smmm8":17.6,ozq58g:17.7,"1xdx6gw":17.75,"9gcvsw":17.8,vngef4:17.9,"87epkw":18,jaygw0:18.1,ev4yrk:18.2,
"1266uww":18.25,tajuo0:18.3,fq2v4:18.4,mmtlhc:18.5,d77egw:18.6,zeax34:18.7,"1jdhon4":18.75,"6jh5a8":18.8,kyw16o:18.9,gj2j28:19,rmmadc:19.1,"3hlm2o":19.2,"1bvsnb4":19.25,pop4ow:19.3,a5bv9c:19.4,wcfdvk:19.5,"6tgqo0":19.6,hx0hz4:19.7,"1qb7j7k":19.75,dh6zuo:19.8,uohtkw:19.9,"1to1s0":20,lgzsow:20.5,"99hnuo":21,tsnm68:21.5,"5nmxvk":22,q6sw74:22.5,dzarcw:23,xthq80:23.5,"3aqe4g":24,j438xs:24.5,d0c6io:25,rfr2f4:25.5,"6z30g0":26,o6du68:26.5,goosu8:27,v43oqo:27.5,lccn4:28,kfjbi8:28.5,azx4hs:29,u553wg:29.5,"4m6gow":30,
p5cf0g:30.5,es0lc0:31,zb6jnk:31.5,"3eh8n4":32,htw4jk:32.5,bq524g:33,s8gwe8:33.5,"8t9bls":34,n8o7i8:34.5,fqz668:35,wy9zwg:35.5,"1e26m8":36,lx84xs:36.5,"9pq03k":37,suxzi8:37.5,"63va4g":38,py28zk:38.5,dqk45c:39,y9q2gw:39.5,"2d0rgg":40,jkbl6o:40.5,cmai2o:41,r1pdz4:41.5,"7mht6o":42,nfuo00:42.5,hc3lkw:43,vrihhc:43.5,js5xc:44,l2y48w:44.5,a9dybk:45,usjwn4:45.5,"59l9fk":46,oraqkg:46.5,fbojk0:47,ygwiyo:47.5,"3y56v4":48,idk2rk:48.5,bku0w0:49,ss4um8:49.5,"7yzaww":50,mee6tc:50.5,gan4e8:51,wk8bgg:51.5,"21gzcw":52,
l6oyrk:52.5,"8z6txc":53,tics8w:53.5,"62b3eo":54,qlh1q8:54.5,edyww0:55,xj6wao:55.5,"30fk74":56,j69wqo:56.5,d2iubk:57,rhxq80:57.5,"6os6io":58,nw308w:58.5,h3cydc:59,viru9s:59.5,"100i68":60,k58hkw:60.5,apmakg:61,ucy1hc:61.5,"4tze9s":62,pd5clc:62.5,ejl6o0:63,z2r4zk:63.5,"3v0tfk":64,iafpc0:64.5,c6omww:65,s01hq8:65.5,"8ktwxs":66,n08su8:66.5,fv198g:67,x2c2yo:67.5,"15mry8":68,losq9s:68.5,"9halfk":69,tbhkao:69.5,"6keuww":70,ppmubk:70.5,di4phc:71,y1answ:71.5,"2ktp1c":72,js4irk:72.5,cafhfk:73,qpudc0:73.5,"7amsjk":74,
nsymtc:74.5,hp7ke8:75,w4mgao:75.5,"7x5a8":76,kr33ls:76.5,aa0feo:77,ut6dq8:77.5,"5a7qio":78,offpxc:78.5,eztiww:79,yu0hs0:79.5,"4b95og":80,iqo1kw:80.5,b8z08w:81,sg9tz4:81.5,"86bdog":82,mlq9kw:82.5,ghz75s:83,wbc1z4:83.5,"1skpvk":84,lmroqo:84.5,"9f9jwg":85,tyfi80:85.5,"5tetxc":86,qcks8w:86.5,e52neo:87,xms4jk:87.5,"340sg0":88,ixdn9c:88.5,ctmku8:89,r91gqo:89.5,"74uwhs":90,oc5q80:90.5,gugow0:91,v9vksg:91.5,r48ow:92,kckkcg:92.5,awydc0:93,u26cqo:93.5,"4j7pj4":94,p2dnuo:94.5,exshds:95,zgyfpc:95.5,"3k94ow":96,
hzo0lc:96.5,bvwy68:97,s1raps:97.5,"8mjpxc":98,n1ylts:98.5,fk9khs:99,wrke80:99.5,"1ju2o0":100},Oc=class extends K{constructor(a,b){super();this._result=!1;this.key="amzn_hold_disp";this._choices=[{choice:!0},{choice:!1}];this.weight=.5;if(b=b.getCoreExperimentButMutateWeights(this.key))this.weight=b.variants[0].weight,this._result=this.run(),a.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return(new O(this.weight)).get()}};l([N(),k("design:type",Function),k("design:paramtypes",
[]),k("design:returntype",void 0)],Oc.prototype,"run",null);Oc=l([n("AmazonLibraryExperiment"),p(),k("design:paramtypes",[I,aa])],Oc);class Bf{isAmazonLoaded(){return!!window.apstag}init(a){this.isAmazonLoaded()&&window.apstag.init(a)}fetchBids(a,b){this.isAmazonLoaded()&&window.apstag.fetchBids(a,b)}setDisplayBids(){this.isAmazonLoaded()&&window.apstag.setDisplayBids()}targetingKeys(){return this.isAmazonLoaded()?window.apstag.targetingKeys():[]}rpa(a,b,c){this.isAmazonLoaded()&&window.apstag.rpa(a,
b,c)}upa(a,b,c){this.isAmazonLoaded()&&window.apstag.upa(a,b,c)}dpa(a){this.isAmazonLoaded()&&window.apstag.dpa(a)}}let Pc=class extends Cj{constructor(a,b,c,d,e,g){super();this._config=a;this._amazonMethods=b;this._amazonHoldDisplayExperiment=c;this._floors=d;this._videoEventBus=e;this._bootstrapConfig=g;this.holdDisplayExperiment=!1;this.videoSlotNames=new Map;this._gptSlot=new Map;this._amznDecryptedTargetingKeys=["amz_pb","amz_bidder","amz_pb_sp","amz_bidder_sp"];this._amznEncryptedTargetingKeys=
["amznbid","amzniid","amznp","amznsz","mediaType"];this._amznTargetingKeys=[];this._amazonConfig={pubID:this._config.amazon.pubId,deals:this._config.adOptions.pmp,adServer:"googletag",videoAdServer:"DFP",...(this._config.ccpa.required&&this._config.ccpa.privacyString&&{params:{us_privacy:this._config.ccpa.privacyString}}),schain:(new Dj).getSupplyChainConfig(this._config.site.id)};this._amznTargetingKeys=["amzndeal_sp",...this._amznEncryptedTargetingKeys.map(h=>`${h}_sp`),...this._amznDecryptedTargetingKeys]}init(){let a=
this._amazonMethods;void this._checkLibLoaded().then(()=>{a.init(this._amazonConfig)}).catch(b=>{r.error("AmazonAuctionManager","init","Failed to initialize apstag",b)});this._config.ccpa.consentChange.on(b=>{this._amazonConfig.params&&b&&(this._amazonConfig.params.us_privacy=b);a.init(this._amazonConfig)});this.holdDisplayExperiment=this._amazonHoldDisplayExperiment.result;this.videoSlotNames=this._initVideoSlotMap()}requestBids(a,b=this._config.timeouts.initialBidsRequest-200,c=!1){let d=this._amazonMethods,
{id:e}=this._config.site,{networkCode:g,prefix:h}=this._config.gam;a=a.filter(m=>"Native_Recipe"!==m.location);return new Promise(m=>{this._checkLibLoaded().then(q=>{if(!q||!a.length)return m();E.pushToQueue(()=>{let w=a.filter(u=>void 0!==u.googleTagSlot&&!this._config.amazon.adUnitExclusions.has(u.location)).map(u=>{const v=u.element.id;var A=this._floors.getAmazonFloorsBySlotId(v);A={slotID:v,slotName:`/${g}/${h}_${u.name}/${e}`,sizes:u.sizes,...("Video_StickyOutstream"===u.location&&{mediaType:"video"}),
...(A&&0<A.value&&A.currency&&{floor:{value:Math.ceil(100*A.value),currency:A.currency}})};this._gptSlot.set(v,u.googleTagSlot);return A});w.length?(d.fetchBids({slots:w,timeout:b,params:{adRefresh:c?"1":"0"}},u=>{E.pushToQueue(()=>{u.length?u.forEach(v=>{let A=this._gptSlot.get(v.slotID),{bidder:G,cpm:L,mediaType:J,pmpCpm:D,pmpBidder:P}=this._decryptAmazonBid(v.targeting||v);if(A&&G&&L){let M=nc(this._config,v,G,L,J);A.setTargeting("amz_pb",M);A.setTargeting("amz_bidder",G);D&&P&&(v=nc(this._config,
v,P,D,J),A.setTargeting("amz_pb_sp",v),A.setTargeting("amz_bidder_sp",P))}d.setDisplayBids();m(L)}):(d.setDisplayBids(),m())})}),this.holdDisplayExperiment||m()):m()})}).catch(q=>{r.error("AmazonAuctionManager","requestBids",q)})})}refreshBids(a){this._clearAmazonKeys(a);return this.requestBids(a,this._config.timeouts.refreshBidsRequest-200,!0)}_clearAmazonKeys(a){a.forEach(b=>{if(b.googleTagSlot){let c=b.googleTagSlot.getTargetingKeys();this._amznTargetingKeys.forEach(d=>c.includes(d)&&b.googleTagSlot.clearTargeting(d))}})}requestVideoBids(a,
b=this._config.timeouts.initialBidsRequest-200){let c=this._amazonMethods;return Promise.all(a.map(d=>{let e=this._floors.getAmazonFloorsBySlotId(d.name),g=Math.ceil(100*(Number(e&&e.value||0)+.1753)),h={slotID:this.videoSlotNames.get(d.name),mediaType:"video",floor:{value:g,currency:e.currency||"USD"}};return new Promise(m=>{this._checkLibLoaded().then(q=>{if(!q)return m();h?c.fetchBids({slots:[h],timeout:b},w=>{w.length&&w.forEach(u=>{let v={...u},{bidder:A,cpm:G,mediaType:L,pmpCpm:J,pmpBidder:D}=
this._decryptAmazonBid(u.targeting||u);A&&G&&(u=nc(this._config,v,A,G,L),v.amz_pb=`${u}`,v.amz_bidder=A);J&&D&&(u=nc(this._config,v,D,J,L),v.targeting?v.targeting.amz_pb_sp=`${u}`:v.amz_pb_sp=`${u}`,v.targeting?v.targeting.amz_bidder_sp=`${u}`:v.amz_bidder_sp=`${u}`);this._videoEventBus.addAPStagSlotBidResponse.legacyEmit({playlistId:d._playlistId,bid:v});m(G)});m()}):m()}).catch(q=>{r.error("AmazonAuctionManager","requestVideoBids",q)})})})).then(()=>Promise.resolve()).catch()}get videoEnabled(){return this._config.partners.video.get("AmazonUAM")}get enabled(){return this._amazonMethods.isAmazonLoaded()&&
this._config.amazon.enabled}_decryptAmazonBid(a){var b=a[zb.amznbid]||"",c=b.includes("_")?b.substring(2):b;c=Fj[c];let d=Ej.get(a[zb.amznp]||"")||"",e=a.amznbid_sp||"",g=a.mediaType_sp||"";var h=e.includes("_")?e.substring(2):e;h=Fj[h];a=Ej.get(a[`${zb.amznp}_sp`]||"")||"";b=b.includes("o_")?"stickyOutstream":b.includes("v_")?"instream":"default";return{bidder:d,cpm:c,mediaType:b,...(e.length&&{pmpCpm:h,pmpBidder:a,pmpMediaType:g})}}async _checkLibLoaded(){try{return await this._bootstrapConfig.bootstrapLoaders[ra.Amazon],
!0}catch(a){return r.error("AmazonAuctionManager","checkLibLoaded",a),!1}}_initVideoSlotMap(){var a=new Map([[x.Video_Collapse_Autoplay_SoundOff,"Sticky_Playlist_Desktop"],[x.Video_Individual_Autoplay_SOff,"Sticky_Related_Desktop"],[x.Video_In_Post_ClicktoPlay_SoundOn,"CTP_Desktop"]]),b=new Map([[x.Video_Coll_SOff_Smartphone,"Sticky_Playlist_Mobile"],[x.Video_Individual_Autoplay_SOff,"Sticky_Related_Mobile"],[x.Video_In_Post_ClicktoPlay_SoundOn,"CTP_Mobile"]]);return qa()?a:b}};Pc=l([n("AmazonAuctionManager"),
t(),k("design:paramtypes",[y,Bf,Oc,xa,Ca,ma])],Pc);let Gj=class extends C{constructor(a){super();this._config=a}init(){this.addPrivacyPreferencesFooter()}addPrivacyPreferencesFooter(){let a=document.createElement("div");a.className="adthrive-privacy-preferences";let b=document.createElement("a");b.href="javascript:adthrive.cmd.push(adthrive.showPrivacyPreferences);";b.innerText="Update Privacy Preferences";a.appendChild(b);this._config.footer.elements.push({order:1,element:a})}};Gj=l([n("GDPRComponent"),
t(),k("design:paramtypes",[y])],Gj);let Za=class{constructor(){this.consentCaptured=new z}};Za=l([p()],Za);let qb=class extends C{constructor(a,b){super();this._events=a;this._config=b;this._queues=[H,r]}init(){this.checkConsentOnLoad().then(a=>{a?(this._config.gdpr.consentCaptured=!0,this._events.consentCaptured.emit(a),this.clearGdprQueues()):this.listenForConsentSubmit().catch(b=>{r.error("init","listenForConsentSubmit",b)})}).catch(a=>{r.error("init","checkConsentOnLoad",a)})}checkConsentOnLoad(){return new Promise(a=>
{window.__tcfapi("addEventListener",2,(b,c)=>c&&b&&"tcloaded"===b.eventStatus&&b.tcString?a(b.tcString):a(""))})}checkConsentForVendor(a,b){return new Promise(c=>{window.__tcfapi("checkConsent",2,(d,e)=>e?c(d):c(!1),{data:[{vendorId:a,purposeIds:b}]})})}clearGdprQueues(){this._queues.forEach(a=>{this.checkConsentForVendor(this._config.gdpr.cafeMediaVendorId,a.purposes).then(b=>{b?a.clearQueue(!0):(a.disable=!0,a.clearQueue(!1))}).catch(b=>{r.error("listenForConsentSubmit","checkConsentForVendor",
b)})})}listenForConsentSubmit(){return new Promise(a=>{window.__tcfapi("addEventListener",2,(b,c)=>{c&&(b&&"useractioncomplete"===b.eventStatus&&(this._config.gdpr.consentCaptured=!0,this._events.consentCaptured.emit(b.tcString),this.clearGdprQueues(),window.__tcfapi("removeEventListener",2,d=>{},b.listenerId)),a(!0));a(!1)})})}get enabled(){return"function"===typeof window.__tcfapi}};qb=l([n("GDPREnforcementComponent"),t(),k("design:paramtypes",[Za,y])],qb);let ua=(a,b)=>!a.idho.subModule.some(c=>
c===b),Oa=class{constructor(a,b,c){this._config=a;this._context=b;this._piiEventBus=c;this._pixelUrl=`${window.location.origin}/wp-json/adthrive-pubcid/v1/extend`;this._sharedIdCookie=Ba("_pubcid");this._sharedIdLocalNew=H.getLocalStorageValue("_pubcid",!1);this._sharedIdLocalLegacy=H.getLocalStorageValue("pbjs-pubcommonid",!1);this._sharedIdExpLocalLegacy=H.getLocalStorageValue("pbjs-pubcommonid_exp",!1);this._connectIdConfig=["connectId",{id:{name:"connectId",params:{pixelId:58404,...(this._getSharedId()&&
{puid:this._getSharedId()}),...(this._config.user.hash&&{he:this._config.user.hash})},storage:{name:"connectid",type:"html5",expires:15}},enabled:ua(this._config,"connectId")&&this._config.liveRampAts.enabled,targetingKey:"cid"}];this._unifiedIdConfig=["unifiedId",{id:{name:"unifiedId",params:{url:"https://match.adsrvr.org/track/rid?ttd_pid=iowij76&fmt=json"},storage:{type:"html5",name:"pbjs-unifiedid",expires:60}},enabled:ua(this._config,"unifiedId"),targetingKey:"uid1"}];this._unifiedId2Config=
["unifiedId2",{id:{name:"uid2",params:{uid2ServerCookie:"__uid2_server_token"},storage:{type:"cookie",name:"__uid2_advertising_token"}},enabled:ua(this._config,"unifiedId2")&&!this._config.gdpr.enabled,targetingKey:"uid2"}];this._id5IdConfig=["id5Id",{id:{name:"id5Id",params:{partner:367,...(this.sharedIdValue&&this._config.user.hash&&{pd:btoa(`1=${this._config.user.hash}&5=${this.getSharedIdValue()}&12=${ha}`)})},storage:{type:"html5",name:"pbjs-id5id",expires:60,refreshInSeconds:28800}},enabled:ua(this._config,
"id5Id"),targetingKey:"id5-d"}];this._identityLinkConfig=["identityLink",{id:{name:"identityLink",params:{pid:"111"},storage:{type:"html5",name:"pbjs-identitylink",expires:60}},enabled:ua(this._config,"identityLink"),targetingKey:"idl"}];this._pairIdConfig=["pairId",{id:{name:"pairId",params:{liveramp:{}},storage:{type:"html5",name:"pbjs-pairId",expires:30,refreshInSeconds:1800}},enabled:ua(this._config,"pairId")&&this._config.liveRampAts.enabled,targetingKey:"pair"}];this._criteoIdConfig=["criteo",
{id:{name:"criteo",storage:{type:"html5",name:"pbjs-criteo",expires:60}},enabled:ua(this._config,"criteo"),targetingKey:"cri"}];this._parrableIdConfig=["parrableId",{id:{name:"parrableId",params:{partner:"9fde8b8d-49db-4c9e-b841-0e777ab8d343"}},enabled:ua(this._config,"parrableId")&&ol(["Pacific/Auckland"],[-720]),targetingKey:"par"}];this._sharedIdConfigStorage=["sharedId",{id:{name:"sharedId",storage:{type:"html5",name:this._validateLegacySharedId()?"pbjs-pubcommonid":"_pubcid",expires:60}},enabled:ua(this._config,
"sharedId"),targetingKey:"shl"}];this._sharedIdConfigCookie=["sharedId",{id:{name:"sharedId",storage:{type:"cookie",name:"_pubcid",expires:60},params:this._context.integration&&Aj("adthrive-ads-2.3.0",this._context.plugin)?{create:!1,pixelUrl:this._pixelUrl}:void 0},enabled:ua(this._config,"sharedId"),targetingKey:"shc"}];this._fabrickIdConfig=["fabrickId",{id:{name:"fabrickId",params:{apiKey:"2215608639"},storage:{type:"html5",name:"pbjs_fabrickId",expires:60}},enabled:ua(this._config,"fabrickId")&&
!this._config.gdpr.enabled,targetingKey:"fab"}];this._fTrackIdConfig=["FTrack",{id:{name:"FTrack",params:{url:"https://d9.flashtalking.com/d9core",ids:{"device id":!0,"single device id":!0,"household id":!0}},storage:{type:"html5",name:"FTrackId",expires:60,refreshInSeconds:28800}},enabled:ua(this._config,"FTrack")&&!this._config.gdpr.enabled,targetingKey:"ftr"}];this._33AcrossIdConfig=["33acrossId",{id:{name:"33acrossId",params:{pid:"0013300001i0fyfAAA"},storage:{name:"33acrossId",type:"html5",expires:90,
refreshInSeconds:28800}},enabled:ua(this._config,"33acrossId"),targetingKey:"33a"}];this._liveIntentIdConfig=["liveIntentId",{id:{name:"liveIntentId",params:{distributorId:"did-001w",requestedAttributesOverrides:{uid2:!0,medianet:!0,bidswitch:!0,magnite:!0},emailHash:this._config.user.hash},storage:{name:"pbjs_li_nonid",type:"html5",expires:1,refreshInSeconds:28800}},enabled:ua(this._config,"liveIntentId"),targetingKey:"liid"}];this._piiEventBus.dataCaptured.on(async d=>{a.gdpr.enabled||await this._setUId2ServerCookie(d)});
this.ids=new Map([this._getSharedIdConfig(),this._connectIdConfig,this._unifiedIdConfig,this._unifiedId2Config,this._id5IdConfig,this._identityLinkConfig,this._pairIdConfig,this._criteoIdConfig,this._parrableIdConfig,this._fabrickIdConfig,this._fTrackIdConfig,this._33AcrossIdConfig,this._liveIntentIdConfig])}get sharedIdValue(){return this.getSharedIdValue()}get(a){return this.ids.get(a)}forEach(a){return this.ids.forEach(a)}values(){return this.ids.values()}getSharedIdValue(){let a=Ba("_pubcid"),
b=localStorage.getItem("_pubcid");return a||b}_getSharedIdConfig(){let a=this._sharedIdCookie;this._sharedIdCookie||this._sharedIdLocalNew||this._validateLegacySharedId()||(H.setLocalStorageValue("_pubcid","null",!1),H.setLocalStorageValue("_pubcid_exp","Sun, 20 Nov 2022 18:48:47 GMT",!1));return a?this._sharedIdConfigCookie:this._sharedIdConfigStorage}_validateLegacySharedId(){var a;if(a=this._sharedIdExpLocalLegacy&&this._sharedIdLocalLegacy)a=(new Date(this._sharedIdExpLocalLegacy)).getTime(),
a=!(a?a<(new Date).getTime():1);return a}_getSharedId(){return this._sharedIdCookie?this._sharedIdCookie:this._validateLegacySharedId()?this._sharedIdLocalLegacy:this._sharedIdLocalNew}async _setUId2ServerCookie(a){let b=Ba("__uid2_server_token"),c=`https://ads.adthrive.com/api/v2/uid?format=email_hash&value=${a.hash}`;b||await new Promise((d,e)=>{fetch(c).then(g=>g.json().then(({body:h})=>{let m=new Date;m.setTime(m.getTime()+5184E6);let q=JSON.stringify(h);document.cookie=`__uid2_server_token=${q}; expires=${m.toUTCString()}; path=/; domain=.${location.hostname}`;
d(h.advertising_token)})).catch(g=>{r.error("UserIds","_setUId2ServerCookie",g);e(g)})})}};Oa=l([n("UserIds"),p(),k("design:paramtypes",[y,jb,Wa])],Oa);let Cf=class{constructor(a){this._userIds=a}getStoredIdValue(a){let b;"cookie"===a.type&&window.navigator.cookieEnabled?b=Ba(a.name):"html5"===a.type&&(b=H.getLocalStorageValue(a.name,!1));return b}getSyncedIdModules(a){return[...a].reduce((b,c)=>{void 0!==c.storage&&this.getStoredIdValue(c.storage)&&b.push(c.name);return b},[])}getSyncedPartners(a){return this.getSyncedIdModules(a).map(b=>
{var c;return(null===(c=this._userIds.get(b))||void 0===c?void 0:c.targetingKey)||b})}};Cf=l([n("UserIdTargeting"),t(),k("design:paramtypes",[Oa])],Cf);let Qc=class extends C{constructor(a,b,c,d,e,g){super();this._prebidMethods=a;this.userIdTargeting=b;this._userIds=c;this._gam=d;this._slotEventBus=e;this._idhoExperiment=g;this._enabledUserIds=[];this._ppid=null;this._enabledUserIds=[...c.values()].filter(h=>h.enabled).map(h=>{"sharedId"===h.id.name&&(this._ppid=H.getLocalStorageValue(h.id.storage&&
h.id.storage.name||"",!1))&&(h.id.value={pubcid:this._ppid});return h.id});this._slotEventBus.requestingBids.once(this._setPPID.bind(this));this._slotEventBus.refreshingBids.once(this._setPPID.bind(this))}getTargetingData(){return this.userIdTargeting.getSyncedPartners(this._enabledUserIds)}get enabledUserIds(){return[...this._userIds.values()].map(a=>a.id)}init(){let a={userIds:this._enabledUserIds};this._ppid&&(a={ppid:"pubcid.org",...a});this._prebidMethods.setConfig({userSync:a})}convertToBinary(a){return a.split("").map(b=>
b.charCodeAt(0).toString(2)).join(" ")}_setPPID(){if("id5Id"===this._idhoExperiment.result[0]){var a=this._userIds.sharedIdValue;a?(this._gam.setTargetingFlag("ppid",["sh_id"]),this._prebidMethods.setConfig({ppid:a}),this._gam.setSharedIdAsPPID(a)):this._gam.setTargetingFlag("ppid",["no_sharedIDAvail_noPPIDSet"])}else{a=this._userIds.sharedIdValue;var b=window.localStorage.getItem("id5id");if(!b&&a)this._gam.setTargetingFlag("ppid",["no_id5StorageAvail_sharedIdSent"]),this._prebidMethods.setConfig({ppid:a}),
this._gam.setSharedIdAsPPID(a);else if(b){if((b=JSON.parse(decodeURIComponent(b)).gp)||a){if(!b){this._gam.setTargetingFlag("ppid",["gpid_na_sharedIdSent"]);this._prebidMethods.setConfig({ppid:a});this._gam.setSharedIdAsPPID(a);return}if(!a){this._gam.setTargetingFlag("ppid",["no_sharedIdAvail_gpidSent"]);this._prebidMethods.setConfig({ppid:b});this._gam.setGPIDasPPID(b);return}}else this._gam.setTargetingFlag("ppid",["both_na_noPPIDSet"]);var c=this.convertToBinary(b);"error during binary conversion"===
c?(this._gam.setTargetingFlag("ppid",["errorDuringGPIDBinaryConversion_sharedIdSent"]),this._prebidMethods.setConfig({ppid:a}),this._gam.setSharedIdAsPPID(a)):0===parseInt(c.charAt(c.length-1))%2?(this._gam.setTargetingFlag("ppid",["gpid"]),this._prebidMethods.setConfig({ppid:b}),this._gam.setGPIDasPPID(b)):(this._gam.setTargetingFlag("ppid",["sh_id"]),this._prebidMethods.setConfig({ppid:a}),this._gam.setSharedIdAsPPID(a))}else this._gam.setTargetingFlag("ppid",["no_id5StorageAvail_noSharedIdAvail_noPPIDset"])}}};
Qc=l([n("UserIdComponent"),t(),k("design:paramtypes",[W,Cf,Oa,E,Ha,Ac])],Qc);class Hj{}let Rc=class extends Y{init(){this._key="pba"}run(){return super.run()}};l([N(),k("design:type",Function),k("design:paramtypes",[]),k("design:returntype",void 0)],Rc.prototype,"run",null);Rc=l([n("AnalyticsExperiment"),p()],Rc);let Df=class extends Hj{constructor(a,b,c){super();this._config=a;this._prebidMethods=b;this._analyticsExperiment=c;this.name="roxot"}init(){if(window.localStorage)try{this._prebidMethods.enableAnalytics({provider:"roxot",
options:{publisherIds:["ffcc0e40-07d0-4238-92e4-f711915afb5a"],host:`${this._config.context.bucket}.com`}})}catch(a){r.error("RoxotAnalytics","init - ignored",a)}else r.error("RoxotAnalytics","init",Error("Disabled roxot because localStorage is undefined"))}get enabled(){return"roxot"===this._analyticsExperiment.result}};Df=l([n("RoxotAnalytics"),t(),k("design:paramtypes",[y,W,Rc])],Df);let Ef=class extends Hj{constructor(a,b){super();this._floorsExperiment=a;this._prebidMethods=b;this.name="rubicon"}init(){try{this._prebidMethods.enableAnalytics({provider:this.name,
options:{accountId:9262,endpoint:"https://prebid-a.rubiconproject.com/event"}})}catch(a){r.error("RubiconAnalytics","init - ignored",a)}}get enabled(){return"rubi"===this._floorsExperiment.result}};Ef=l([n("RubiconAnalytics"),t(),k("design:paramtypes",[Fb,W])],Ef);class Il{updateBidParams(a,b){}get enabled(){return!0}get videoEnabled(){return!0}get name(){return this.bidderConfig.bidder_name}_addPositionParam(a,b){a.params.position=b}_addPlacementIdParam(a,b){a.params.placementId=b}_addBidLabel(a,
b){let c=a.labelAny||[];c.includes(b)||(a.labelAny=c.concat(b))}}class X extends Il{getSlotBidRequests(a){}getVideoSlotBidRequests(a){}getBidRequests(a){return a.reduce((b,c)=>{b.set(c.id,this.getSlotBidRequests(c));return b},new Map)}getVideoBidRequests(a){return a.reduce((b,c)=>{b.set(c.name,this.getVideoSlotBidRequests(c));return b},new Map)}}let Ff=class extends X{constructor(a){super();this._config=a;this.bidderConfig=this._config.partners.getBidderConfig(f.ThirtyThreeAcross);this.videoCreativeIds=
[["138395447475",f.ThirtyThreeAcross],["138395937226",f.ThirtyThreeAcross],["138395937256",f.ThirtyThreeAcross],["138395937310",f.ThirtyThreeAcross],["138395937325",f.ThirtyThreeAcross],["138395447241",f.ThirtyThreeAcross],["138395937274",f.ThirtyThreeAcross],["138395937313",f.ThirtyThreeAcross],["138395937319",f.ThirtyThreeAcross],["138395937343",f.ThirtyThreeAcross],["138395937349",f.ThirtyThreeAcross],["138395937304",f.ThirtyThreeAcross],["138395937307",f.ThirtyThreeAcross],["138395937322",f.ThirtyThreeAcross],
["138395937346",f.ThirtyThreeAcross],["138395445846",f.ThirtyThreeAcross]];this._bannerProductId="siab";this._videoProductId="instream";this._bannerMap=new Map([["Below_Post","dqjinO_Lqr6i5uaKkv7mNO"],["Content_1","dzqsVw_Lqr6iHHaKlId8sQ"],["Content_2","dGYL36_Lqr6iHHaKlId8sQ"],["Content_3","dPmBLW_Lqr6ikXaKkGJozW"],["Content_4","dYmdO4_Lqr6ikXaKkGJozW"],["Content_5","d73_q4_Lqr6ikfaKlId8sQ"],["Content_6","aeCNc8_Lur6ikfaKlId8sQ"],["Content_7","amEJ90_Lur6ikXaKkGJozW"],["Content_8","avcDUU_Lur6ikXaKkGJozW"],
["Content_9","aE0F5q_Lur6iHHaKlId8sQ"],["Footer_1","aMbGkS_Lur6ikXaKkGJozW"],["Header_1","aZCnyg_Lur6ikfaKlId8sQ"],["Header_2","a7S6ye_Lur6ikXaKkGJozW"],["Recipe_1","bfXhLW_Lur6ioMaKkGJozW"],["Recipe_2","bmQVLo_Lur6ikfaKlId8sQ"],["Recipe_3","d7kcPCUhur6yo-aKkGJozW"],["Recipe_4","agAjkaUhyr6yo9aKlId8sQ"],["Sidebar_1","buEy3O_Lur6ikfaKlId8sQ"],["Sidebar_2","bCOsqy_Lur6ikfaKlId8sQ"],["Sidebar_3","bOGvrc_Lur6ikXaKkGJozW"],["Sidebar_4","bW-wb0_Lur6ikfaKlId8sQ"],["Sidebar_5","b8nVxi_Lur6ikXaKkGJozW"],["Sidebar_9",
"cggK7W_Lur6ikfaKlId8sQ"]]);this._videoMap=new Map([[x.Video_Collapse_Autoplay_SoundOff,"a_lKMg0Iar7k8brkHcnlxd"],[x.Video_Coll_SOff_Smartphone,"b7sKMM0Iar7ikGrkHcnnVW"],[x.Video_In_Post_ClicktoPlay_SoundOn,"c98www0Iar7ioerkHcnlKl"],[x.Video_Individual_Autoplay_SOff,"bhUZlu0Ier7ioerkHcnlKl"]])}get enabled(){return this._config.partners.display.get(f.ThirtyThreeAcross)}get videoEnabled(){let a=this._config;return a.partners.video.get(f.ThirtyThreeAcross)&&!!a.video.playbackmethod}getSlotBidRequests(a){let b=
this._bannerMap;if(a=b.has(a.placementMapName)&&b.get(a.placementMapName))return[{bidder:this.name,params:{siteId:a,productId:this._bannerProductId}}]}getVideoSlotBidRequests(a){let b=this._videoMap;if(a=b.has(a.name)&&b.get(a.name))return[{bidder:this.name,params:{siteId:a,productId:this._videoProductId}}]}};Ff=l([n("ThirtyThreeAcrossBidder"),t(),k("design:paramtypes",[y])],Ff);let Gf=class extends Y{init(){this._key="ainv"}};Gf=l([n("AdInViewExperiment"),p()],Gf);let rb=class extends K{constructor(a){super();
this.abgroup=a;this._result=!1;this.key="scre";this._choices=[{choice:!0},{choice:!1}];this.weight=.99;this.shouldUseCoreOverride=!1;this._result=(a=(a=(a=window)&&a.adthriveCLS)&&a.experiments)&&this.key in a?a[this.key]:this.run();this.abgroup.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return(new O(this.weight)).get()}};rb=l([n("StickyContainerRecipeExperiment"),p(),k("design:paramtypes",[I])],rb);let V=class{constructor(a,b,c,d,e,g,h,m){this._config=a;this._googleAdManager=
b;this._slots=c;this._eventBus=d;this._marmaladeEventBus=e;this._floors=g;this._adInViewExperiment=h;this._stickyContainerRecipeExperiment=m;this.added=new z;this.cleared=new z;this.displayed=new z;this.displaying=new z;this.refreshed=new z;this.refreshing=new z;this.refreshingBids=new z;this.refreshedBids=new z;this.requestingBids=new z;this.requestedBids=new z;this.refreshInterval=25E3;this._eventBus.displaySlot.on(q=>this.display(q));this.setupSlotRenderedListener()}async add(a){await this._googleAdManager.waitForQueue();
let b=this._googleAdManager.defineSlots(this.castArray(a)),c=this._config.marmalade;if(!c.adViewability.length)this._marmaladeEventBus.resetMarmaladeData.once(()=>{b.forEach(d=>d.setViewability(c))});b.forEach(d=>{d.setViewability(c);d.setHighlyViewable(c);d.setBidPoolId(this._config.prebid.bidPoolSlots);"Recipe"===d.location&&d.sticky&&this._stickyContainerRecipeExperiment.result||this._config.clsOptimizedAds.setStyle(d.element,d.location)});this._eventBus.addSlots.emit(b);this._slots.add(b);await this.added.legacyEmit(b);
return b}async clear(a){a=this.castArray(a);a.forEach(b=>{b.displayed=!1;this.setMinDimensions(b.element)});this._googleAdManager.clearSlots(a);await this.cleared.legacyEmit(a);return a}destroy(a){a=this.castArray(a);this.pauseRefresh(a);this._slots.remove(a);this._googleAdManager.destroySlots(a);return a}destroyAll(){var a=this._slots.get();a=this.destroy(a);this._googleAdManager.reset();return a}rebuild(a){a=this.castArray(a);let b=this._googleAdManager;for(let c of a)E.pushToQueue(()=>{let d="refresh inf_scroll decref nref hvp lazy".split(" ").reduce((e,
g)=>{const h=c.getTargeting(g);h.length&&e.push({key:g,value:h});return e},[]);b.destroySlots(this.castArray(c));b.defineSlots(this.castArray(c));c.setTargeting(d)});return a}rebuildAll(){var a=this._slots.get();a=this.rebuild(a);this._googleAdManager.reset();return a}removeElement(a){a=this.castArray(a);let b=[];for(let c of a)c.element.remove(),b.push(c.element);return b}removeAllElements(){let a=this._slots.get();return this.removeElement(a)}async refresh(a,b=!0){let c=this.castArray(a);for(let d of c)d.refreshCount++,
d.servedPrebidBidResponse=void 0,d.isRefreshing=!0;await this.refreshing.legacyEmit(c);await Promise.all([b?aj(this._config.timeouts.refreshBidsRequest):!0,this.refreshBids(c)]).then(()=>this._googleAdManager.refreshSlots(c));await this.refreshed.legacyEmit(c);for(let d of c)d.isRefreshing=!1;return c}async display(a){let b=this.castArray(a);await this.displaying.legacyEmit(b);await this.requestBids(b).then(()=>this._googleAdManager.displaySlots(b));b.forEach(c=>{c.displayed=!0});await this.displayed.legacyEmit(b);
return b}inView(a){a=this.castArray(a);a.forEach(b=>this.setRefreshTimeout(b));return a}outOfView(a){a=this.castArray(a);a.filter(b=>!b.alwaysInView).filter(b=>"IntersectionObserver"in window?b.outOfViewGPT&&b.outOfViewIO:b.outOfViewGPT).forEach(b=>{let c=b.element.querySelector("div > iframe");Xd(b.element)&&c&&Xd(c)&&this.clearRefreshTimeout(b)});return a}pauseRefresh(a){a=this.castArray(a);a.filter(b=>b.refreshTimeout).forEach(b=>{b.refreshPaused=!0;this.clearRefreshTimeout(b)});return a}resumeRefresh(a){a=
this.castArray(a);a.filter(b=>b.refreshPaused).forEach(b=>{b.refreshPaused=!1;this.setRefreshTimeout(b)});return a}updateRefreshTimeout(a,b){a=this.castArray(a);a.forEach(c=>{c.refreshInterval=b;c.refreshTimeout&&(this.clearRefreshTimeout(c),this.setRefreshTimeout(c))});return a}clearRefreshTimeout(a,b=!1){this.castArray(a).filter(c=>c.refreshTimeout).forEach(c=>{window.clearTimeout(c.refreshTimeout);c.refreshTimeout=void 0;b?(c.viewableDuration=0,c.slotFullyRenderedDuration=0):(c.viewableSince&&
(c.viewableDuration+=Date.now()-c.viewableSince.getTime()),c.slotFullyRenderedSince&&(c.slotFullyRenderedDuration=Date.now()-c.slotFullyRenderedSince.getTime()))})}getSlot(a){return this._slots.get(a)}getAllSlots(){return this._slots.get()}setRefreshTimeout(a){this.castArray(a).filter(b=>!b.refreshTimeout).forEach(b=>{let c=this.calculateRemainingRefreshDuration(b,this.refreshInterval);b.viewableSince=new Date;0!==b.refreshInterval&&(b.refreshTimeout=window.setTimeout(()=>{b.viewableDuration=0;b.slotFullyRenderedDuration=
0;b.refreshInterval=void 0;b.refreshTimeout=void 0;this.refresh(b).catch(d=>{})},Math.max(c,0)))})}calculateRemainingRefreshDuration(a,b=25E3){var c=B(this._adInViewExperiment.result,b);c=B(a.refreshInterval,c);b=Math.max(b-a.slotFullyRenderedDuration,c-a.viewableDuration);return"Video_StickyOutstream"===a.location||"Video_StickyOutstream_1"===a.location?B(a.refreshInterval,this.refreshInterval)-a.viewableDuration:b}delayRequestBids({id:a,lazy:b,location:c},d){return this._floors.handleDelayedBids(c,
a).then(()=>{this._floors.removeDelayedBid(c,a)}).catch(()=>{r.error("SlotManager","delayRequestBids",`BidCycleNonlazyExperiment enabled. Error requesting for slot ${a} (lazy: ${b}) with delay of ${this._config.floors.floorsExperiment.delay}`,`Seconds elapsed since adthrive request: ${Math.floor(Date.now()/1E3-d)}`)})}async requestBids(a){a=this.castArray(a).filter(c=>c.enabledForAuction&&(!c.lazy||this._config.lazyLoad.lzhb));if(0===a.length)return a;let b=this._config.floors;if(b.floorsExperiment.percentile.bidCycleNonlazy&&
b.isBidCycleNonlazySlot(a[0])){let {id:c,lazy:d,location:e}=a[0];await this.delayRequestBids({id:c,lazy:d,location:e},Date.now()/1E3)}await this.requestingBids.legacyEmit(a);await this._eventBus.preRequestBids.legacyEmit(a);await this._eventBus.requestingBids.legacyEmit(a);await this.requestedBids.legacyEmit(a);return a}async refreshBids(a){a=this.castArray(a).filter(b=>b.enabledForAuction);0<a.length&&(await this.refreshingBids.legacyEmit(a),await this._eventBus.preRequestBids.legacyEmit(a),await this._eventBus.refreshingBids.legacyEmit(a),
await this.refreshedBids.legacyEmit(a));return a}castArray(a){return"string"===typeof a?(a=this._slots.get(a),void 0!==a?[a]:[]):Array.isArray(a)?a:[a]}setMinDimensions(a){let b=getComputedStyle(a,null);a.style.minHeight=b.getPropertyValue("height");a.style.minWidth=b.getPropertyValue("width")}setupSlotRenderedListener(){this._googleAdManager.slotRenderEnded.on(a=>{if(a=this._slots.get(a.slot.id))a.slotFullyRenderedSince=new Date})}};V=l([n("SlotManager"),p(),k("design:paramtypes",[y,E,la,Ha,Ga,xa,
Gf,rb])],V);let Pa=class{constructor(a,b,c){this._gam=a;this._pageManager=b;this._spaEventBus=c;this.scroll=new z;this.resize=new z;this.pageVisibility=new z;this.videoPlaying=new z;this.videoSlotRendered=new z;this.footerRefreshed=new z;this.spaListeners=[];this._setupSpaListeners();this.addEventListeners();this._gam.slotResponseReceived.on(({slot:d})=>{"Footer"===d.location&&void this.footerRefreshed.emit()})}_setupSpaListeners(){this._spaEventBus.routeChanged.on(()=>{this.spaListeners.forEach(a=>
a());this.spaListeners.length=0});this._spaEventBus.resetCompleted.on(()=>{this.addEventListeners()})}addEventListeners(){let a=!1,b=!1,c=()=>{a||(a=!0,setTimeout(()=>{void this.scroll.emit();a=!1},100))},d=()=>{b||(b=!0,setTimeout(()=>{void this.resize.emit();b=!1},100))};this.spaListeners.push(this._pageManager.scroll.on(()=>c()));this.spaListeners.push(this._pageManager.resize.on(()=>d()));this.spaListeners.push(this._pageManager.visibilityChange.on(()=>{void this.pageVisibility.emit(document.hidden)}))}emitVideoPlayingEvent(a){this.videoPlaying.emit(a)}emitVideoSlotRenderedEvent(a){this.videoSlotRendered.emit(a)}};
Pa=l([p(),k("design:paramtypes",[E,wa,ka])],Pa);var S;(function(a){a.AD_BREAK_READY="adBreakReady";a.AD_BUFFERING="adBuffering";a.AD_ERROR="adError";a.AD_CAN_PLAY="adCanPlay";a.ADS_MANAGER_LOADED="adsManagerLoaded";a.AD_METADATA="adMetadata";a.AD_PROGRESS="adProgress";a.ALL_ADS_COMPLETED="allAdsCompleted";a.CLICK="click";a.COMPLETE="complete";a.CONTENT_PAUSE_REQUESTED="contentPauseRequested";a.CONTENT_RESUME_REQUESTED="contentResumeRequested";a.DURATION_CHANGE="durationChange";a.EXPANDED_CHANGED=
"expandedChanged";a.FIRST_QUARTILE="firstQuartile";a.IMPRESSION="impression";a.INTERACTION="interaction";a.LINEAR_CHANGED="linearChanged";a.LOADED="loaded";a.LOG="log";a.MIDPOINT="midpoint";a.PAUSED="pause";a.RESUMED="resume";a.SKIPPABLE_STATE_CHANGED="skippableStateChanged";a.SKIPPED="skip";a.STARTED="start";a.THIRD_QUARTILE="thirdQuartile";a.USER_CLOSE="userClose";a.VIDEO_CLICKED="videoClicked";a.VIDEO_ICON_CLICKED="videoIconClicked";a.VIEWABLE_IMPRESSION="viewable_impression";a.VOLUME_CHANGED=
"volumeChange";a.VOLUME_MUTED="mute"})(S||(S={}));var Ij;(function(a){a.AD_LOAD="adLoadError";a.AD_PLAY="adPlayError"})(Ij||(Ij={}));var Jj;(function(a){a[a.ADSLOT_NOT_VISIBLE=-1]="ADSLOT_NOT_VISIBLE";a[a.ADS_REQUEST_NETWORK_ERROR=1012]="ADS_REQUEST_NETWORK_ERROR";a[a.ASSET_FALLBACK_FAILED=1021]="ASSET_FALLBACK_FAILED";a[a.AUTOPLAY_DISALLOWED=1205]="AUTOPLAY_DISALLOWED";a[a.COMPANION_AD_LOADING_FAILED=-1]="COMPANION_AD_LOADING_FAILED";a[a.COMPANION_REQUIRED_ERROR=602]="COMPANION_REQUIRED_ERROR";a[a.CONSENT_MANAGEMENT_PROVIDER_NOT_READY=
1300]="CONSENT_MANAGEMENT_PROVIDER_NOT_READY";a[a.DEPRECATED_ERROR_CODE=-1]="DEPRECATED_ERROR_CODE";a[a.FAILED_TO_REQUEST_ADS=1005]="FAILED_TO_REQUEST_ADS";a[a.INVALID_AD_TAG=1013]="INVALID_AD_TAG";a[a.INVALID_ARGUMENTS=1101]="INVALID_ARGUMENTS";a[a.NATIVE_MESSAGE_ERROR=1204]="NATIVE_MESSAGE_ERROR";a[a.NONLINEAR_DIMENSIONS_ERROR=501]="NONLINEAR_DIMENSIONS_ERROR";a[a.OVERLAY_AD_LOADING_FAILED=-1]="OVERLAY_AD_LOADING_FAILED";a[a.OVERLAY_AD_PLAYING_FAILED=500]="OVERLAY_AD_PLAYING_FAILED";a[a.Rh=2002]=
"Rh";a[a.STREAM_INITIALIZATION_FAILED=1020]="STREAM_INITIALIZATION_FAILED";a[a.UNKNOWN_AD_RESPONSE=1010]="UNKNOWN_AD_RESPONSE";a[a.UNKNOWN_ERROR=900]="UNKNOWN_ERROR";a[a.UNSUPPORTED_LOCALE=1011]="UNSUPPORTED_LOCALE";a[a.VAST_ASSET_NOT_FOUND=1007]="VAST_ASSET_NOT_FOUND";a[a.VAST_EMPTY_RESPONSE=1009]="VAST_EMPTY_RESPONSE";a[a.VAST_LINEAR_ASSET_MISMATCH=403]="VAST_LINEAR_ASSET_MISMATCH";a[a.VAST_LOAD_TIMEOUT=301]="VAST_LOAD_TIMEOUT";a[a.VAST_MALFORMED_RESPONSE=-1]="VAST_MALFORMED_RESPONSE";a[a.VAST_MEDIA_ERROR=
-1]="VAST_MEDIA_ERROR";a[a.VAST_MEDIA_LOAD_TIMEOUT=402]="VAST_MEDIA_LOAD_TIMEOUT";a[a.VAST_NONLINEAR_ASSET_MISMATCH=503]="VAST_NONLINEAR_ASSET_MISMATCH";a[a.VAST_NO_ADS_AFTER_WRAPPER=303]="VAST_NO_ADS_AFTER_WRAPPER";a[a.VAST_PROBLEM_DISPLAYING_MEDIA_FILE=405]="VAST_PROBLEM_DISPLAYING_MEDIA_FILE";a[a.VAST_SCHEMA_VALIDATION_ERROR=101]="VAST_SCHEMA_VALIDATION_ERROR";a[a.VAST_TOO_MANY_REDIRECTS=302]="VAST_TOO_MANY_REDIRECTS";a[a.VAST_TRAFFICKING_ERROR=200]="VAST_TRAFFICKING_ERROR";a[a.VAST_UNEXPECTED_DURATION_ERROR=
202]="VAST_UNEXPECTED_DURATION_ERROR";a[a.VAST_UNEXPECTED_LINEARITY=201]="VAST_UNEXPECTED_LINEARITY";a[a.VAST_UNSUPPORTED_VERSION=102]="VAST_UNSUPPORTED_VERSION";a[a.VAST_WRAPPER_ERROR=300]="VAST_WRAPPER_ERROR";a[a.VIDEO_ELEMENT_REQUIRED=-1]="VIDEO_ELEMENT_REQUIRED";a[a.VIDEO_ELEMENT_USED=-1]="VIDEO_ELEMENT_USED";a[a.VIDEO_PLAY_ERROR=400]="VIDEO_PLAY_ERROR";a[a.VPAID_ERROR=901]="VPAID_ERROR"})(Jj||(Jj={}));class Jl extends C{constructor(a,b,c,d,e,g,h,m,q){super();this._playerId=a;this._playlistId=
b;this._playerType=c;this._pageElement=d;this._eventProxy=e;this._size=g;this._autoplay=h;this._vastLoadTimeout=m;this._maxRedirect=q;this.state="idle";this.adClick=new z;this.adError=new z;this.adCompleted=new z;this.adFirstQuartile=new z;this.adImpression=new z;this.adLoaded=new z;this.adMidpoint=new z;this.adRequest=new z;this.adPause=new z;this.adPlay=new z;this.adSkipped=new z;this.adStarted=new z;this.adThirdQuartile=new z;this.adTime=new z;this.adViewableImpression=new z;this.allAdsCompleted=
new z;this.contentPauseRequested=new z;this.contentResumeRequested=new z;this.error=new z;this.firstFrame=new z;this.fullscreen=new z;this.mute=new z;this.loaded=new z;this.pause=new z;this.play=new z;this.ready=new z;this.setupError=new z;this.time=new z;this.volume=new z;this._adContainer=document.createElement("DIV");this._container=document.createElement("DIV");this._videoElement=document.createElement("VIDEO");this._imaLibraryEnpoint="https://imasdk.googleapis.com/js/sdkloader/ima3.js";this._muted=
!0;this._userPaused=!1}async init(){await this._importIMAScript();(this._ima=window.google&&window.google.ima)?(this._injectPlayer(),this.ready.emit()):r.error("VideoPlayer","init",this._playerType,"Failed to initialize player. IMA is not defined.")}playAd(a){let b=this._adsLoader,c=this._adsRequest,d=this._size,{adResponse:e,adTagUrl:g}=a;c.linearAdSlotWidth=d[0];c.linearAdSlotHeight=d[1];c.nonLinearAdSlotWidth=d[0];c.nonLinearAdSlotHeight=d[1];e&&(c.adsResponse=e);g&&(c.adTagUrl=g);b.addEventListener(S.ADS_MANAGER_LOADED,
this._adsManagerLoaded.bind(this),!1);b.addEventListener(S.AD_ERROR,this._adError.bind(this),!1);b.requestAds(c)}_adComplete(a){a=this._getAdRenderDetails(a);this.adCompleted.emit(a)}_adError(a){a=a&&a.error&&a.error.data;this.adError.emit(a?{code:a.errorCode,message:a.errorMessage,type:a.type}:{})}_adImpression(a){a=this._getAdRenderDetails(a);this.adImpression.emit(a)}_adLoaded(a){this._enablePlayerAdControls();a=this._getAdRenderDetails(a);this.adLoaded.emit(a)}_adStarted(a){a=this._getAdRenderDetails(a);
this.adStarted.emit(a);this.state="playing";this._container.classList.remove("adthrive-player-idle");this._container.classList.add("adthrive-player-playing")}_allAdsComplete(a){a=this._getAdRenderDetails(a);this.allAdsCompleted.emit(a)}_click(a){a=this._getAdRenderDetails(a);this.adClick.emit(a)}_contentPauseRequested(a){a=this._getAdRenderDetails(a);this.contentPauseRequested.emit(a)}_contentResumeRequested(a){a=this._getAdRenderDetails(a);this.contentResumeRequested.emit(a)}_firstQuartile(a){a=
this._getAdRenderDetails(a);this.adFirstQuartile.emit(a)}handlePageVisibilityChange(a){"playing"===this.state&&a?this._pauseAd():"paused"!==this.state||a||this._userPaused||this._playAd()}_midpoint(a){a=this._getAdRenderDetails(a);this.adMidpoint.emit(a)}_paused(a){a=this._getAdRenderDetails(a);this.adPause.emit(a);this.state="paused";let b=(a=document.getElementById(`adthrive-player-icon-pause-${this._playerId}`))&&a.previousSibling;a&&this._toggleClass(a,"adthrive-player-icon-hidden");b&&this._toggleClass(b,
"adthrive-player-icon-hidden")}_resumed(a){a=this._getAdRenderDetails(a);this.adPlay.emit(a);this.state="playing";this._userPaused=!1;let b=(a=document.getElementById(`adthrive-player-icon-play-${this._playerId}`))&&a.nextSibling;b&&this._toggleClass(b,"adthrive-player-icon-hidden");a&&this._toggleClass(a,"adthrive-player-icon-hidden")}_thirdQuartile(a){a=this._getAdRenderDetails(a);this.adThirdQuartile.emit(a)}_pauseAd(a){a&&(this._userPaused=!0);"paused"!==this.state&&this._adsManager.pause()}_playAd(){"playing"!==
this.state&&this._adsManager.resume()}_remove(){this._removeAdsManagerEvents();this._removePlayer();this._muted=!0;this.state="idle";this._adDisplayContainer&&this._adDisplayContainer.destroy();this._adsLoader&&this._adsLoader.destroy();this._adsManager&&this._adsManager.destroy()}_toggleClass(a,b){b=this._castArray(b);b.forEach(c=>{a.classList.contains(c)?a.classList.remove(c):a.classList.add(c)})}_volume(a){a=this._getAdRenderDetails(a);this.volume.emit(a)}_adsManagerLoaded(a){let b=this._ima;var c=
new b.AdsRenderingSettings;c.restoreCustomPlaybackStateOnAdBreakComplete=!0;c.loadVideoTimeout=this._vastLoadTimeout;a=this._adsManager=a.getAdsManager(this._videoElement,c);c=this._size;this._setAdsManagerEvents();try{a.init(c[0],c[1],b.ViewMode.NORMAL),a.start()}catch(d){r.error("VideoPlayer","_adsManagerLoaded",this._playerType,d)}}_castArray(a){return Array.isArray(a)?a:[a]}_createPauseButton(){let a=document.createElement("DIV");a.classList.add("adthrive-player-icon","adthrive-player-icon-pause");
a.id=`adthrive-player-icon-pause-${this._playerId}`;let b=this._createSvg("white",!1);b.appendChild(this._createRect("white","5","18","2.29"));b.appendChild(this._createRect("white","5","18","10.71"));a.addEventListener("click",this._pauseAd.bind(this));a.appendChild(b);return a}_createPlayButton(){let a=document.createElement("DIV");a.classList.add("adthrive-player-icon","adthrive-player-icon-play","adthrive-player-icon-hidden");a.id=`adthrive-player-icon-play-${this._playerId}`;let b=this._createSvg("white",
!1);b.appendChild(this._createPolygon("white","2.29,0 2.29,18 15.71,9"));a.addEventListener("click",this._playAd.bind(this));a.appendChild(b);return a}_createPath(a,b){let c=document.createElementNS("http://www.w3.org/2000/svg","path");c.setAttribute("d",b);c.setAttribute("fill",a);return c}_createPolygon(a,b){let c=document.createElementNS("http://www.w3.org/2000/svg","polygon");c.setAttribute("points",b);c.setAttribute("fill",a);return c}_createRect(a,b,c,d,e,g){let h=document.createElementNS("http://www.w3.org/2000/svg",
"rect");h.setAttribute("x",d);h.setAttribute("height",c);h.setAttribute("width",b);h.setAttribute("fill",a);e&&h.setAttribute("y",e);g&&h.setAttribute("transform",g);return h}_createSvg(a,b){let c=document.createElementNS("http://www.w3.org/2000/svg","svg");c.setAttribute("focusable",`${b}`);c.setAttribute("width","18");c.setAttribute("height","18");c.setAttribute("viewBox","0 0 18 18");c.setAttribute("fill",a);return c}_createVolumeSlider(){let a=document.createElement("DIV");a.className="adthrive-player-volume-control adthrive-player-icon-hidden";
let b=document.createElement("INPUT");b.setAttribute("type","range");b.setAttribute("min","0");b.setAttribute("max","100");b.setAttribute("step","1");b.addEventListener("input",this._volumeChange.bind(this),!1);a.appendChild(b);return a}_createVolumeMutedButton(){let a=document.createElement("DIV");a.classList.add("adthrive-player-icon","adthrive-player-icon-volume-muted");let b=this._createSvg("white",!1);b.appendChild(this._createPath("white","M16.45,9.02c0,1.64-0.57,2.97-1.33,4.03l1.2,1.15C17.29,12.94,18,11.26,18,9.04c0-6.95-6.96-8.7-6.96-8.7v1.32C11.04,1.66,16.45,3.96,16.45,9.02z"));
b.appendChild(this._createPath("white","M13.27,14.94c-1.18,0.91-2.23,1.33-2.23,1.33v1.44c0,0,1.68-0.42,3.39-1.67L13.27,14.94z"));b.appendChild(this._createRect("white","1.71","22.61","8.15","-2.28","matrix(0.6917 -0.7222 0.7222 0.6917 -3.7421 9.2833)"));b.appendChild(this._createPath("white","M12.98,11c0.31-0.55,0.52-1.2,0.52-1.98c0-2.95-2.99-4.24-2.99-4.24v3.86L12.98,11z"));b.appendChild(this._createPath("white","M10.52,12.3v0.86c0,0,0.24-0.1,0.58-0.3L10.52,12.3z"));b.appendChild(this._createPolygon("white",
"9.21,7.4 9.24,0.74 5.82,4.15"));b.appendChild(this._createPolygon("white","3.69,5.77 0.06,5.77 0,12.07 4.14,12.07 9.18,17.11 9.2,11.04"));a.addEventListener("click",this._toggleVolume.bind(this));a.appendChild(b);return a}_createVolumeUnMutedButton(){let a=document.createElement("DIV");a.classList.add("adthrive-player-icon","adthrive-player-icon-volume-unmuted","adthrive-player-icon-hidden");let b=this._createSvg("white",!1);b.appendChild(this._createPolygon("white","9.18,17.11 4.14,12.07 0,12.07 0.06,5.77 4.2,5.77 9.24,0.74"));
b.appendChild(this._createPath("white","M11.04,0.34c0,0,6.96,1.75,6.96,8.7s-6.96,8.67-6.96,8.67v-1.44c0,0,5.42-2.18,5.42-7.25s-5.42-7.37-5.42-7.37V0.34z"));b.appendChild(this._createPath("white","M10.52,4.79c0,0,2.99,1.28,2.99,4.24s-2.99,4.14-2.99,4.14V4.79z"));a.addEventListener("click",this._toggleVolume.bind(this));a.appendChild(b);return a}_enablePlayerAdControls(){let a=document.createElement("DIV");a.className="adthrive-player-ad-controls";let b=document.createElement("DIV");b.className="adthrive-player-ad-controls-play";
let c=document.createElement("DIV");c.className="adthrive-player-ad-controls-volume";c.addEventListener("mouseenter",this._toggleVolumeControl.bind(this));c.addEventListener("mouseleave",this._toggleVolumeControl.bind(this));let d=this._createPlayButton(),e=this._createPauseButton(),g=this._createVolumeMutedButton(),h=this._createVolumeUnMutedButton(),m=this._createVolumeSlider();b.appendChild(d);b.appendChild(e);c.appendChild(g);c.appendChild(h);c.appendChild(m);a.appendChild(b);a.appendChild(c);
this._adContainer.appendChild(a);this._visibilityListener=this._eventProxy.pageVisibility.on(this.handlePageVisibilityChange.bind(this))}_importIMAScript(){return window.google&&window.google.ima?new Promise(a=>{a(!0)}):va(this._imaLibraryEnpoint,!1,!1,!0)}_injectPlayer(){var a=this._container;let b=this._videoElement,c=this._adContainer;var d=this._ima;let e=this._playerType,g=this._size,h=this._videoContentSource;"outstream"!==e&&"stickyoutstream"!==e||this._pageElement.classList.add("adthrive-video-stickyoutstream-new-player");
a.className=`adthrive-${e}-container adthrive-player-idle`;a.style.width=`${g[0]}px`;a.style.height=`${g[1]}px`;a.id=`adthrive-${e}`;c.id=`adthrive-${e}-ad-container`;c.className="adthrive-player-ad-container";c.style.width=`${g[0]}px`;c.style.height=`${g[1]}px`;b.style.width=`${g[0]}px`;b.style.height=`${g[1]}px`;h&&(b.src=h);a.appendChild(b);a.appendChild(c);this._pageElement.appendChild(a);a=this._adDisplayContainer=new d.AdDisplayContainer(c,b);a.initialize();b.load();a=(this._adsLoader=new d.AdsLoader(a)).getSettings();
a.setNumRedirects(this._maxRedirect);a.setVpaidMode(d.ImaSdkSettings.VpaidMode.ENABLED);a.setVpaidMode(d.ImaSdkSettings.VpaidMode.INSECURE);d=this._adsRequest=new d.AdsRequest;this._autoplay&&(b.volume=0,b.muted=!0,d.setAdWillAutoPlay(!0),d.setAdWillPlayMuted(!0))}_getAdRenderDetails(a){var b=this._adsRequest;let c=b.adTagUrl;b=b.adsResponse;if(a&&a.getAd){var d=a.getAd();var e=Object.keys(d)||[];d=d&&e.length&&d[e[0]]}e=a&&Object.keys(a)||[];d=d||e.reduce((g,h)=>{a[h]&&"object"===typeof a[h]&&!Array.isArray(a[h])&&
(g=Object.keys(a[h]),g&&g.length&&a[h][g[0]])},{});return{ad:d,userRequestContext:{...(c&&{adTagUrl:c}),...(b&&{vastXml:b})}}}_removeAdsManagerEvents(){let a=this._adsLoader,b=this._adsManager;a&&(a.removeEventListener(S.ADS_MANAGER_LOADED,this._adsManagerLoaded.bind(this),!1),a.removeEventListener(S.AD_ERROR,this._adError.bind(this),!1));b&&(b.removeEventListener(S.AD_ERROR,this._adError.bind(this)),b.removeEventListener(S.ALL_ADS_COMPLETED,this._allAdsComplete.bind(this)),b.removeEventListener(S.CLICK,
this._click.bind(this)),b.removeEventListener(S.COMPLETE,this._adComplete.bind(this)),b.removeEventListener(S.CONTENT_PAUSE_REQUESTED,this._contentPauseRequested.bind(this)),b.removeEventListener(S.CONTENT_RESUME_REQUESTED,this._contentResumeRequested.bind(this)),b.removeEventListener(S.FIRST_QUARTILE,this._firstQuartile.bind(this)),b.removeEventListener(S.IMPRESSION,this._adImpression.bind(this)),b.removeEventListener(S.LOADED,this._adLoaded.bind(this)),b.removeEventListener(S.MIDPOINT,this._midpoint.bind(this)),
b.removeEventListener(S.PAUSED,this._paused.bind(this)),b.removeEventListener(S.RESUMED,this._resumed.bind(this)),b.removeEventListener(S.STARTED,this._adStarted.bind(this)),b.removeEventListener(S.THIRD_QUARTILE,this._thirdQuartile.bind(this)),b.removeEventListener(S.VOLUME_CHANGED,this._volume.bind(this)));this._visibilityListener&&this._visibilityListener()}_removePlayer(){let a=this._container;a&&a.parentElement&&a.parentElement.removeChild(a)}_setAdsManagerEvents(){let a=this._adsManager;a.addEventListener(S.AD_ERROR,
this._adError.bind(this));a.addEventListener(S.ALL_ADS_COMPLETED,this._allAdsComplete.bind(this));a.addEventListener(S.CLICK,this._click.bind(this));a.addEventListener(S.COMPLETE,this._adComplete.bind(this));a.addEventListener(S.CONTENT_PAUSE_REQUESTED,this._contentPauseRequested.bind(this));a.addEventListener(S.CONTENT_RESUME_REQUESTED,this._contentResumeRequested.bind(this));a.addEventListener(S.FIRST_QUARTILE,this._firstQuartile.bind(this));a.addEventListener(S.IMPRESSION,this._adImpression.bind(this));
a.addEventListener(S.LOADED,this._adLoaded.bind(this));a.addEventListener(S.MIDPOINT,this._midpoint.bind(this));a.addEventListener(S.PAUSED,this._paused.bind(this));a.addEventListener(S.RESUMED,this._resumed.bind(this));a.addEventListener(S.STARTED,this._adStarted.bind(this));a.addEventListener(S.THIRD_QUARTILE,this._thirdQuartile.bind(this));a.addEventListener(S.VOLUME_CHANGED,this._volume.bind(this))}_toggleVolume(a){a=a.target;let b=a.nextElementSibling,c=a.previousElementSibling,d=this._adsManager,
e=this._toggleClass.bind(this);this._muted?(d.setVolume(.5),this._muted=!1,a&&b&&(e(a,"adthrive-player-icon-hidden"),e(b,"adthrive-player-icon-hidden"))):(d.setVolume(0),this._muted=!0,a&&c&&(e(a,"adthrive-player-icon-hidden"),e(c,"adthrive-player-icon-hidden")))}_toggleVolumeControl(a){(a=(a=a.target)&&a.lastElementChild)&&this._toggleClass(a,"adthrive-player-icon-hidden")}trimEventData(a){var b,c;a={...a};let d=a.ima&&a.ima.ad;(null===a||void 0===a?0:a.tag)&&delete a.tag;d&&d.traffickingParameters&&
delete d.traffickingParameters;(null===(c=null===(b=null===a||void 0===a?void 0:a.ima)||void 0===b?void 0:b.userRequestContext)||void 0===c?0:c.adTagUrl)&&delete a.ima.userRequestContext.adTagUrl;(null===a||void 0===a?0:a.mediaFile)&&delete a.mediaFile;return a}_volumeChange(a){if(a=a.target){if(this._muted){let b=this._toggleClass.bind(this),c=a&&a.parentElement,d=c&&c.previousElementSibling,e=d&&d.previousElementSibling;if(!c||!d||!e)return;b(d,"adthrive-player-icon-hidden");b(e,"adthrive-player-icon-hidden");
this._muted=!1}this._adsManager.setVolume(Number(a.value)/100)}}}class Kl extends Jl{constructor(a,b,c,d,e,g,h,m,q,w,u){super(a,b,c,d,e,g,h,m,q);this.adId=w;this._slotManager=u;this.adPlaying=!1;this._slotManager.refreshing.on(this._handleRefresh.bind(this));this.ready.on(this._handleReady.bind(this));this.adStarted.on(this._handleAdStart.bind(this));this.allAdsCompleted.on(this._handleAdErrorOrComplete.bind(this));this.adError.on(this._handleAdErrorOrComplete.bind(this))}_handleReady(){this.adPlaying=
!1;let a=document.getElementsByClassName("adthrive-sticky-outstream-idle")[0],b=document.getElementsByClassName("adthrive-sticky-outstream-active")[0];a?a.classList.add("adthrive-new-outstream-player"):b&&this._toggleActive()}_handleAdStart(){this.adPlaying=!0;this._toggleActive()}_handleRefresh(a){a=a[0];this.adPlaying&&a&&"Video_StickyOutstream"===a.location&&(this.adPlaying=!1,this._toggleActive(),this._remove())}_handleAdErrorOrComplete(){this.adPlaying=!1;this._toggleActive();this._remove()}_toggleActive(){let a=
document.getElementsByClassName("adthrive-new-outstream-player")[0];a&&(this._toggleClass(a,"adthrive-sticky-outstream-active"),this._toggleClass(a,"adthrive-sticky-outstream-idle"))}}let Sc=class{constructor(a,b,c){this._config=a;this._slotManager=b;this._videoEventProxy=c;this._sharedConfig={context:"outstream",mimes:["video/mp4","application/javascript"],api:[2],skip:0,pos:1,protocols:[2,3,5,6,7,8],linearity:1,minduration:0,maxduration:this._config.video.maxDuration,playbackmethod:[2],plcmt:4};
this._forcedRefreshLimit=3;this._imaEndpoint="https://imasdk.googleapis.com/js/sdkloader/ima3.js";this._rendererConfig={renderer:{url:this._imaEndpoint,render:g=>{this._renderer(g)}}};this._offEvents=[];let {desktop:d,tablet:e}=this._config.site.breakpoints;this._stickyOutstreamSize="phone"===pc(e,d)?[178,100]:[227,150]}callRendererWithUrl(a,b,c=!1){this._callRenderAd({adTagUrl:a},b,c?"stickyoutstream":"outstream",c?this._stickyOutstreamSize:[300,225])}get standardOutstreamConfig(){let a={...this._rendererConfig},
b=this._config.video.outstreamPlacement;a.renderer.backupOnly=!0;return{playerSize:[640,480],...(b&&{placement:b}),...this._sharedConfig,...a}}get stickyOutstreamConfig(){return{...this._sharedConfig,...this._rendererConfig,startdelay:0,placement:5,playerSize:this._stickyOutstreamSize}}_callRenderer(a,b,c,d=!1){let e=this._slotManager.getSlot(a),g=d?"stickyoutstream":"outstream";e&&d&&(e.stickyOutstreamErrorLogged=!1,e.stickyOutstreamRenderedTimestamp=Date.now());this._callRenderAd(b,a,g,c)}_callRenderAd(a,
b,c,d){let e=document.getElementById(b);if(e){let g=this._config.video;b=new Kl(Math.floor(1E8*Math.random()).toString(),"",c,e,this._videoEventProxy,d,!0,g.vastTimeout,g.maxRedirect,b,this._slotManager);this._setPlayerEvents(b,a);b.init()}}_handleComplete(a){a.includes("StickyOutstream")&&(this._handleOffEvent(),this._setSlotForceRefresh(a))}_handleErrorEvent(a,b){this._handleOffEvent();a.includes("StickyOutstream")&&(r.error("StickyOutstream","adError",{adId:a,...b}),this._setSlotForceRefresh(a,
!0))}_handleOffEvent(){this._offEvents=this._offEvents.filter(a=>{a();return!1})}_renderer(a){let b=a.ad||a.vastXml,c=-1!==a.adUnitCode.indexOf("StickyOutstream");this._callRenderer(a.adUnitCode,b?{adResponse:b}:{adTagUrl:a.vastUrl},c?this._stickyOutstreamSize:[300,225],c)}_setPlayerEvents(a,b){let c=this._offEvents;c.push(a.adError.on(d=>this._handleErrorEvent(a.adId,d)));c.push(a.adCompleted.on(()=>this._handleComplete(a.adId)));c.push(a.ready.on(()=>a.playAd(b)))}_setSlotForceRefresh(a,b=!1){let c=
this._slotManager,d=c.getSlot(a),e=!b;if(d){var g=Date.now(),h=d.stickyOutstreamRenderedTimestamp;g=h&&g-h||0;b&&"number"===typeof d.stickyOutstreamErrorCount&&d.stickyOutstreamErrorCount<this._forcedRefreshLimit&&a.includes("StickyOutstream")?(d.stickyOutstreamErrorCount++,e=!0):d.stickyOutstreamErrorCount=0;e&&25E3>g&&c.updateRefreshTimeout(d,1001)}}};Sc=l([t(),k("design:paramtypes",[y,V,Pa])],Sc);let Hf=class extends K{constructor(a,b,c){super();this._result=!1;this.key="rmosnv1";this._choices=
[{choice:!0},{choice:!1}];this.weight=.01;c=c.getCoreExperimentButMutateWeights(this.key);!b.video.hasJwPlayer&&c&&(this.weight=c.variants[0].weight,this._result=this.run(),a.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return(new O(this.weight)).get()}};Hf=l([n("OneVideoStreamNoVideoExperiment"),p(),k("design:paramtypes",[I,y,aa])],Hf);let If=class extends K{constructor(a,b){super();this._result=!1;this.key="rmos1";this._choices=[{choice:!0},{choice:!1}];this.weight=
.01;if(b=b.getCoreExperimentButMutateWeights(this.key))this.weight=b.variants[0].weight,this._result=this.run(),a.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return(new O(this.weight)).get()}};If=l([n("OneVideoStreamExperiment"),p(),k("design:paramtypes",[I,aa])],If);let Jf=class extends Y{init(){this._key="socon"}};Jf=l([n("OutstreamSOCONExperiment"),p()],Jf);let za=class{constructor(a,b,c,d,e){this._config=a;this._gam=b;this._outstream=c;this._oneVideoStreamExperiment=
d;this._soconExperiment=e;this._standardOutstreamSlots=["Content_1","Below_Post"];this.oneStreamExpResult=!1}runOneStreamExperiment(){let a=F.resolve(Hf);this._gam.setTargeting({key:"abgroup",value:this._config.abGroup.groups.join(",")});(this.oneStreamExpResult=a.result)&&["Content_3","Content_5","Recipe_1"].forEach(b=>{this._standardOutstreamSlots.push(b)})}isOutstreamAllowed(){return!this._oneVideoStreamExperiment.result||!this._config.video.hasJwPlayer}isSlowConnection(){var a;let b=null!==(a=
this._soconExperiment.result)&&void 0!==a?a:0;return void 0!==this._config.context.downlink?this._config.context.downlink<=b:!1}outstreamEnabled(a){var b=a.viewability;let c="Video_StickyOutstream"===a.location;b=1<=a.refreshCount||.5<=b||c;let d=!c&&this.isSlowConnection();a=(this._config.adTypes.outstreamEnabled||c)&&this.outstreamSlots.has(a.placementMapName)&&this.isOutstreamAllowed()&&!d;return{outstreamCapable:a,currentlyActive:a&&b}}getMediaType(a){let b={},{slot:c,video:d}=a;d&&this._config.video.instreamAdUnits.has(d.name)&&
this._config.video.plcmtUnits.has(d.name)&&(a=this.getInstreamConfig(d),b.video=a);c&&(a={sizes:c.sizes,...(c.isHighlyViewable()&&{pos:1})},"Video_StickyOutstream"!==c.location&&(b.banner=a),this.outstreamEnabled(c).currentlyActive&&(b.video="Video_StickyOutstream"!==c.location?this._outstream.standardOutstreamConfig:this._outstream.stickyOutstreamConfig));return b}get outstreamSlots(){return new Set(this.getOutstreamEnabledUnits())}getOutstreamEnabledUnits(){return this._config.video.hasStickyOutstream?
["Video_StickyOutstream_1"]:this._standardOutstreamSlots}getInstreamConfig(a){var b,c;return{context:"instream",playerSize:a.size,mimes:this._config.video.mimeType,protocols:this._config.video.videoProtocols.protocols,...((null===(b=this._config.video.plcmtUnits)||void 0===b?void 0:b.get(a.name))&&{plcmt:this._config.video.plcmtUnits.get(a.name)}),maxduration:this._config.video.maxDuration,...((null===(c=this._config.video.playbackmethod)||void 0===c?void 0:c.get(a.name))&&{playbackmethod:this._config.video.playbackmethod.get(a.name)}),
...(a.collapsible&&{playbackend:3}),linearity:1,api:this._config.video.apiValue,w:a.size[0],h:a.size[1],pos:this._config.video.position.id,minduration:1,startdelay:0,placement:1,skip:0}}};za=l([p(),k("design:paramtypes",[y,E,Sc,If,Jf])],za);let Kf=class extends X{constructor(a,b){super();this._config=a;this._mediaType=b;this.bidderConfig=this._config.partners.getBidderConfig(f.AppNexus);this.videoCreativeIds=[["138323232312",f.AppNexus],["138323908966",f.AppNexus],["138323900998",f.AppNexus],["138323900548",
f.AppNexus],["138323457386",f.AppNexus],["138323908963",f.AppNexus],["138323908960",f.AppNexus],["138323901004",f.AppNexus],["138323901001",f.AppNexus],["138323521089",f.AppNexus],["138323457473",f.AppNexus],["138323908969",f.AppNexus],["138323908957",f.AppNexus],["138323908954",f.AppNexus],["138323900995",f.AppNexus],["138323521092",f.AppNexus]];this._keywords={keywords:{...(this._config.site.filteredSensitiveCategories.length&&{sens:this._config.site.filteredSensitiveCategories}),bucket:[this._config.context.bucket],
Chrome:`${Ua()}`,Mobile:(!!(navigator.userAgent&&-1<navigator.userAgent.search(/Mobi/i))).toString(),...(this._config.site.verticals.length&&{verticals:this._config.site.verticals})}};this.outstreamType=Q()?"outstreamMobile":"outstreamDesktop";this._map=new Map([["Below_Post",[{placementId:13036386}]],["Content_1",[{placementId:13036388},{placementId:16808429,adType:this.outstreamType,playback_method:["auto_play_sound_off"]}]],["Content_2",[{placementId:13036389}]],["Content_3",[{placementId:13036391}]],
["Content_4",[{placementId:13036393}]],["Content_5",[{placementId:13036394}]],["Content_6",[{placementId:13036396}]],["Content_7",[{placementId:13036398}]],["Content_8",[{placementId:13036399}]],["Content_9",[{placementId:13036400}]],["Footer_1",[{placementId:13036401}]],["Header_1",[{placementId:13036404}]],["Header_2",[{placementId:13036405}]],["Interstitial_1",[{placementId:21240886}]],["Recipe_1",[{placementId:13036406}]],["Recipe_2",[{placementId:13036407}]],["Recipe_3",[{placementId:15014787}]],
["Recipe_4",[{placementId:15998791}]],["Sidebar_1",[{placementId:13036408}]],["Sidebar_2",[{placementId:13036409}]],["Sidebar_3",[{placementId:13036410}]],["Sidebar_4",[{placementId:13036411}]],["Sidebar_5",[{placementId:13036412}]],["Sidebar_9",[{placementId:13036416}]],["Video_StickyOutstream_1",[{placementId:22366045}]],[x.Video_Collapse_Autoplay_SoundOff,[{placementId:15504193,playback_method:["auto_play_sound_off"]}]],[x.Video_Coll_SOff_Smartphone,[{placementId:15504209,playback_method:["auto_play_sound_off"]}]],
[x.Video_In_Post_ClicktoPlay_SoundOn,[{placementId:15504166,playback_method:["click_to_play"]}]],[x.Video_Individual_Autoplay_SOff,[{placementId:17947919,playback_method:["auto_play_sound_off"]}]]]);this._playbackmethodMap=new Map([[3,"click_to_play"],[6,"auto_play_sound_off"]])}get enabled(){return this._config.partners.display.get(f.AppNexus)}get videoEnabled(){return this._config.partners.video.get(f.AppNexus)}getSlotBidRequests(a){if(this._map.has(a.placementMapName))return this._map.get(a.placementMapName).filter(({adType:b})=>
!b||this._config.adTypes.has(b)).map(({adType:b,placementId:c,playback_method:d})=>{d=b===this.outstreamType?{video:{playback_method:d}}:"";b=b===this.outstreamType&&!this._mediaType.outstreamEnabled(a).currentlyActive;return{bidder:this.name,...(b?{labelAny:["refresh"]}:{}),params:{...this._keywords,allowSmallerSizes:this._config.adOptions.allowSmallerAdSizes,placementId:c,...d,...(a.isHighlyViewable()&&{position:"above"})}}})}getVideoSlotBidRequests(a){var b;if(this._map.has(a.name))return[{bidder:this.name,
params:{...this._keywords,placementId:this._map.get(a.name)[0].placementId,position:this._config.video.position.name,video:{mimes:this._config.video.mimeType,...((null===(b=this._config.video.playbackmethod)||void 0===b?void 0:b.get(a.name))&&{playback_method:this._playbackmethodMap.get(this._config.video.playbackmethod.get(a.name)[0])}),frameworks:this._config.video.apiValue}}}]}updateBidParams(a){this._addPositionParam(a,"above")}};Kf=l([n("AppNexusBidder"),t(),k("design:paramtypes",[y,za])],Kf);
let Lf=class extends X{constructor(a,b){super();this._config=a;this._colossusExperiment=b;this.adapterName="colossusssp";this.bidderConfig=this._config.partners.getBidderConfig(f.Colossus);this.videoCreativeIds=[["138384629372",f.Colossus],["138384629375",f.Colossus],["138384699576",f.Colossus],["138384629339",f.Colossus],["138384699561",f.Colossus],["138384699546",f.Colossus],["138384629351",f.Colossus],["138384629381",f.Colossus],["138384629366",f.Colossus],["138384629378",f.Colossus],["138384629384",
f.Colossus],["138384699564",f.Colossus],["138384629363",f.Colossus],["138384699582",f.Colossus],["138384699579",f.Colossus]];this._desktopBannerMap=new Map([["Below_Post",{id:"318",size:[300,250]}],["Content",{id:"319",size:[300,250]}],["Content_1",{id:"320",size:[300,250]}],["Content_2",{id:"321",size:[300,250]}],["Content_3",{id:"322",size:[300,250]}],["Content_4",{id:"323",size:[300,250]}],["Content_5",{id:"324",size:[300,250]}],["Content_6",{id:"325",size:[300,250]}],["Content_7",{id:"326",size:[300,
250]}],["Content_8",{id:"327",size:[300,250]}],["Content_9",{id:"328",size:[300,250]}],["Footer_1",{id:"329",size:[728,90]}],["Header_1",{id:"330",size:[728,90]}],["Header_2",{id:"331",size:[728,90]}],["Recipe_1",{id:"332",size:[300,250]}],["Recipe_2",{id:"333",size:[300,250]}],["Recipe_3",{id:"334",size:[300,250]}],["Recipe_4",{id:"335",size:[300,250]}],["Recipe_5",{id:"336",size:[300,250]}],["Sidebar_1",{id:"337",size:[300,250]}],["Sidebar_2",{id:"338",size:[300,250]}],["Sidebar_3",{id:"339",size:[300,
250]}],["Sidebar_4",{id:"340",size:[300,250]}],["Sidebar_5",{id:"341",size:[300,250]}],["Sidebar_9",{id:"342",size:[300,250]}]]);this._mobileBannerMap=new Map([["Below_Post",{id:"343",size:[300,250]}],["Content",{id:"344",size:[300,250]}],["Content_1",{id:"345",size:[300,250]}],["Content_2",{id:"346",size:[300,250]}],["Content_3",{id:"347",size:[300,250]}],["Content_4",{id:"348",size:[300,250]}],["Content_5",{id:"349",size:[300,250]}],["Content_6",{id:"350",size:[300,250]}],["Content_7",{id:"351",
size:[300,250]}],["Content_8",{id:"352",size:[300,250]}],["Content_9",{id:"353",size:[300,250]}],["Footer_1",{id:"354",size:[320,50]}],["Header_1",{id:"355",size:[320,50]}],["Header_2",{id:"356",size:[320,50]}],["Recipe_1",{id:"357",size:[300,250]}],["Recipe_2",{id:"358",size:[300,250]}],["Recipe_3",{id:"359",size:[300,250]}],["Recipe_4",{id:"360",size:[300,250]}],["Recipe_5",{id:"361",size:[300,250]}],["Sidebar_1",{id:"362",size:[300,250]}],["Sidebar_2",{id:"363",size:[300,250]}],["Sidebar_3",{id:"364",
size:[300,250]}],["Sidebar_4",{id:"365",size:[300,250]}],["Sidebar_5",{id:"366",size:[300,250]}],["Sidebar_9",{id:"367",size:[300,250]}]]);this._bannerMap={desktop:this._desktopBannerMap,mobile:this._mobileBannerMap};this._videoMap=new Map([[x.Video_Collapse_Autoplay_SoundOff,"368"],[x.Video_Coll_SOff_Smartphone,"369"],[x.Video_In_Post_ClicktoPlay_SoundOn,"370"],[x.Video_Individual_Autoplay_SOff,"371"]]);a=this._bannerMap;this._map=Q()?a.mobile:a.desktop}get enabled(){return this._config.partners.display.get(f.Colossus)&&
"server"!==this._colossusExperiment.result}get videoEnabled(){return this._config.partners.video.get(f.Colossus)&&"server"!==this._colossusExperiment.result}getSlotBidRequests(a){let b=this._map.get(a.placementMapName);if(b&&a.hasSize(b.size))return[{bidder:this.name,params:{group_id:b.id,traffic:"banner"}}]}getVideoSlotBidRequests(a){if(this._videoMap.has(a.name))return[{bidder:this.name,params:{group_id:this._videoMap.get(a.name),traffic:"video"}}]}};Lf=l([n("ColossusBidder"),t(),k("design:paramtypes",
[y,Lb])],Lf);let Mf=class extends X{constructor(a){super();this._config=a;this.adapterName="colossus";this.bidderConfig=this._config.partners.getBidderConfig(f.ColossusServer);this.videoCreativeIds=[["138399171431",f.ColossusServer],["138396598194",f.ColossusServer],["138397072123",f.ColossusServer],["138397072117",f.ColossusServer],["138397070791",f.ColossusServer],["138396598191",f.ColossusServer],["138397072120",f.ColossusServer],["138397070788",f.ColossusServer],["138396598197",f.ColossusServer],
["138396598188",f.ColossusServer],["138396598158",f.ColossusServer],["138396598152",f.ColossusServer],["138397073191",f.ColossusServer],["138397072102",f.ColossusServer],["138396598200",f.ColossusServer],["138396598155",f.ColossusServer]];this._desktopBannerMap=new Map([["Below_Post",{id:"455",size:[300,250]}],["Content",{id:"456",size:[300,250]}],["Content_1",{id:"457",size:[300,250]}],["Content_2",{id:"458",size:[300,250]}],["Content_3",{id:"459",size:[300,250]}],["Content_4",{id:"460",size:[300,
250]}],["Content_5",{id:"461",size:[300,250]}],["Content_6",{id:"462",size:[300,250]}],["Content_7",{id:"463",size:[300,250]}],["Content_8",{id:"464",size:[300,250]}],["Content_9",{id:"465",size:[300,250]}],["Footer_1",{id:"466",size:[728,90]}],["Header_1",{id:"467",size:[728,90]}],["Header_2",{id:"468",size:[728,90]}],["Recipe_1",{id:"469",size:[300,250]}],["Recipe_2",{id:"470",size:[300,250]}],["Recipe_3",{id:"471",size:[300,250]}],["Recipe_4",{id:"472",size:[300,250]}],["Recipe_5",{id:"473",size:[300,
250]}],["Sidebar_1",{id:"474",size:[300,250]}],["Sidebar_2",{id:"475",size:[300,250]}],["Sidebar_3",{id:"476",size:[300,250]}],["Sidebar_4",{id:"477",size:[300,250]}],["Sidebar_5",{id:"478",size:[300,250]}],["Sidebar_9",{id:"479",size:[300,250]}]]);this._mobileBannerMap=new Map([["Below_Post",{id:"481",size:[300,250]}],["Content",{id:"482",size:[300,250]}],["Content_1",{id:"483",size:[300,250]}],["Content_2",{id:"484",size:[300,250]}],["Content_3",{id:"485",size:[300,250]}],["Content_4",{id:"486",
size:[300,250]}],["Content_5",{id:"487",size:[300,250]}],["Content_6",{id:"488",size:[300,250]}],["Content_7",{id:"489",size:[300,250]}],["Content_8",{id:"490",size:[300,250]}],["Content_9",{id:"491",size:[300,250]}],["Footer_1",{id:"492",size:[320,50]}],["Header_1",{id:"493",size:[320,50]}],["Header_2",{id:"494",size:[320,50]}],["Recipe_1",{id:"495",size:[300,250]}],["Recipe_2",{id:"496",size:[300,250]}],["Recipe_3",{id:"497",size:[300,250]}],["Recipe_4",{id:"498",size:[300,250]}],["Recipe_5",{id:"499",
size:[300,250]}],["Sidebar_1",{id:"500",size:[300,250]}],["Sidebar_2",{id:"501",size:[300,250]}],["Sidebar_3",{id:"502",size:[300,250]}],["Sidebar_4",{id:"503",size:[300,250]}],["Sidebar_5",{id:"504",size:[300,250]}],["Sidebar_9",{id:"505",size:[300,250]}]]);this._bannerMap={desktop:this._desktopBannerMap,mobile:this._mobileBannerMap};this._videoMap=new Map([[x.Video_Collapse_Autoplay_SoundOff,"450"],[x.Video_Coll_SOff_Smartphone,"451"],[x.Video_In_Post_ClicktoPlay_SoundOn,"452"],[x.Video_Individual_Autoplay_SOff,
"453"]]);a=this._bannerMap;this._map=Q()?a.mobile:a.desktop}get enabled(){return this._config.prebid.s2s.bidders.includes(f.ColossusServer)&&this._config.partners.display.get(f.Colossus)}get videoEnabled(){return this._config.prebid.s2s.bidders.includes(f.ColossusServer)&&this._config.partners.video.get(f.Colossus)}getSlotBidRequests(a){let b=this._map.get(a.placementMapName);if(b&&a.hasSize(b.size))return[{bidder:this.name,params:{groupId:b.id}}]}getVideoSlotBidRequests(a){if(this._videoMap.has(a.name))return[{bidder:this.name,
params:{groupId:this._videoMap.get(a.name)}}]}};Mf=l([n("ColossusServerBidder"),t(),k("design:paramtypes",[y])],Mf);let Nf=class extends X{constructor(a){super();this._config=a;this.bidderConfig=this._config.partners.getBidderConfig(f.Conversant);this._siteId="203587";this._map=new Map([["Below_Post",{tag_id:"8c6e3091"}],["Content",{tag_id:"f4f67b17"}],["Content_1",{tag_id:"9cbc79fd"}],["Content_2",{tag_id:"8fdfa3de"}],["Content_3",{tag_id:"ff6c383c"}],["Content_4",{tag_id:"972f654c"}],["Content_5",
{tag_id:"bd1aadb5"}],["Content_6",{tag_id:"ce4f5d6e"}],["Content_7",{tag_id:"d85e90b"}],["Content_8",{tag_id:"f02f4ba"}],["Content_9",{tag_id:"2c01cbc"}],["Footer_1",{tag_id:"1b2dec1"}],["Header_1",{tag_id:"44d21b5"}],["Header_2",{tag_id:"3488dd9"}],["Recipe_1",{tag_id:"f6cf917"}],["Recipe_2",{tag_id:"31d9c43"}],["Recipe_3",{tag_id:"a7b4d19"}],["Recipe_4",{tag_id:"245c673"}],["Recipe_5",{tag_id:"0bf3576"}],["Sidebar_1",{tag_id:"bf73d45"}],["Sidebar_2",{tag_id:"0a57500"}],["Sidebar_3",{tag_id:"cceddcd"}],
["Sidebar_4",{tag_id:"872fffd4"}],["Sidebar_5",{tag_id:"a7653e4"}],["Sidebar_9",{tag_id:"517df454"}],[x.Video_Coll_SOff_Smartphone,{tag_id:"0d0dfda"}],[x.Video_Collapse_Autoplay_SoundOff,{tag_id:"50331e1d"}],[x.Video_Individual_Autoplay_SOff,{tag_id:"de9d5670"}],[x.Video_In_Post_ClicktoPlay_SoundOn,{tag_id:"ab89e3c1"}]])}get enabled(){return this._config.partners.display.get(f.Conversant)}get videoEnabled(){return this._config.partners.video.get(f.Conversant)}getSlotBidRequests(a){if(this._map.has(a.placementMapName))return[{bidder:this.name,
params:{tag_id:this._map.get(a.placementMapName).tag_id,site_id:this._siteId}}]}getVideoSlotBidRequests(a){if(this._map.has(a.name))return[{bidder:this.name,params:{tag_id:this._map.get(a.name).tag_id,site_id:this._siteId,mimes:this._config.video.mimeType,api:this._config.video.apiValue,...("all"===this._config.video.videoProtocols.scope&&{protocols:this._config.video.videoProtocols.protocols}),position:this._config.video.position.id}}]}};Nf=l([n("ConversantBidder"),t(),k("design:paramtypes",[y])],
Nf);let Of=class extends X{constructor(a,b,c){super();this._config=a;this._prebidMethods=b;this._mediaType=c;this.bidderConfig=this._config.partners.getBidderConfig(f.Criteo);this.videoCreativeIds=[["138381583896",f.Criteo],["138381548372",f.Criteo],["138381548387",f.Criteo],["138381548384",f.Criteo],["138381548525",f.Criteo],["138381548522",f.Criteo],["138381548516",f.Criteo],["138381548513",f.Criteo],["138382062244",f.Criteo],["138382062241",f.Criteo],["138382062238",f.Criteo],["138382062235",f.Criteo],
["138382062232",f.Criteo],["138382062226",f.Criteo],["138382062223",f.Criteo],["138381584697",f.Criteo]];this.settings={storageAllowed:!0};this._params={banner:{networkId:3927},outstream:{zoneId:1709027},stickyOutstream:{zoneId:1709026}};this._map=new Set("Below_Post Content_1 Content_2 Content_3 Content_4 Content_5 Content_6 Content_7 Content_8 Content_9 Footer_1 Header_1 Header_2 Recipe_1 Recipe_2 Recipe_3 Recipe_4 Sidebar_1 Sidebar_2 Sidebar_3 Sidebar_4 Sidebar_5 Sidebar_9 Video_StickyOutstream_1".split(" "));
this._videoMap=new Map([[x.Video_Collapse_Autoplay_SoundOff,"1629631"],[x.Video_Coll_SOff_Smartphone,"1629630"],[x.Video_In_Post_ClicktoPlay_SoundOn,"1629629"],[x.Video_Individual_Autoplay_SOff,"1629401"]]);this._prebidMethods.setConfig({criteo:{fastBidVersion:"none"}})}get enabled(){return this._config.partners.display.get(f.Criteo)}get videoEnabled(){return this._config.partners.video.get(f.Criteo)}getSlotBidRequests(a){if(this._map.has(a.placementMapName)){var b="Video_StickyOutstream"===a.location,
c=[];c.push({bidder:this.name,params:b?this._params.stickyOutstream:this._params.banner});!b&&this._mediaType.outstreamEnabled(a).outstreamCapable&&c.push({bidder:this.name,...this.getLabels(a.placementMapName),params:{...this._params.outstream}});return c}}getVideoSlotBidRequests(a){var b;if(this._videoMap.has(a.name))return[{bidder:this.name,params:{zoneId:this._videoMap.get(a.name),video:{playbackmethod:(null===(b=this._config.video.playbackmethod)||void 0===b?void 0:b.get(a.name))||[]}}}]}getLabels(a){let b=
[];b.push(`outstreamActive_${a}`);return{labelAny:b}}};Of=l([n("CriteoBidder"),t(),k("design:paramtypes",[y,W,za])],Of);let Pf=class extends X{constructor(a){super();this._config=a;this.bidderConfig=this._config.partners.getBidderConfig(f.GumGum);this.videoCreativeIds=[["138330842944",f.GumGum],["138330432527",f.GumGum],["138330466869",f.GumGum],["138330842389",f.GumGum],["138330842452",f.GumGum],["138330432530",f.GumGum],["138330432548",f.GumGum],["138330432551",f.GumGum],["138330466908",f.GumGum],
["138330842464",f.GumGum],["138330842470",f.GumGum],["138330466872",f.GumGum],["138330842458",f.GumGum],["138330842461",f.GumGum],["138330842467",f.GumGum],["138330842455",f.GumGum]];this._isMobile=Q();this._isTablet=/Tablet|iPad|Playbook|Nook|webOS|Kindle|Android (?!.*Mobile).*Safari/i.test(navigator.userAgent);this._zoneIds={client:"g95nznmj",s2s:{desktop:"0yo5ozig",tablet:"0yo5ozig",phone:"nedjcoh9"}};this._map=new Map([["Interstitial_1",[{slotId:110743}]],["Content_1",[{slotId:913891}]],["Content_2",
[{slotId:913892}]],["Content_3",[{slotId:913893}]],["Content_4",[{slotId:913894}]],["Content_5",[{slotId:913895}]],["Content_6",[{slotId:913896}]],["Content_7",[{slotId:913897}]],["Content_8",[{slotId:913898}]],["Content_9",[{slotId:913899}]],["Footer_1",[]]]);this._videoMap=new Map([[x.Video_Collapse_Autoplay_SoundOff,"glpmwixo"],[x.Video_Coll_SOff_Smartphone,"5zl85htf"],[x.Video_Individual_Autoplay_SOff,"8jzhuyj5"],[x.Video_In_Post_ClicktoPlay_SoundOn,"dtwgesum"]]);this._animatedFooterEnabled=this._config.adTypes.animatedFooter;
this._interstitialEnabled=this._config.adOptions.interstitial.prebid;this._contextualAuctionParams=this._config.prebid.s2s.bidders.includes(this.name)?{zone:this._zoneIds.s2s[this._config.context.device]}:{inScreen:this._zoneIds.client}}get enabled(){return this._config.partners.display.get(f.GumGum)&&(this._isMobile||this._isTablet||this._animatedFooterEnabled||this._interstitialEnabled)}get videoEnabled(){return this._config.partners.video.get(f.GumGum)}getSlotBidRequests(a){let b=this._map.get(a.placementMapName)||
this._map.get(a.location),c="Footer"===a.location&&this._animatedFooterEnabled,d="Content"===a.location&&(this._isMobile||this._isTablet),e="Interstitial"===a.location;if(b){let g=[];c&&g.push({bidder:this.name,params:{...this._contextualAuctionParams}});(e||d)&&b.filter(({size:h})=>!h||a.hasSize(h)).forEach(h=>{g.push({bidder:this.name,params:{...this._contextualAuctionParams,...(h.slotId&&{slot:h.slotId})}})});return g}}getVideoSlotBidRequests(a){if(this._videoMap.has(a.name))return[{bidder:this.name,
params:{...(this._config.prebid.s2s.bidders.includes(this.name)&&{...this._contextualAuctionParams}),video:this._videoMap.get(a.name)}}]}};Pf=l([n("GumGumBidder"),t(),k("design:paramtypes",[y])],Pf);let Ll=new Map([["Below_Post",{siteId:"185759"}],["Content_1",{siteId:"185761",outstreamSiteId:"820298"}],["Content_2",{siteId:"185762"}],["Content_3",{siteId:"185763"}],["Content_4",{siteId:"185764"}],["Content_5",{siteId:"185765"}],["Content_6",{siteId:"185766"}],["Content_7",{siteId:"185767"}],["Content_8",
{siteId:"185768"}],["Content_9",{siteId:"185769"}],["Footer_1",{siteId:"185770"}],["Header_1",{siteId:"185774"}],["Interstitial_1",{siteId:"631834"}],["Recipe_1",{siteId:"185776"}],["Recipe_2",{siteId:"185777"}],["Recipe_3",{siteId:"304909"}],["Recipe_4",{siteId:"371523"}],["Sidebar_1",{siteId:"185787"}],["Sidebar_2",{siteId:"185788"}],["Sidebar_3",{siteId:"185789"}],["Sidebar_4",{siteId:"185790"}],["Sidebar_5",{siteId:"185791"}],["Sidebar_9",{siteId:"185795"}],["Video_StickyOutstream_1",{siteId:"745167"}]]),
Kj=new Map([["Below_Post",[{size:[728,90],id:"1_1"},{size:[300,250],id:"1_2"}]],["Content_1",[{size:[728,90],id:"3_1"},{size:[300,250],id:"3_2"},{size:[320,480],id:"3_2"},{size:[320,50],id:"3_4"},{size:[320,100],id:"3_5"},{size:[300,50],id:"3_6"},{size:[728,250]}]],["Content_2",[{size:[728,90],id:"4_1"},{size:[300,250],id:"4_2"},{size:[728,410],id:"4_2"},{size:[320,50],id:"4_4"},{size:[320,100],id:"4_5"},{size:[300,50],id:"4_6"},{size:[728,250]}]],["Content_3",[{size:[300,250],id:"5_1"},{size:[320,
50],id:"5_2"},{size:[320,100],id:"5_3"},{size:[300,50],id:"5_4"},{size:[728,250]}]],["Content_4",[{size:[300,250],id:"6_1"},{size:[320,50],id:"6_2"},{size:[320,100],id:"6_3"},{size:[300,50],id:"6_4"},{size:[728,250]}]],["Content_5",[{size:[300,250],id:"7_1"},{size:[320,50],id:"7_2"},{size:[320,100],id:"7_3"},{size:[300,50],id:"7_4"},{size:[728,250]}]],["Content_6",[{size:[300,250],id:"8_1"},{size:[320,50],id:"8_2"},{size:[320,100],id:"8_3"},{size:[300,50],id:"8_4"},{size:[728,250]}]],["Content_7",
[{size:[300,250],id:"9_1"},{size:[320,50],id:"9_2"},{size:[300,50],id:"9_3"},{size:[728,250]}]],["Content_8",[{size:[300,250],id:"10_1"},{size:[320,50],id:"10_2"},{size:[300,50],id:"10_3"},{size:[728,250]}]],["Content_9",[{size:[300,250],id:"11_1"},{size:[320,50],id:"11_2"},{size:[300,50],id:"11_3"},{size:[728,250]}]],["Footer_1",[{size:[728,90],id:"12_1"},{size:[970,90],id:"12_2"},{size:[320,50],id:"12_3"},{size:[320,100],id:"12_4"},{size:[300,50],id:"12_5"}]],["Header_1",[{size:[728,90],id:"15_1"},
{size:[970,90],id:"15_2"},{size:[970,250],id:"15_3"},{size:[320,50],id:"15_4"},{size:[320,100],id:"15_5"},{size:[300,50],id:"15_6"}]],["Interstitial_1",[{size:[300,600],id:"36_1"},{size:[336,280],id:"36_2"},{size:[320,480],id:"36_3"},{size:[300,250],id:"36_4"},{size:[320,50],id:"36_5"}]],["Recipe_1",[{size:[300,250],id:"17_1"},{size:[320,50],id:"17_3"},{size:[320,100],id:"17_4"},{size:[300,50],id:"17_5"}]],["Recipe_2",[{size:[300,250],id:"18_1"},{size:[320,50],id:"18_3"},{size:[320,100],id:"18_4"},
{size:[300,50],id:"18_5"}]],["Recipe_3",[{size:[300,250],id:"42_1"},{size:[320,50],id:"42_3"},{size:[320,100],id:"42_4"},{size:[300,50],id:"42_5"}]],["Recipe_4",[{size:[300,250],id:"43_1"},{size:[320,50],id:"43_3"},{size:[320,100],id:"43_4"},{size:[300,50],id:"43_5"}]],["Sidebar_1",[{size:[300,250],id:"27_1"},{size:[300,600],id:"27_2"},{size:[300,1050],id:"27_3"},{size:[160,600],id:"27_4"},{size:[300,50],id:"27_5"}]],["Sidebar_2",[{size:[300,250],id:"28_1"},{size:[300,600],id:"28_2"},{size:[160,600],
id:"28_3"},{size:[300,50],id:"28_4"}]],["Sidebar_3",[{size:[300,250],id:"29_1"},{size:[300,600],id:"29_2"},{size:[160,600],id:"29_3"},{size:[300,50],id:"29_4"}]],["Sidebar_4",[{size:[300,250],id:"30_1"},{size:[300,600],id:"30_2"},{size:[160,600],id:"30_3"},{size:[300,50],id:"30_4"}]],["Sidebar_5",[{size:[300,250],id:"31_1"},{size:[300,600],id:"31_2"},{size:[160,600],id:"31_3"},{size:[300,50],id:"31_4"}]],["Sidebar_9",[{size:[300,250],id:"35_1"},{size:[300,600],id:"35_2"},{size:[300,1050],id:"35_3"},
{size:[160,600],id:"35_4"},{size:[300,50],id:"35_5"}]],["Video_StickyOutstream_1",[{size:[300,250],id:"48_1",sizeOverride:[227,150]},{size:[320,50],id:"48_2",sizeOverride:[178,100]}]]]),Lj=new Map([[x.Video_Collapse_Autoplay_SoundOff,[{size:[640,360],siteId:"185255",id:"44_1"}]],[x.Video_Coll_SOff_Smartphone,[{size:[400,225],siteId:"321341",id:"45_1"}]],[x.Video_In_Post_ClicktoPlay_SoundOn,[{size:[640,360],siteId:"385287",device:"desktop",id:"46_1"},{size:[400,225],siteId:"385288",device:"mobile",
id:"46_2"}]],[x.Video_Individual_Autoplay_SOff,[{size:[640,360],siteId:"385285",device:"desktop",id:"47_1"},{size:[400,225],siteId:"385286",device:"mobile",id:"47_2"}]]]),Qf=class extends X{constructor(a,b,c){super();this._config=a;this._prebidMethods=b;this._mediaType=c;this._bidderName=f.IndexExchange;this._device=qa()?"desktop":"mobile";this._largeFormatSizes=(this._hasLargeFormatsEnabled=qa()?this._config.adTypes.largeFormatsDesktop:this._config.adTypes.largeFormatsMobile)?"desktop"===this._device?
[[728,410]]:[[320,480]]:[];this.bidderConfig=this._config.partners.getBidderConfig(f.IndexExchange);this.videoCreativeIds=[["138323461889",f.IndexExchange],["138365130553",f.IndexExchange],["138323602520",f.IndexExchange],["138323911414",f.IndexExchange],["138365130307",f.IndexExchange],["138323648223",f.IndexExchange],["138323911009",f.IndexExchange],["138364758402",f.IndexExchange],["138323523396",f.IndexExchange],["138364703774",f.IndexExchange],["138323464748",f.IndexExchange],["138364758405",
f.IndexExchange],["138323911423",f.IndexExchange],["138365130310",f.IndexExchange],["138323911420",f.IndexExchange],["138365130313",f.IndexExchange],["138323911411",f.IndexExchange],["138364758408",f.IndexExchange],["138323911012",f.IndexExchange],["138364703777",f.IndexExchange],["138323523390",f.IndexExchange],["138364758411",f.IndexExchange],["138323523387",f.IndexExchange],["138365130316",f.IndexExchange],["138323911426",f.IndexExchange],["138364758414",f.IndexExchange],["138323911408",f.IndexExchange],
["138364703780",f.IndexExchange],["138323911405",f.IndexExchange],["138364703783",f.IndexExchange],["138323523393",f.IndexExchange],["138364758417",f.IndexExchange],["138323911417",f.IndexExchange],["138365130319",f.IndexExchange]]}get enabled(){return this._config.partners.display.get(f.IndexExchange)}get videoEnabled(){return this._config.partners.video.get(f.IndexExchange)}init(){var a=Wd(this._config.context.savedReferrer),b=this._config,c=b.site,d=[...c.verticals].filter(La);c=c.filteredSensitiveCategories;
b=`${b.adOptions.pmp?"":"no"}${b.context.device}`;d={...(d.length&&{Topic:d.join("#Topic:")})};c={...(c.length&&{Sens:c.join("#Sens:")})};a=a?el(a):"direct";a={PD:b,...d,...c,Source:a,Browser:Zi(),vp:"0"};yb(a,this._prebidMethods);this._largeFormatSizes.length&&dl(this._largeFormatSizes,this._prebidMethods)}getVideoBidRequests(a){return a.reduce((b,c)=>{const d=this.getVideoSizeSites(a).filter(e=>e.video===c).map(e=>{const {siteId:g,size:h,id:m}=e.sizeSite;e=this.getPrebidAdUnitBidRequest(g,h,m);
e.params.video=this.getVideoParams(c.name);return e});return b.set(c.name,d)},new Map)}getBidRequests(a){return a.reduce((b,c)=>{let d=Ll.get(c.placementMapName),e=this._mediaType.outstreamEnabled(c).outstreamCapable,g="Video_StickyOutstream"===c.location,h=[];return d?b.set(c.id,this.getSlotSizeIds(a).filter(m=>m.slot===c).reduce((m,{sizeId:{id:q,size:w}})=>{const u=(A,G,L=!1,J="")=>{G=this.getPrebidAdUnitBidRequest(G,w,q,g,L,J);A.push(G)},v=e?d.outstreamSiteId:void 0;m.push(this.getPrebidAdUnitBidRequest(d.siteId,
w,q,g));v&&!this._config.video.hasStickyOutstream&&u(h,v,!0,`outstreamActive_${c.placementMapName}`);return m},[]).concat(h)):b},new Map)}getVideoParams(a,b){b={...this._config.video,...b};a=b.playbackmethod&&b.playbackmethod.get(a);let c=new Map([[3,[3]],[6,[2]]]);a=a&&{playbackmethod:c.get(a[0])};return{api:b.apiValue,mimes:b.mimeType,...a,minduration:0,maxduration:30,protocols:b.videoProtocols.protocols,pos:b.position.id}}getPrebidAdUnitBidRequest(a,b,c,d=!1,e=!1,g=""){return{bidder:this._bidderName,
...(g&&{labelAny:[g]}),params:{...(c&&{id:c}),siteId:a,...(d||e?{video:{}}:{size:b})}}}getSlotSizeIds(a){return a.filter(b=>Kj.has(b.placementMapName)).reduce((b,c)=>{const d=Kj.get(c.placementMapName).filter(({size:e})=>c.hasSize(e)||this.largeFormatSizeEnabled(e)).map(e=>({slot:c,sizeId:e}));return[...b,...d]},[])}largeFormatSizeEnabled([a,b]){return this._largeFormatSizes.some(([c,d])=>a===c&&b===d)}getVideoSizeSites(a){return a.filter(b=>Lj.has(b.name)).reduce((b,c)=>{const d=Lj.get(c.name).filter(({device:e,
size:g})=>(!e||e&&e===this._device)&&c.size[0]===g[0]&&c.size[1]===g[1]).map(e=>({video:c,sizeSite:e}));return[...b,...d]},[])}};Qf=l([n("IndexExchangeBidder"),t(),k("design:paramtypes",[y,W,za])],Qf);let Ml=new Map([[x.Video_Collapse_Autoplay_SoundOff,[{client:"_kWJDXIuROl",server:"_kkLiJTt47x",size:[640,360]}]],[x.Video_In_Post_ClicktoPlay_SoundOn,[{client:"_fR1aawM8Zo",server:"_j08PBtvK4B",size:[640,360]}]],[x.Video_Individual_Autoplay_SOff,[{client:"_nmpcOw19lD",server:"_mX7o0eM1jT",size:[640,
360]}]]]),Nl=new Map([[x.Video_Coll_SOff_Smartphone,[{client:"_kUg4kKElHf",server:"_wraUX6ObGH",size:[400,225]}]],[x.Video_In_Post_ClicktoPlay_SoundOn,[{client:"_upDLM7q4jV",server:"_iNqGr1ZsCR",size:[400,225]}]],[x.Video_Individual_Autoplay_SOff,[{client:"_fyab3CymN5",server:"_qeYOrszj4C",size:[400,225]}]]]),Mj=new Map([["100000",{client:{mobile:"_htv2gWQDl4",desktop:"_hIMWOFYOkG"},server:{mobile:"_fc3We7MSf8",desktop:"_p9dR36E2p7"},isOutstream:!1}],["010000",{client:{mobile:"_bDJEtXJaCQ",desktop:"_vzS4k9rMKu"},
server:{mobile:"_mTkU31vSyD",desktop:"_uBJBQkzM4x"},isOutstream:!1}],["101000",{client:{mobile:"_rEapvpk6cZ",desktop:"_biVtjnG1v0"},server:{mobile:"_d1ofpEpOuE",desktop:"_zVMScGOI0i"},isOutstream:!0}],["101100",{client:{mobile:"_hDLFEUkifu",desktop:"_hDLFEUkifu"},server:{mobile:"_d4LMbFjRkk",desktop:"_hDLFEUkifu"},isOutstream:!0}],["100100",{client:{mobile:"_kEvPWSnblw",desktop:"_kEvPWSnblw"},server:{mobile:"_jiqa71nZQy",desktop:"_kEvPWSnblw"},isOutstream:!1}],["000011",{client:{mobile:"_hRaLC9FgYn",
desktop:"_yI7yqradgk"},server:{mobile:"_qkzet6WYFk",desktop:"_cw6zRI7FoH"},isOutstream:!1}],["000010",{client:{mobile:"_iyznbek6ki",desktop:"_fPM3feDxUE"},server:{mobile:"_xgNGHBHpEp",desktop:"_uqR67yraqv"},isOutstream:!1}],["000001",{client:{mobile:"_g1dEyYpnCU",desktop:"_wtAZ5wepHr"},server:{mobile:"_p2WCSP0fm1",desktop:"_bSkTYI5gwN"},isOutstream:!1}]]),Ol="Below_Post Content_1 Content_2 Content_3 Content_4 Content_5 Content_5 Content_6 Content_7 Content_8 Content_9 Recipe_1 Recipe_2 Recipe_3 Recipe_4 Recipe_5 Sidebar_1 Sidebar_2 Sidebar_3 Sidebar_4 Sidebar_5 Sidebar_9".split(" "),
Nj=["Below_Post","Content_1"],Pl=["Below_Post","Content","Recipe"],Ql={desktop:Ml,mobile:Nl},Rl=["Below_Post","Content_1","Content_3","Content_5","Recipe_1"],Rf=class extends X{constructor(a,b,c){super();this._kargoExperiment=a;this._config=b;this._mediaType=c;this.bidderConfig=this._config.partners.getBidderConfig(f.Kargo);this.adapterName=f.Kargo;this.serverBidderName=f.KargoServer;this.gvlid=972;this._device=Q()?"mobile":"desktop";this._videoMap=Ql[this._device];this._bidders=[];this.videoCreativeIds=
[["138381592896",f.Kargo],["138381553202",f.Kargo],["138381553217",f.Kargo],["138381553238",f.Kargo],["138381553328",f.Kargo],["138381553214",f.Kargo],["138381553235",f.Kargo],["138381553244",f.Kargo],["138381553331",f.Kargo],["138381553334",f.Kargo],["138382066465",f.Kargo],["138381553241",f.Kargo],["138381553325",f.Kargo],["138381553337",f.Kargo],["138381553340",f.Kargo],["138382066468",f.Kargo]];this.videoServerCreativeIds=[["138412278583",f.KargoServer],["138411680693",f.KargoServer],["138411680690",
f.KargoServer],["138411680687",f.KargoServer],["138411680684",f.KargoServer],["138411680681",f.KargoServer],["138411680678",f.KargoServer],["138411680264",f.KargoServer]];this.settings={storageAllowed:!0};a="both"===this._kargoExperiment.result||"client"===this._kargoExperiment.result;"both"!==this._kargoExperiment.result&&"server"!==this._kargoExperiment.result||this._bidders.push({name:this.serverBidderName,type:"server"});a&&this._bidders.push({name:this.name,type:"client"})}get enabled(){return this._config.partners.display.get(f.Kargo)}get videoEnabled(){return this._config.partners.video.get(f.Kargo)}addLazySlotsToTypes(a){"mobile"===
this._device&&Pl.includes(a.location)&&a.lazy&&Nj.push(a.name)}createBitStringAdOptions(a){let b=a.hasSize([300,250]),c=a.hasSize([320,50]),d=a.hasSize([728,90]);this.addLazySlotsToTypes(a);return[+this.isBanner(a,b,c),+this.isHeader(a,d,c),+this.isOutstream(a,b),+this.isInterscroller(a),+this.isAnimatedFooter(a,c),+this.isExpandableFooter(a,c)].join("")}isBanner(a,b,c){return(b||c)&&Ol.includes(a.placementMapName)}isHeader(a,b,c){let d=["Header_1","Header_2"];return(b||c)&&d.includes(a.placementMapName)}isOutstream(a,
b){let c=["Content","Header","Below_Post","Sidebar","Recipe"];return b&&("desktop"===this._device&&c.includes(a.location)||"mobile"===this._device&&Rl.includes(a.placementMapName)&&this._mediaType.outstreamEnabled(a).outstreamCapable)}isInterscroller(a){return"mobile"===this._device&&this._config.adTypes.has("interscroller")&&Nj.includes(a.placementMapName)}isAnimatedFooter(a,b){return("desktop"===this._device||this._config.adTypes.has("animatedFooter"))&&b&&"Footer_1"===a.placementMapName}isExpandableFooter(a,
b){return"mobile"===this._device&&b&&this._config.adTypes.has("expandableFooter")&&"Footer_1"===a.placementMapName}getSlotBidRequests(a){let b=this.createBitStringAdOptions(a);if(Mj.has(b))return this._bidders.map(c=>{let d="server"===c.type?"adSlotID":"placementId",e=Mj.get(b);return{bidder:c.name,...this.getLabels(e.isOutstream,a.placementMapName),params:{[d]:e[c.type][this._device]}}})}getVideoSlotBidRequests(a){let b=[];if(!this._videoMap.get(a.name))return b;this._bidders.forEach(c=>{let d="server"===
c.type?"adSlotID":"placementId",e=this._videoMap.get(a.name)[0][c.type];b.push({bidder:c.name,params:{[d]:e}})});return b}getLabels(a,b){if("desktop"!==this._device){var c=[];a&&c.push(`outstreamCapable_${b}`);return c.length?{labelAny:c}:{}}}};Rf=l([n("KargoBidder"),p(),k("design:paramtypes",[Mb,y,za])],Rf);let Sf=class extends X{constructor(a){super();this._config=a;this.bidderConfig=this._config.partners.getBidderConfig(f.MediaGrid);this.settings={bidCpmAdjustment:(b,c)=>{let d=this._config,e=
d.video.instreamAdUnits.has(null===c||void 0===c?void 0:c.adUnitCode);b=this._getCPMAdjustment(b,c);e&&(b>d.video.vidDiscount?b-=d.video.vidDiscount:b=0);return b},inverseBidAdjustment:(b,c)=>{c={mediaType:Object.keys(c.mediaTypes)[0],adUnitCode:c.adUnitCode};let d=this._config,e=d.video.instreamAdUnits.has(null===c||void 0===c?void 0:c.adUnitCode)?d.video.vidDiscount:0;return Yi(d,f.MediaGrid,c,b+e)},adserverTargeting:[{key:"hb_format",val:b=>b&&b.meta&&"trustx"===b.meta.demandSource?`trustx_${b.mediaType}`:
b.mediaType}]};this._getCPMAdjustment=(b,c)=>{var d=c.dealId;d=("vastUrl"in c||"vastXml"in c)&&d&&d.toString().includes("G-TRUSTX");return Pd(this._config,b,f.MediaGrid,{...c,...(d&&{dealId:void 0})})};this._map=new Map([["Below_Post",357],["Content_1",358],["Content_2",359],["Content_3",360],["Content_4",361],["Content_5",362],["Content_6",363],["Content_7",364],["Content_8",365],["Content_9",366],["Footer_1",367],["Header_1",368],["Header_2",369],["Interstitial_1",48428],["Recipe_1",370],["Recipe_2",
371],["Recipe_3",372],["Recipe_4",373],["Sidebar_1",375],["Sidebar_2",376],["Sidebar_3",377],["Sidebar_4",378],["Sidebar_5",379],["Sidebar_9",380],["Video_StickyOutstream_1",133519]])}get enabled(){return this._config.partners.display.get(f.MediaGrid)}get videoEnabled(){return this._config.partners.video.get(f.MediaGrid)}getSlotBidRequests(a){if(this._map.has(a.placementMapName))return[{bidder:this.name,params:{uid:this._map.get(a.placementMapName)}}]}};Sf=l([n("MediaGridBidder"),t(),k("design:paramtypes",
[y])],Sf);let Tf=class extends X{constructor(a){super();this._config=a;this.bidderConfig=this._config.partners.getBidderConfig(f.MediaGridVideo);this.adapterName="grid";this.videoCreativeIds=[["138323922262",f.MediaGridVideo],["138323922901",f.MediaGridVideo],["138323922886",f.MediaGridVideo],["138323922898",f.MediaGridVideo],["138323922904",f.MediaGridVideo],["138323923042",f.MediaGridVideo],["138323922889",f.MediaGridVideo],["138323923018",f.MediaGridVideo],["138323922907",f.MediaGridVideo],["138323922859",
f.MediaGridVideo],["138323923048",f.MediaGridVideo],["138323923045",f.MediaGridVideo],["138323923051",f.MediaGridVideo],["138323923021",f.MediaGridVideo],["138323922895",f.MediaGridVideo],["138323922892",f.MediaGridVideo]];this._map=new Map([[x.Video_Collapse_Autoplay_SoundOff,[{uid:2163}]],[x.Video_Coll_SOff_Smartphone,[{uid:2165}]],[x.Video_In_Post_ClicktoPlay_SoundOn,[{device:"desktop",uid:2164},{device:"mobile",uid:6056}]],[x.Video_Individual_Autoplay_SOff,[{device:"desktop",uid:2166},{device:"mobile",
uid:6057}]]])}get enabled(){return this._config.partners.display.get(f.MediaGridVideo)}get videoEnabled(){return this._config.partners.video.get(f.MediaGridVideo)}getVideoSlotBidRequests(a){let b=qa()?"desktop":"mobile";if(this._map.has(a.name))return this._map.get(a.name).filter(({device:c})=>!c||c===b).map(({uid:c})=>({bidder:this.name,params:{uid:c}}))}};Tf=l([n("MediaGridVideoBidder"),t(),k("design:paramtypes",[y])],Tf);let Uf=class extends X{constructor(a){super();this._config=a;this.bidderConfig=
this._config.partners.getBidderConfig(f.Nativo);this.adapterName=f.Nativo;this._map=new Set("Content_1 Content_2 Recipe_1 Recipe_2 Sidebar_1 Sidebar_2".split(" "))}get enabled(){return this._config.partners.display.get(f.Nativo)}getSlotBidRequests(a){if(this._map.has(a.placementMapName))return[{bidder:this.name,params:{}}]}};Uf=l([n("NativoBidder"),t(),k("design:paramtypes",[y])],Uf);let Vf=class extends X{constructor(a,b){super();this._config=a;this.openxExperiment=b;this.bidderConfig=this._config.partners.getBidderConfig(f.OpenX);
this.adapterName=f.OpenX;this.serverBidderName=f.OpenXServer;this.gvlid=69;this._bidders=[];this.videoCreativeIds=[["138323525262",f.OpenX],["138323914702",f.OpenX],["138323526741",f.OpenX],["138323526186",f.OpenX],["138323526738",f.OpenX],["138323526744",f.OpenX],["138323526747",f.OpenX],["138323526189",f.OpenX],["138323914588",f.OpenX],["138323526192",f.OpenX],["138323526750",f.OpenX],["138323466806",f.OpenX],["138323468969",f.OpenX],["138323914705",f.OpenX],["138323526183",f.OpenX],["138323526753",
f.OpenX]];this.videoServerCreativeIds=[["138411286398",f.OpenXServer],["138411786451",f.OpenXServer],["138411286395",f.OpenXServer],["138411286392",f.OpenXServer],["138411286401",f.OpenXServer],["138411286389",f.OpenXServer],["13841117744",f.OpenXServer],["138411178055",f.OpenXServer]];this._params={delDomain:"cafemedia-d.openx.net"};this._highImpactParamsMap=new Map([["Content_1",["interscroller","miniscroller"]]]);this._lazyImpactParamsMap=new Map([["Content",["interscroller","miniscroller"]],["Recipe",
["interscroller","miniscroller"]],["Below_Post",["interscroller","miniscroller"]]]);this._map=new Map([["Below_Post",{client:{unit:"538699862"},server:{unit:"558245996"}}],["Content_1",{client:{unit:"538699864"},server:{unit:"558245997"}}],["Content_2",{client:{unit:"538699865"},server:{unit:"558245998"}}],["Content_3",{client:{unit:"538699866"},server:{unit:"558245999"}}],["Content_4",{client:{unit:"538699867"},server:{unit:"558246000"}}],["Content_5",{client:{unit:"538699868"},server:{unit:"558246001"}}],
["Content_6",{client:{unit:"538699869"},server:{unit:"558246002"}}],["Content_7",{client:{unit:"538699870"},server:{unit:"558246003"}}],["Content_8",{client:{unit:"538699871"},server:{unit:"558246004"}}],["Content_9",{client:{unit:"538699872"},server:{unit:"558246005"}}],["Footer_1",{client:{unit:"538699840"},server:{unit:"558246006"}}],["Header_1",{client:{unit:"538699873"},server:{unit:"558246007"}}],["Header_2",{client:{unit:"538699874"},server:{unit:"558246008"}}],["Interstitial_1",{client:{unit:"543876568"},
server:{unit:"543876568"}}],["Recipe_1",{client:{unit:"538699843"},server:{unit:"558246009"}}],["Recipe_2",{client:{unit:"538699844"},server:{unit:"558246010"}}],["Recipe_3",{client:{unit:"540594416"},server:{unit:"558246011"}}],["Recipe_4",{client:{unit:"540751624"},server:{unit:"558246012"}}],["Sidebar_1",{client:{unit:"538699853"},server:{unit:"558246014"}}],["Sidebar_2",{client:{unit:"538699854"},server:{unit:"558246015"}}],["Sidebar_3",{client:{unit:"538699855"},server:{unit:"558246016"}}],["Sidebar_4",
{client:{unit:"538699856"},server:{unit:"558246017"}}],["Sidebar_5",{client:{unit:"538699857"},server:{unit:"558246018"}}],["Sidebar_9",{client:{unit:"538699861"},server:{unit:"558246019"}}],["Video_StickyOutstream_1",{client:{unit:"545721971"},server:{unit:"558246697"}}],[x.Video_Collapse_Autoplay_SoundOff,{client:{unit:"540679731"},server:{unit:"558246727"}}],[x.Video_Coll_SOff_Smartphone,{client:{unit:"540679733"},server:{unit:"558246726"}}],[x.Video_In_Post_ClicktoPlay_SoundOn,{client:{unit:"540679727"},
server:{unit:"558246662"}}],[x.Video_Individual_Autoplay_SOff,{client:{unit:"540925853"},server:{unit:"558246728"}}]]);this._custParams={...(this._config.site.filteredSensitiveCategories.length&&{sens:this._config.site.filteredSensitiveCategories}),bucket:[this._config.context.bucket]};a="both"===b.result||"client"===b.result;"both"!==b.result&&"server"!==b.result||this._bidders.push({name:this.serverBidderName,type:"server"});a&&this._bidders.push({name:this.name,type:"client"})}get enabled(){return this._config.partners.display.get(f.OpenX)}get videoEnabled(){return this._config.partners.video.get(f.OpenX)}_lazyActiveTypes(a){return a.lazy&&
this._lazyImpactParamsMap.has(a.location)&&this._lazyImpactParamsMap.get(a.location).filter(b=>this._config.adTypes[b])}activeAdTypes(a){return this._highImpactParamsMap.has(a.placementMapName)&&this._highImpactParamsMap.get(a.placementMapName).filter(b=>this._config.adTypes[b])}getSlotBidRequests(a){if(this._map.has(a.placementMapName)){let b=this.activeAdTypes(a)||this._lazyActiveTypes(a)||[],c=this._map.get(a.placementMapName);return this._bidders.map(d=>({bidder:d.name,params:{...this._params,
unit:c[d.type].unit,customParams:{...this._custParams,...(b.length&&{hi_au:b.filter(e=>this._config.adTypes[e])})}}}))}}getVideoSlotBidRequests(a){if(this._map.has(a.name)){let b="all"===this._config.video.videoProtocols.scope?{protocols:this._config.video.videoProtocols.protocols}:"",c=this._map.get(a.name);return this._bidders.map(d=>{var e;return{bidder:d.name,params:{...this._params,unit:c[d.type].unit,video:{mimes:this._config.video.mimeType,api:this._config.video.apiValue,...b,pos:this._config.video.position.id,
...((null===(e=this._config.video.playbackmethod)||void 0===e?void 0:e.get(a.name))&&{playbackmethod:this._config.video.playbackmethod.get(a.name)})}}}})}}};Vf=l([n("OpenXBidder"),t(),k("design:paramtypes",[y,Jb])],Vf);let $a=class{constructor(a){this._spaEventBus=a;this.segmentName="www.iris.tv";this.segtax=501;this._irisEndpoint="https://context.iris.tv/video_info";this._token="5d8f38ad6d7de4253cfa501b84c30b1014868d9884be5d68dc64bd50a6edb54c";this._clientToken="EXJQESR8SMWMZCJ";this._spaEventBus.routeChanged.on(()=>
{this._resetIrisData()})}async setContextualData(a){return this.fetchIrisResponse(a).then(b=>{if(b&&"boolean"!==typeof b){let c=(b=b.video_info)&&b.context;c&&c.length&&(this._contextualData=c,this._irisId=b.iris_id)}return!0}).catch(()=>!1)}get irisContextualData(){return this._contextualData}get irisId(){return this._irisId}fetchIrisResponse(a){return gj(`${this._irisEndpoint}?access_token=${this._token}&client_token=${this._clientToken}&platform_id=${a}`)}_resetIrisData(){this._irisId=this._contextualData=
void 0}};$a=l([p(),k("design:paramtypes",[ka])],$a);let Wf=class extends X{constructor(a,b){super();this._config=a;this._irisTv=b;this.bidderConfig=this._config.partners.getBidderConfig(f.Pubmatic);this.adapterName=f.Pubmatic;this.serverBidderName=f.PubmaticServer;this.gvlid=76;this.videoCreativeIds=[["138323526825",f.Pubmatic],["138323915419",f.Pubmatic],["138323915299",f.Pubmatic],["138323527095",f.Pubmatic],["138323469392",f.Pubmatic],["138323915422",f.Pubmatic],["138323469395",f.Pubmatic],["138323469389",
f.Pubmatic],["138323469383",f.Pubmatic],["138323469320",f.Pubmatic],["138323469317",f.Pubmatic],["138323527092",f.Pubmatic],["138323469401",f.Pubmatic],["138323469398",f.Pubmatic],["138323469386",f.Pubmatic],["138323469404",f.Pubmatic]];this.videoServerCreativeIds=[["138337271609",f.PubmaticServer],["138337343196",f.PubmaticServer],["138337343229",f.PubmaticServer],["138337720879",f.PubmaticServer],["138337720885",f.PubmaticServer],["138337343202",f.PubmaticServer],["138337343211",f.PubmaticServer],
["138337343217",f.PubmaticServer],["138337343232",f.PubmaticServer],["138337720597",f.PubmaticServer],["138337720888",f.PubmaticServer],["138337343199",f.PubmaticServer],["138337343214",f.PubmaticServer],["138337343223",f.PubmaticServer],["138337343226",f.PubmaticServer],["138337343220",f.PubmaticServer]];this.pubId="157347";this._map=new Map([["Below_Post",{client:"BelowPost1",server:"BelowPost1_XandrS2S"}],["Content_1",{client:"Content1",server:"Content1_XandrS2S"}],["Content_2",{client:"Content2",
server:"Content2_XandrS2S"}],["Content_3",{client:"Content3",server:"Content3_XandrS2S"}],["Content_4",{client:"Content4",server:"Content4_XandrS2S"}],["Content_5",{client:"Content5",server:"Content5_XandrS2S"}],["Content_6",{client:"Content6",server:"Content6_XandrS2S"}],["Content_7",{client:"Content7",server:"Content7_XandrS2S"}],["Content_8",{client:"Content8",server:"Content8_XandrS2S"}],["Content_9",{client:"Content9",server:"Content9_XandrS2S"}],["Footer_1",{client:"Footer1",server:"Footer1_XandrS2S"}],
["Header_1",{client:"Header1",server:"Header1_XandrS2S"}],["Header_2",{client:"Header2",server:"Header2_XandrS2S"}],["Interstitial_1",{client:"interstitial",server:"interstitial_XandrS2S"}],["Recipe_1",{client:"Recipe1",server:"Recipe1_XandrS2S"}],["Recipe_2",{client:"Recipe2",server:"Recipe2_XandrS2S"}],["Recipe_3",{client:"Recipe3",server:"Recipe3_XandrS2S"}],["Recipe_4",{client:"Recipe4",server:"Recipe4_XandrS2S"}],["Sidebar_1",{client:"Sidebar1",server:"Sidebar1_XandrS2S"}],["Sidebar_2",{client:"Sidebar2",
server:"Sidebar2_XandrS2S"}],["Sidebar_3",{client:"Sidebar3",server:"Sidebar3_XandrS2S"}],["Sidebar_4",{client:"Sidebar4",server:"Sidebar4_XandrS2S"}],["Sidebar_5",{client:"Sidebar5",server:"Sidebar5_XandrS2S"}],["Sidebar_9",{client:"Sidebar9",server:"Sidebar9_XandrS2S"}],["Video_StickyOutstream_1",{client:"2267845",server:"4018943"}],[x.Video_Collapse_Autoplay_SoundOff,{client:"1961309",server:"3437231"}],[x.Video_Coll_SOff_Smartphone,{client:"1961310",server:"3437234"}],[x.Video_In_Post_ClicktoPlay_SoundOn,
{client:"1961308",server:"3437232"}],[x.Video_Individual_Autoplay_SOff,{client:"2503033",server:"3443766"}]])}get enabled(){return this._config.partners.display.get(f.Pubmatic)}get videoEnabled(){return this._config.partners.video.get(f.Pubmatic)}getSlotBidRequests(a){let b=[];this._map.has(a.placementMapName)&&(b.push(this.getBidParams(this.name,this._map.get(a.placementMapName).client,a)),b.push(this.getBidParams(this.serverBidderName,this._map.get(a.placementMapName).server,a)));return b}getBidParams(a,
b,c){return{bidder:a,params:{publisherId:this.pubId,adSlot:`${b}@${c.sizes[0][0]}x${c.sizes[0][1]}`,...(this._config.site.filteredSensitiveCategories.length&&{pmzoneid:this._config.site.filteredSensitiveCategories.join(",")})}}}getVideoSlotBidRequests(a){let b=[];this._map.has(a.name)&&(b.push(this.getVideoBidParams(this.name,this._map.get(a.name).client,a)),b.push(this.getVideoBidParams(this.serverBidderName,this._map.get(a.name).server,a)));return b}getDCTRParam(){let a=[],b=this._irisTv.irisContextualData;
b&&b.length&&a.push(`iris_context=${b.toString()}`);return a.join("|")}getVideoBidParams(a,b,c){var d;let e=this.getDCTRParam();return{bidder:a,params:{publisherId:this.pubId,...(e&&{dctr:e}),video:{mimes:this._config.video.mimeType,api:this._config.video.apiValue,...("all"===this._config.video.videoProtocols.scope&&{protocols:this._config.video.videoProtocols.protocols}),...((null===(d=this._config.video.playbackmethod)||void 0===d?void 0:d.get(c.name))&&{playbackmethod:this._config.video.playbackmethod.get(c.name)})},
adSlot:`${b}@${c.size[0]}x${c.size[1]}`,...(this._config.site.filteredSensitiveCategories.length&&{pmzoneid:this._config.site.filteredSensitiveCategories.join(",")})}}}};Wf=l([n("PubMaticBidder"),t(),k("design:paramtypes",[y,$a])],Wf);let Xf=class extends X{constructor(a){super();this._config=a;this.bidderConfig=this._config.partners.getBidderConfig(f.ResetDigital);this.videoCreativeIds=[["138413962354",f.ResetDigital],["138413962351",f.ResetDigital],["138413962348",f.ResetDigital],["138413454348",
f.ResetDigital],["138413351039",f.ResetDigital],["138413346701",f.ResetDigital],["138413346611",f.ResetDigital],["138413169413",f.ResetDigital]];this._pubId="118";this._displaySet=new Set("Below_Post Content Content_1 Content_2 Content_3 Content_4 Content_5 Content_6 Content_7 Content_8 Content_9 Footer_1 Header_1 Header_2 Recipe_1 Recipe_2 Recipe_3 Recipe_4 Recipe_5 Sidebar_1 Sidebar_2 Sidebar_3 Sidebar_4 Sidebar_5 Sidebar_9 Video_StickyOutstream_1".split(" "));this._videoSet=new Set([x.Video_Coll_SOff_Smartphone,
x.Video_Collapse_Autoplay_SoundOff,x.Video_In_Post_ClicktoPlay_SoundOn,x.Video_Individual_Autoplay_SOff])}get enabled(){return this._config.partners.display.get(f.ResetDigital)}get videoEnabled(){return this._config.partners.video.get(f.ResetDigital)}getSlotBidRequests(a){if(this._displaySet.has(a.placementMapName))return a=a.id.split("_").slice(0,-1).join(""),[{bidder:this.name,params:{pubId:this._pubId,zoneId:a}}]}getVideoSlotBidRequests(a){if(this._videoSet.has(a.name))return a=`Adthrive${a.name}`.split("_").join(""),
[{bidder:this.name,params:{pubId:this._pubId,zoneId:a}}]}};Xf=l([n("ResetDigitalBidder"),t(),k("design:paramtypes",[y])],Xf);let Yf=class extends X{constructor(a){super();this._config=a;this.bidderConfig=this._config.partners.getBidderConfig(f.Roundel);this.adapterName=f.IndexExchange;this.videoCreativeIds=[["138323538893",f.Roundel],["138323592675",f.Roundel],["138323592663",f.Roundel],["138323592660",f.Roundel],["138323983633",f.Roundel],["138323970739",f.Roundel],["138323983639",f.Roundel],["138323592699",
f.Roundel],["138323592672",f.Roundel],["138323983636",f.Roundel],["138323970742",f.Roundel],["138323592693",f.Roundel],["138323592696",f.Roundel],["138323592690",f.Roundel],["138323592687",f.Roundel],["138323592684",f.Roundel]];this._params={siteId:"377190"};this._map=new Map([["Below_Post",[{size:[728,90]},{size:[300,250]}]],["Content_1",[{size:[728,90]},{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Content_2",[{size:[728,90]},{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Content_3",
[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Content_4",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Content_5",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Content_6",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Content_7",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Content_8",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Content_9",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Header_1",[{size:[728,90]},{size:[970,250]},{size:[320,50]},
{size:[300,50]}]],["Header_2",[{size:[728,90]},{size:[970,250]},{size:[320,50]},{size:[300,50]}]],["Footer_1",[{size:[728,90]},{size:[970,90]},{size:[320,50]},{size:[320,100]},{size:[300,50]}]],["Recipe_1",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Recipe_2",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Recipe_3",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Recipe_4",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Sidebar_1",[{size:[300,250]},{size:[300,600]},{size:[160,
600]}]],["Sidebar_2",[{size:[300,250]},{size:[300,600]},{size:[160,600]}]],["Sidebar_3",[{size:[300,250]},{size:[300,600]},{size:[160,600]}]],["Sidebar_4",[{size:[300,250]},{size:[300,600]},{size:[160,600]}]],["Sidebar_5",[{size:[300,250]},{size:[300,600]},{size:[160,600]}]],["Sidebar_9",[{size:[300,250]},{size:[300,600]},{size:[160,600]}]]]);this._videoMap=new Map([[x.Video_Collapse_Autoplay_SoundOff,[{size:[640,360],siteId:"485376",device:"desktop"}]],[x.Video_Coll_SOff_Smartphone,[{size:[400,225],
siteId:"485377",device:"mobile"}]],[x.Video_In_Post_ClicktoPlay_SoundOn,[{size:[640,360],siteId:"485380",device:"desktop"},{size:[400,225],siteId:"485381",device:"mobile"}]],[x.Video_Individual_Autoplay_SOff,[{size:[640,360],siteId:"485378",device:"desktop"},{size:[400,225],siteId:"485379",device:"mobile"}]]]);this._playbackmethodMap=new Map([[3,[3]],[6,[2]]])}get enabled(){return this._config.partners.display.get(f.Roundel)}getSlotBidRequests(a){if(this._map.has(a.placementMapName))return this._map.get(a.placementMapName).filter(({size:b})=>
a.hasSize(b)).map(({size:b})=>({bidder:this.name,...(a.viewability<this._config.marmalade.hvThreshold?{labelAny:["refresh"]}:{}),params:{...this._params,size:b}}))}getVideoSlotBidRequests(a){var b;if(this._videoMap.has(a.name)){let c=qa()?"desktop":"mobile",d=this._videoMap.get(a.name).filter(e=>e.device===c).map(({...e})=>e)[0];return[{bidder:this.name,params:{...d,video:{mimes:this._config.video.mimeType,...((null===(b=this._config.video.playbackmethod)||void 0===b?void 0:b.get(a.name))&&{playbackmethod:this._playbackmethodMap.get(this._config.video.playbackmethod.get(a.name)[0])}),
api:this._config.video.apiValue,minduration:0,maxduration:30,protocols:this._config.video.videoProtocols.protocols}}}]}}};Yf=l([n("RoundelBidder"),t(),k("design:paramtypes",[y])],Yf);let Zf=class extends ea{init(){this._key="rtbf";this._default=!1}};Zf=l([n("RtbHouseExperiment"),p()],Zf);let $f=class extends X{constructor(a,b){super();this._config=a;this._rtbHouseExperiment=b;this.bidderConfig=this._config.partners.getBidderConfig(f.Rtbhouse);this.gvlid=16;this._device=Q()?"mobile":"desktop";this._map=
new Set("Below_Post Content_1 Content_2 Content_3 Content_4 Content_5 Content_6 Content_7 Content_8 Content_9 Footer_1 Header_1 Header_2 Recipe_1 Recipe_2 Recipe_3 Recipe_4 Recipe_5 Sidebar_1 Sidebar_2 Sidebar_3 Sidebar_4 Sidebar_5 Sidebar_9".split(" "))}get enabled(){let a=this._config;return this._rtbHouseExperiment.result&&"desktop"===this._device&&a.context.fledgeSupported&&a.partners.display.get(f.Rtbhouse)}getSlotBidRequests(a){if(this._map.has(a.placementMapName))return[{bidder:this.name,params:{publisherId:"puHY4pgB9FOPeQBYYZEM",
region:"prebid-us"}}]}};$f=l([n("RtbHouseBidder"),t(),k("design:paramtypes",[y,Zf])],$f);let ag=class extends X{constructor(a,b){super();this._config=a;this._rubiconExperiment=b;this.bidderConfig=this._config.partners.getBidderConfig(f.Rubicon);this.adapterName=f.Rubicon;this.serverBidderName=f.RubiconServer;this.gvlid=52;this.videoCreativeIds=[["138323536473",f.Rubicon],["138323540955",f.Rubicon],["138323540961",f.Rubicon],["138323540964",f.Rubicon],["138323929606",f.Rubicon],["138323480624",f.Rubicon],
["138323536455",f.Rubicon],["138323540856",f.Rubicon],["138323929612",f.Rubicon],["138323480642",f.Rubicon],["138323929516",f.Rubicon],["138323480600",f.Rubicon],["138323480636",f.Rubicon],["138323536467",f.Rubicon],["138323926693",f.Rubicon],["138323536476",f.Rubicon]];this.videoServerCreativeIds=[["138323542002",f.RubiconServer],["138323932663",f.RubiconServer],["138323544525",f.RubiconServer],["138323932642",f.RubiconServer],["138323544531",f.RubiconServer],["138323544528",f.RubiconServer],["138323932765",
f.RubiconServer],["138323932768",f.RubiconServer],["138323932852",f.RubiconServer],["138323932855",f.RubiconServer],["138323544354",f.RubiconServer],["138323932858",f.RubiconServer],["138323544357",f.RubiconServer],["138323544339",f.RubiconServer],["138323932672",f.RubiconServer],["138323932669",f.RubiconServer]];this._bidders=[];this._map=new Map([["Below_Post",{client:881394,server:1974272}],["Content_1",{client:881398,server:1974276}],["Content_2",{client:881400,server:1974280}],["Content_3",{client:881402,
server:1974282}],["Content_4",{client:881404,server:1974284}],["Content_5",{client:881406,server:1974286}],["Content_6",{client:881408,server:1974288}],["Content_7",{client:881410,server:1974290}],["Content_8",{client:881412,server:1974292}],["Content_9",{client:881414,server:1974294}],["Footer_1",{client:881416,server:1974296}],["Header_1",{client:881422,server:1974304}],["Header_2",{client:881426,server:1974306}],["Interstitial_1",{client:1979348,server:1979354}],["Recipe_1",{client:881428,server:1974308}],
["Recipe_2",{client:881430,server:1974310}],["Recipe_3",{client:1187188,server:1974312}],["Recipe_4",{client:1279328,server:1974314}],["Sidebar_1",{client:881440,server:1974316}],["Sidebar_2",{client:881454,server:1974318}],["Sidebar_3",{client:881460,server:1974320}],["Sidebar_4",{client:881462,server:1974322}],["Sidebar_5",{client:881466,server:1974324}],["Sidebar_9",{client:881478,server:1974332}],["Video_StickyOutstream_1",{client:2150398,server:2384630}],[x.Video_Collapse_Autoplay_SoundOff,{client:1259006,
server:2055644}],[x.Video_Coll_SOff_Smartphone,{client:1259010,server:2055648}],[x.Video_In_Post_ClicktoPlay_SoundOn,{client:1259008,server:2055642}],[x.Video_Individual_Autoplay_SOff,{client:1506800,server:2055646}]]);a="both"===this._rubiconExperiment.result||"client"===this._rubiconExperiment.result;this._config.prebid.s2s.bidders.includes(f.RubiconServer)&&this._bidders.push({name:this.serverBidderName,type:"server"});a&&this._bidders.push({name:this.name,type:"client"})}getDisplayParams(a,b){let c=
{server:363698,client:180726},d={server:420534,client:386004};return{accountId:9262,siteId:"Video_StickyOutstream"===b?d[a]:c[a],...("Video_StickyOutstream"===b&&{video:{language:"en"}})}}getVideoParams(a){return{accountId:9262,siteId:{server:375144,client:253996}[a],video:{language:"en"}}}get enabled(){return this._config.partners.display.get(f.Rubicon)}get videoEnabled(){return this._config.partners.video.get(f.Rubicon)}getSlotBidRequests(a){if(this._map.has(a.placementMapName))return this._bidders.map(b=>
({bidder:b.name,params:{...this.getDisplayParams(b.type,a.location),zoneId:this._map.get(a.placementMapName)[b.type],...(a.isHighlyViewable()&&{position:"atf"})}}))}getVideoSlotBidRequests(a){if(this._map.has(a.name))return this._bidders.map(b=>({bidder:b.name,params:{...this.getVideoParams(b.type),zoneId:this._map.get(a.name)[b.type]}}))}updateBidParams(a){this._addPositionParam(a,"atf")}};ag=l([n("RubiconBidder"),t(),k("design:paramtypes",[y,Ib])],ag);let Oj=new Map([["Below_Post",[{size:[300,250],
pkey:"7SbWFfJm2dn10YEIuTIpKDME"},{size:[728,90],pkey:"rcC1EVV27zshgwZefZtMMbQH"},{size:[320,50],pkey:"T7Qor0zFsfzE8d0WArpJPwQX"},{size:[336,280],pkey:"WoVFJAUvQg9oowjifOQLhHfb"}]],["Content_1",[{size:[300,250],pkey:"Hqhk8OQEu54TMfika2qbQjZe"},{size:[728,90],pkey:"Abg2OePLqx4qSJsbvcMFeKMd"},{size:[320,50],pkey:"nlcvbONm7a7qbEq1CUb60bDG"},{size:[336,280],pkey:"ygZ1JVS7p7SMDBgz7ueGgfVr"},{size:[300,50],pkey:"9kDU40A4BJXchR7ikuWND5Ui"}]],["Content_2",[{size:[300,250],pkey:"h28JMhou2Lu9BYHVipYoXuJC"},
{size:[320,50],pkey:"jdumKQjHDTttqY113Cyf8Dg5"},{size:[728,90],pkey:"zXUbUzaRyn8LyqVmiSSGFcf5"},{size:[300,50],pkey:"D3MXJwPThTgUD48ESouRejcn"},{size:[336,280],pkey:"ocdg6DMXhAfaTk7KgImuPCPi"}]],["Content_3",[{size:[300,250],pkey:"BFOY9pnh071TtzOy9lBjIr2i"},{size:[320,50],pkey:"96aXzW1FyE1LlnVyOMYuFW7x"},{size:[728,90],pkey:"HhDmPHv4VTNzHzcG65kBlpS0"},{size:[300,50],pkey:"JQXmRwXj1jOjHCQF8ufXkKIJ"}]],["Content_4",[{size:[300,250],pkey:"GA7GQONt3evAWTb7QFsfr4kT"},{size:[320,50],pkey:"iN7VUlNOwy5Nem9ve7HCjt1O"},
{size:[728,90],pkey:"WlK6M3BJTYR6CKgtW4fpeWwc"},{size:[300,50],pkey:"7DEh5436UHnmeKGzVXQVsvRk"}]],["Content_5",[{size:[300,250],pkey:"ZKk36rd21PTfmO81jIh4Yogg"},{size:[320,50],pkey:"Dc9sjnVcwjTK2iG3wYmqLveY"},{size:[728,90],pkey:"wuq8OFVQSXj9rmtUlnLo57Tm"},{size:[300,50],pkey:"ZWVmSVe4txKlxxCQoqMcGIus"}]],["Content_6",[{size:[300,250],pkey:"1rWi9eEX25aaJTBP0gYbRZkI"},{size:[320,50],pkey:"xpvziI7Hx5t9ZYEhjNh559PS"},{size:[728,90],pkey:"NCS2KzLcAOxlnkaJ4xjxF0yY"},{size:[300,50],pkey:"T3CRI7sep8LYNDkOrvgSZUPQ"}]],
["Content_7",[{size:[300,250],pkey:"UyoEFm2doVvp7106fNDYQWUD"},{size:[320,50],pkey:"TaEN9LCRL7njBnuDdcqFl45i"},{size:[728,90],pkey:"F9qCCjLusYbKBOeMYwTpuEPE"},{size:[300,50],pkey:"T4LKxfIKZJCqFzBemjae6MGu"}]],["Content_8",[{size:[300,250],pkey:"Kx7r3bEMtM8oX76sHwPJmKc0"},{size:[320,50],pkey:"yFU6LWetkGsn5PDQKYT2IDsb"},{size:[728,90],pkey:"SzRqozC7KE5CHZ5X0MYolGNg"},{size:[300,50],pkey:"TIHmP6MqapPY4RpbkOm3pYpV"}]],["Content_9",[{size:[300,250],pkey:"ME02OxIG42MNrqtEtkRcC3WI"},{size:[320,50],pkey:"FZAEaVzZWYVTEcRNmWJmjUXB"},
{size:[728,90],pkey:"d2Rjluzn2K59G2BS6dcOSTnQ"},{size:[300,50],pkey:"mBGMr6mqftj8c2qcQky6UjEB"}]],["Footer_1",[{size:[728,90],pkey:"3B3mEOFlqzWznInsydJTcOM4"},{size:[320,50],pkey:"D7FU4vgB3xSrSUsE8x941axF"},{size:[300,50],pkey:"GNY9gDQKzEGt6Tlb13yLfmuX"},{size:[970,90],pkey:"QpPUq12xurb2uH4eesPfZAHF"},{size:[320,100],pkey:"B1C8tQAkMN7kpCuxh1hW6CY8"}]],["Header_1",[{size:[728,90],pkey:"gEiCP252abCex8X60QDCQ18Q"},{size:[320,50],pkey:"1edt8nVrdCirRPclWUszxTkp"},{size:[970,250],pkey:"8vU2bELnZC87m9GLY6XrB82g"},
{size:[300,50],pkey:"hjIoNE7R9iO7fInGsX0iibTz"},{size:[300,250],pkey:"jStKXZxN8Ccuf6XS4dKqhKr9"},{size:[970,90],pkey:"InTyYn8hF3Qs7LnzMuZosUTQ"}]],["Header_2",[{size:[728,90],pkey:"qJiJRp6ukhtMyrprTZKHjL2M"},{size:[320,50],pkey:"8FmqCiT44WYjSNLDf1gQE8JU"},{size:[300,250],pkey:"HkFfwTqoieNv9hxPhJKPKoX8"},{size:[970,250],pkey:"NwtHSBVFWxfm6Yh7UeCfuHa6"},{size:[300,50],pkey:"4kwwuV84b6KhCJQy0yjDYdfl"},{size:[320,100],pkey:"TJx2N6gevlYeFawnBbRy4gRl"}]],["Recipe_1",[{size:[300,250],pkey:"uf0lKHKQpMCXGy4lxiCspQq7"},
{size:[320,50],pkey:"lklI3sAvIozfaIGNQGORtPOR"},{size:[300,50],pkey:"yiehMO6LI3FNHjbCPIb1L3Sk"},{size:[250,250],pkey:"LyZ0FEa1r0IYt8G2ZZsZi389"}]],["Recipe_2",[{size:[300,250],pkey:"k3diT2fkJ9qUBWQussCusqH3"},{size:[320,50],pkey:"nWhVYiRycgz0snwL4hTcS3vA"},{size:[300,50],pkey:"dq7FbogqyhCRRIH60EEOqCSU"},{size:[250,250],pkey:"yiWtNVya1yOMCncI5pNF5kc5"}]],["Recipe_3",[{size:[300,250],pkey:"43441FPoOkNSE3t2cVABWnsj"},{size:[320,50],pkey:"XTsNJ5wTa3CksG40rnRNHiib"},{size:[300,50],pkey:"OogAcgEwqjMqWmbuSN0n1fhg"},
{size:[250,250],pkey:"t9D4xPUErCl21pJOFQemQp9h"}]],["Recipe_4",[{size:[300,250],pkey:"DYIoV5pkMmf8Dh6Z328lJjVS"},{size:[320,50],pkey:"00kJPcqve45ZTYX6hicr37iK"},{size:[300,50],pkey:"BpO7D8zDzdyGmFUOGNcRhUUm"},{size:[300,600],pkey:"xv9dO3gYMP1nJKg1FZVtIUlc"}]],["Sidebar_1",[{size:[300,250],pkey:"CrsU69OOlLRE1gDlLVGWIIV6"},{size:[300,600],pkey:"3pyeQzDRiW84Hg8gNrOq7BUr"},{size:[160,600],pkey:"CFUyMykS3nc38kL2GnT0S7E4"},{size:[320,50],pkey:"1BptSVedVseFELcEHmSjZmDr"},{size:[300,50],pkey:"2pg9IZthU4rVlb45qoI2081a"}]],
["Sidebar_2",[{size:[300,250],pkey:"SRG5uYvQkWqlTzkqgXr65zTB"},{size:[300,600],pkey:"Ean6FEKv8T4dKoDEQtgf6J5K"},{size:[160,600],pkey:"WbYPSpMSXQPKyD7MaH1Qc5z7"},{size:[320,50],pkey:"TAk15aJmBw3jMFoV9vSYYWLl"},{size:[300,50],pkey:"9w6UD5z59ooQWpW98mmpv0mD"}]],["Sidebar_3",[{size:[300,250],pkey:"ePJzx8Sm7N35TzihmA98puiL"},{size:[160,600],pkey:"P4EOkxn1ZtpxOxx2lahCdYOJ"},{size:[300,600],pkey:"6mOPwEqEtbkwuuzizUPzdQhN"},{size:[320,50],pkey:"oSwBRQCb6174NZ0wDEyxZW9E"},{size:[300,50],pkey:"LImddo0cIDhlsk6dkvMaHxsW"}]],
["Sidebar_4",[{size:[300,250],pkey:"xVf5XsMi0sHZYN4WvjiFhCt3"},{size:[300,600],pkey:"WH8DfDE6oJYbphu2nD4xxeIV"},{size:[160,600],pkey:"8ZBBtdUqKqArOUPgW7bpiUia"},{size:[320,50],pkey:"UMKQPvhCYMOH1sOPVdYEDEQt"},{size:[300,50],pkey:"UoweNgEnjfmpxKoHzSXkuoWg"}]],["Sidebar_5",[{size:[300,250],pkey:"EhtNcAaPOBeM8QI5ypGM7lZy"},{size:[160,600],pkey:"zAOUkIaCHmzOCw2Ma5rrzaql"},{size:[300,600],pkey:"LDMKwAfNFjGKWXL0OWKksknT"},{size:[320,50],pkey:"WdPWJ92IfPqKgO5vRXvlsDO4"},{size:[300,50],pkey:"MgyTpbqDa5nWNz6aDNWyucFn"}]],
["Sidebar_9",[{size:[300,250],pkey:"JmiI0R5Mw4cFlLp9pgaem31E"},{size:[300,600],pkey:"IoYC7dL9wONQvhjMnu3iqP3R"},{size:[160,600],pkey:"np3Ol8PXscn2cbaUcrthhTKg"},{size:[320,50],pkey:"Cd46ns56pySxsSXXdRi3KlYq"},{size:[300,50],pkey:"k8W1t71k8qmkYsiK4v3pop6j"},{size:[250,250],pkey:"qINMbG0pc3n9CO2oIW1qxWGE"}]],["Video_StickyOutstream_1",[{size:[300,250],pkey:"qKjlCz8NOStHzB15G18scbgS"},{size:[320,50],pkey:"qKjlCz8NOStHzB15G18scbgS"}]]]),Sl=new Map([[x.Video_Collapse_Autoplay_SoundOff,[{size:[640,360],
pkey:"I5VjN89qESPMegBdpCt92W8S"}]],[x.Video_Coll_SOff_Smartphone,[{size:[400,225],pkey:"iZXbFkwkNrOgpI7ue8o3mJda"}]],[x.Video_In_Post_ClicktoPlay_SoundOn,[{size:[640,360],pkey:"sMLWZBQNa6GaKC2khQiIg5Tj"},{size:[400,225],pkey:"yHkEhAMj24ubV101Fklbp6fA"}]],[x.Video_Individual_Autoplay_SOff,[{size:[640,360],pkey:"GCV9Do84nDBEFaVjb507H4iE"},{size:[400,225],pkey:"6lY8mDlZX6W7ijhbh6OuDCfj"}]]]),bg=class extends X{constructor(a){super();this._config=a;this.bidderConfig=this._config.partners.getBidderConfig(f.Sharethrough);
this.videoCreativeIds=[["138377683089",f.Sharethrough],["138377670131",f.Sharethrough],["138377670158",f.Sharethrough],["138377670173",f.Sharethrough],["138378141751",f.Sharethrough],["138377670161",f.Sharethrough],["138377670167",f.Sharethrough],["138377670170",f.Sharethrough],["138377670209",f.Sharethrough],["138377670212",f.Sharethrough],["138377670224",f.Sharethrough],["138377669645",f.Sharethrough],["138377670218",f.Sharethrough],["138377670221",f.Sharethrough],["138378141754",f.Sharethrough],
["138377670215",f.Sharethrough]]}get enabled(){return this._config.partners.display.get(f.Sharethrough)}get videoEnabled(){return this._config.partners.video.get(f.Sharethrough)}getSlotBidRequests(a){if(Oj.has(a.placementMapName))return Oj.get(a.placementMapName).filter(({size:b})=>a.hasSize(b)).map(({pkey:b})=>({bidder:this.name,params:{pkey:b}}))}getVideoSlotBidRequests(a){return Sl.get(a.name).filter(({size:b})=>a.size[0]===b[0]&&a.size[1]===b[1]).map(({pkey:b})=>({bidder:this.name,params:{pkey:b}}))}};
bg=l([n("SharethroughBidder"),t(),k("design:paramtypes",[y])],bg);let cg=class extends X{constructor(a,b){super();this._config=a;this._irisTv=b;this.bidderConfig=this._config.partners.getBidderConfig(f.Spotx);this.videoCreativeIds=[["138303907026",f.Spotx],["138323929600",f.Spotx],["138323929594",f.Spotx],["138323536461",f.Spotx],["138323929603",f.Spotx],["138323929507",f.Spotx],["138323536458",f.Spotx],["138323536449",f.Spotx],["138323929591",f.Spotx],["138323537142",f.Spotx],["138323929621",f.Spotx],
["138323536452",f.Spotx],["138323540958",f.Spotx],["138323929459",f.Spotx],["138323929522",f.Spotx],["138323929618",f.Spotx],["138317573432",f.Spotx],["138303907368",f.Spotx],["138303940541",f.Spotx],["138303941144",f.Spotx],["138304289827",f.Spotx],["138303907377",f.Spotx],["138303935663",f.Spotx],["138303940901",f.Spotx],["138303941138",f.Spotx],["138303941153",f.Spotx],["138304290448",f.Spotx],["138303941135",f.Spotx],["138303941147",f.Spotx],["138303941156",f.Spotx],["138304290445",f.Spotx],["138303941141",
f.Spotx]];this._videoParams={ad_unit:"instream",secure:!0,mimes:this._config.video.mimeType,position:this._config.video.position.id};this._map=new Map([[x.Video_Collapse_Autoplay_SoundOff,279547],[x.Video_Coll_SOff_Smartphone,279549],[x.Video_In_Post_ClicktoPlay_SoundOn,279548],[x.Video_Individual_Autoplay_SOff,279550]])}get videoEnabled(){return this._config.partners.video.get(f.Sharethrough)}getVideoSlotBidRequests(a){if(this._map.has(a.name)){let b=this._irisTv.irisContextualData,c=this._irisTv.irisId,
d=c&&b&&b.length;return[{bidder:this.name,params:{...this._videoParams,channel_id:this._map.get(a.name),...(d&&{custom:{iris_context:b,iris_id:c}})}}]}}};cg=l([n("SpotXBidder"),t(),k("design:paramtypes",[y,$a])],cg);let dg=class extends X{constructor(a,b){super();this._config=a;this._mediaType=b;this.bidderConfig=this._config.partners.getBidderConfig(f.Teads);this._pageId=112062;this._adTypeBitIndexMap=new Map([["outstream",{adType:Q()?"outstreamMobile":"outstreamDesktop",index:1}],["miniscroller",
{adType:"miniscroller",index:2}],["interscroller",{adType:"interscroller",index:3}]]);this._adUnitsMap=new Map([["Below_Post",[]],["Content_1",["outstreamDesktop","outstreamMobile","miniscroller","interscroller"]],["Content_2",["miniscroller","interscroller"]],["Content_3",["outstreamDesktop","outstreamMobile","miniscroller","interscroller"]],["Content_4",["miniscroller","interscroller"]],["Content_5",["outstreamDesktop","outstreamMobile","miniscroller","interscroller"]],["Content_6",["miniscroller",
"interscroller"]],["Content_7",["miniscroller","interscroller"]],["Content_8",["miniscroller","interscroller"]],["Content_9",["miniscroller","interscroller"]],["Footer_1",[]],["Header_1",[]],["Header_2",[]],["Recipe_1",["outstreamDesktop","outstreamMobile","miniscroller"]],["Recipe_2",["miniscroller"]],["Recipe_3",["miniscroller"]],["Recipe_4",["miniscroller"]],["Sidebar_1",[]],["Sidebar_2",[]],["Sidebar_3",[]],["Sidebar_4",[]],["Sidebar_5",[]],["Sidebar_9",[]]]);this._deviceAdTypes={mobile:["outstreamMobile",
"interscroller","miniscroller"],desktop:["outstreamDesktop"]};this._placementIdMap=new Map([["1000",{id:121842}],["1001",{id:121836}],["1010",{id:121835}],["1011",{id:121840}],["1100",{id:121834}],["1101",{id:121838}],["1110",{id:121837}],["1111",{id:121895}]])}get enabled(){return this._config.partners.display.get(f.Teads)}lazyActiveTypes(a,b){if(!a.lazy)return!1;let c=["interscroller","miniscroller"];return["Content","Recipe","Below_Post"].includes(a.location)&&c.includes(b)}createBitArrayAdOptions(a){let b=
Q()?this._deviceAdTypes.mobile:this._deviceAdTypes.desktop,c=["1","0","0","0"],d=this._adUnitsMap.get(a.placementMapName);this._adTypeBitIndexMap.forEach((e,g)=>{let h=e.adType;b.includes(h)&&this._config.adTypes.has(h)&&(d.includes(h)||this.lazyActiveTypes(a,h))&&(c[e.index]="outstream"===g?this._mediaType.outstreamEnabled(a).currentlyActive?"1":"0":"1")});return c}getSlotBidRequests(a){if(this._adUnitsMap.has(a.placementMapName))return a=this.createBitArrayAdOptions(a),a=this._placementIdMap.get(a.join("")),
[{bidder:this.name,params:{placementId:a.id,pageId:this._pageId}}]}updateBidParams(a,b){b=this.createBitArrayAdOptions(b);b=this._placementIdMap.get(b.join(""));this._addPlacementIdParam(a,b.id)}};dg=l([n("TeadsBidder"),t(),k("design:paramtypes",[y,za])],dg);let eg=class extends X{constructor(a,b,c){super();this._config=a;this._tripleLiftExperiment=b;this._mediaType=c;this.bidderConfig=this._config.partners.getBidderConfig(f.Triplelift);this.adapterName=f.Triplelift;this.serverBidderName=f.TripleliftServer;
this.gvlid=28;this.videoCreativeIds=[["138323510289",f.Triplelift],["138323472959",f.Triplelift],["138323472731",f.Triplelift],["138323472671",f.Triplelift],["138323472641",f.Triplelift],["138323473061",f.Triplelift],["138323473058",f.Triplelift],["138323473019",f.Triplelift],["138323473016",f.Triplelift],["138323472986",f.Triplelift],["138323472734",f.Triplelift],["138323473064",f.Triplelift],["138323473055",f.Triplelift],["138323472728",f.Triplelift],["138323472674",f.Triplelift],["138323472737",
f.Triplelift],["138326649881",f.Triplelift],["138326691825",f.Triplelift],["138326691828",f.Triplelift],["138326691831",f.Triplelift],["138326691834",f.Triplelift],["138326691837",f.Triplelift],["138326691840",f.Triplelift],["138326691843",f.Triplelift],["138326691846",f.Triplelift],["138326691783",f.Triplelift],["138326691786",f.Triplelift],["138326691789",f.Triplelift],["138326691792",f.Triplelift],["138326691753",f.Triplelift],["138326691756",f.Triplelift],["138326691570",f.Triplelift]];this.videoServerCreativeIds=
[["138348653814",f.TripleliftServer],["138348654438",f.TripleliftServer],["138349054156",f.TripleliftServer],["138349054168",f.TripleliftServer],["138349054201",f.TripleliftServer],["138348654432",f.TripleliftServer],["138348654444",f.TripleliftServer],["138349054186",f.TripleliftServer],["138349054204",f.TripleliftServer],["138349054210",f.TripleliftServer],["138349054435",f.TripleliftServer],["138349054189",f.TripleliftServer],["138349054207",f.TripleliftServer],["138349054426",f.TripleliftServer],
["138349054429",f.TripleliftServer],["138349054432",f.TripleliftServer]];this._serverEnabled=this._clientEnabled=!1;this.settings={adserverTargeting:[{key:"hb_format",val:({meta:d,tl_source:e})=>d&&d.mediaType||this.tlSourceMap.get(e||"")}]};this.tlSourceMap=new Map([["hdx","banner"],["tlx","native"]]);this._verticalCategoryMap=new Map([["Baby","family"],["Family and Parenting","family"],["Natural Parenting","family"],["Pregnancy","family"],["Toddler","family"],["Personal Finance","finance"],["Professional Finance",
"finance"],["Deals","finance"],["Clean Eating","food"],["Food","food"],["Crafts","home"],["Gardening","home"],["Green Living","home"],["Home Decor and Design","home"],["Pets","home"],["Travel","travel"],["News","news"],["Lifestyle","lifestyle"],["Beauty","lifestyle"],["Other","lifestyle"],["Health and Fitness","health"],["Entertainment","entertainment"],["Sports","sports"],["Womens Style","womensstyle"],["Mens Style and Grooming","mensstyle"],["Tech","tech"],["Wedding","wedding"],["Auto","auto"]]);
this._categoryPriorityList=new Set("food home family finance travel news health entertainment sports womensstyle mensstyle tech wedding auto lifestyle".split(" "));this._category=B(this.getCategory(),"lifestyle");this._map=new Map([["Interstitial_1",[]],["Below_Post",[]],["Content_1",["nativeMobileContent","nativeDesktopContent"]],["Content_2",["nativeMobileContent","nativeDesktopContent"]],["Content_3",["nativeMobileContent","nativeDesktopContent"]],["Content_4",["nativeMobileContent","nativeDesktopContent"]],
["Content_5",["nativeMobileContent","nativeDesktopContent"]],["Content_6",["nativeMobileContent","nativeDesktopContent"]],["Content_7",["nativeMobileContent","nativeDesktopContent"]],["Content_8",["nativeMobileContent","nativeDesktopContent"]],["Content_9",["nativeMobileContent","nativeDesktopContent"]],["Footer_1",[]],["Header_1",[]],["Header_2",[]],["Recipe_1",["nativeMobileRecipe","nativeDesktopRecipe"]],["Recipe_2",["nativeMobileRecipe","nativeDesktopRecipe"]],["Recipe_3",["nativeMobileRecipe",
"nativeDesktopRecipe"]],["Recipe_4",["nativeMobileRecipe","nativeDesktopRecipe"]],["Recipe_5",["nativeMobileRecipe","nativeDesktopRecipe"]],["Sidebar_1",["nativeDesktopSidebar"]],["Sidebar_2",["nativeDesktopSidebar"]],["Sidebar_3",["nativeDesktopSidebar"]],["Sidebar_4",["nativeDesktopSidebar"]],["Sidebar_5",["nativeDesktopSidebar"]],["Sidebar_9",["nativeDesktopSidebar"]],["Video_StickyOutstream_1",[]]]);this._videoMap=new Map([[x.Video_Collapse_Autoplay_SoundOff,{client:"AdThriveRON_instream_desktopcollapse_prebid_c2s",
server:"AdThriveRON_instream_desktopcollapse_prebid"}],[x.Video_Coll_SOff_Smartphone,{client:"AdThriveRON_instream_mwebsticky_prebid_c2s",server:"AdThriveRON_instream_mwebsticky_prebid"}],[x.Video_In_Post_ClicktoPlay_SoundOn,{client:"AdThriveRON_instream_CTP_prebid_c2s",server:"AdThriveRON_instream_CTP_prebid"}],[x.Video_Individual_Autoplay_SOff,{client:"AdThriveRON_instream_contextcollapse_prebid_c2s",server:"AdThriveRON_instream_contextcollapse_prebid"}]]);this._deviceAdTypes={mobile:["nativeMobileContent",
"nativeMobileRecipe"],desktop:["nativeDesktopContent","nativeDesktopRecipe","nativeDesktopSidebar"]};this._clientEnabled="both"===this._tripleLiftExperiment.result||"client"===this._tripleLiftExperiment.result;this._serverEnabled=this._config.prebid.s2s.bidders.includes(f.TripleliftServer)}get enabled(){return this._config.partners.display.get(f.Triplelift)}get videoEnabled(){return this._config.partners.video.get(f.Triplelift)}getSlotBidRequests(a){let b=(Q()?this._deviceAdTypes.mobile:this._deviceAdTypes.desktop).filter(c=>
this._config.adTypes.has(c));if(this._map.has(a.placementMapName)){let c=[],d="Interstitial"===a.location?"interstitial":"standard";this._map.get(a.placementMapName).forEach(h=>{b.includes(h)&&(d=h)});let e=this.getInventoryCode(d,a),g=this.isOutstreamEligible(a);this._clientEnabled&&c.push({bidder:this.name,...this.getLabels(a.placementMapName,g),params:{inventoryCode:e}});this._serverEnabled&&c.push({bidder:this.serverBidderName,params:{inventoryCode:e+"_pbs2s"}});return c}}inventoryCodeAppend(a){return this.isOutstreamEligible(a)?
"_BV":""}isOutstreamEligible(a){return!1}getInventoryCode(a,b){var c=Q()?"mobile":"desktop";if("standard"===a)return c="Video_StickyOutstream_1"===b.placementMapName?`_${c}`:"",`adthrive_${("Below_Post"===b.placementMapName?"Below_Post_1":b.placementMapName).toLowerCase()}${c}_hdx`;if("interstitial"===a)return"adthriveron_interstitial_multisize";a="Content_1"===b.placementMapName||"Sidebar_9"===b.placementMapName?b.location.toLowerCase():b.placementMapName.toLowerCase().replace(/_(?!.*_)/,"");b=this.inventoryCodeAppend(b);
return`adthrive${this._category}_${a}_fixed_${c}${b}`}getVideoBidParams(a,b,c){var d,e;return{bidder:a,params:{inventoryCode:c,video:{...(qa()?{w:640,h:360}:{w:400,h:225}),api:this._config.video.apiValue,mimes:this._config.video.mimeType,...("all"===this._config.video.videoProtocols.scope&&{protocols:this._config.video.videoProtocols.protocols}),playbackmethod:null===(e=null===(d=this._config.video.playbackmethod)||void 0===d?void 0:d.get(b.name))||void 0===e?void 0:e[0],pos:this._config.video.position.id}}}}getVideoSlotBidRequests(a){let b=
[];this._videoMap.has(a.name)&&(this._clientEnabled&&b.push(this.getVideoBidParams(this.name,a,this._videoMap.get(a.name).client)),this._serverEnabled&&b.push(this.getVideoBidParams(this.serverBidderName,a,this._videoMap.get(a.name).server)));return b}getCategory(){let a=this._config.site.verticals.filter(b=>this._verticalCategoryMap.has(b)).map(b=>this._verticalCategoryMap.get(b));for(let b of this._categoryPriorityList)if(a.includes(b))return b}getLabels(a,b){let c=[];b&&c.push(`outstreamCapable_${a}`);
return c.length?{labelAny:c}:{}}};eg=l([n("TripleLiftBidder"),t(),k("design:paramtypes",[y,Kb,za])],eg);let fg=class extends X{constructor(a){super();this._config=a;this.bidderConfig=this._config.partners.getBidderConfig(f.TTD);this.videoCreativeIds=[["138323472896",f.TTD],["138323532681",f.TTD],["138323532645",f.TTD],["138323532675",f.TTD],["138323532678",f.TTD],["138323922211",f.TTD],["138323530488",f.TTD],["138323532606",f.TTD],["138323532648",f.TTD],["138323922202",f.TTD],["138323532672",f.TTD],
["138323922205",f.TTD],["138323922010",f.TTD],["138323922208",f.TTD],["138323532642",f.TTD],["138323921998",f.TTD]];this._device=this._config.context.device;this._set=new Set(["Below_Post","Content_1","Content_2","Content_3","Content_4","Content_5","Content_6","Content_7","Content_8","Content_9","Footer_1","Header_1","Recipe_1","Recipe_2","Recipe_3","Recipe_4","Sidebar_1","Sidebar_2","Sidebar_3","Sidebar_4","Sidebar_5","Sidebar_9","Video_StickyOutstream_1",x.Video_Collapse_Autoplay_SoundOff,x.Video_Coll_SOff_Smartphone,
x.Video_In_Post_ClicktoPlay_SoundOn,x.Video_Individual_Autoplay_SOff])}get enabled(){return this._config.partners.display.get(f.TTD)}get videoEnabled(){return this._config.partners.video.get(f.TTD)}getSlotBidRequests(a){if(this._set.has(a.placementMapName))return[{bidder:this.name,params:{publisherId:this._config.site.id,siteId:this._config.site.id,placementId:a.id.replace(new RegExp(`_${this._device}`),""),supplySourceId:"cafemedia"}}]}getVideoSlotBidRequests(a){if(this._set.has(a.name))return[{bidder:this.name,
params:{publisherId:this._config.site.id,siteId:this._config.site.id,placementId:`${a.name}`,supplySourceId:"cafemedia"}}]}};fg=l([n("TTDBidder"),t(),k("design:paramtypes",[y])],fg);let gg=class extends X{constructor(a){super();this._config=a;this.bidderConfig=this._config.partners.getBidderConfig(f.Undertone);this._params={publisherId:2002};this._deviceAdTypes={mobile:["animatedFooter","expandableFooter","interscroller","miniscroller"],desktop:[]};this._map=new Map([["Below_Post",[{placementId:"2002034",
size:[[1,2]],adType:"interscroller",highViewability:!0},{placementId:"2002035",size:[[1,2]],adType:"miniscroller",highViewability:!0},{placementId:"2002036",size:[[300,250]],highViewability:!0}]],["Content_1",[{placementId:"2002001",size:[[1,2]],adType:"interscroller"},{placementId:"2002002",size:[[1,2],[300,250],[728,90]]}]],["Content_2",[{placementId:"2002003",size:[[1,2],[300,250],[728,90]]}]],["Content_3",[{placementId:"2002004",size:[[1,2],[300,250],[728,90]]}]],["Content_4",[{placementId:"2002005",
size:[[1,2],[300,250],[728,90]]}]],["Content_5",[{placementId:"2002006",size:[[1,2]],adType:"miniscroller"}]],["Footer_1",[{placementId:"2002033",size:[[320,50]],adType:"expandableFooter"},{placementId:"2002038",size:[[1,1]],adType:"expandableFooter",mobileCollapsePlayer:!0},{placementId:"2002039",size:[[1,1]],adType:"animatedFooter"}]],["Header_1",[{placementId:"2002037",size:[[970,250]]}]],["Interstitial_1",[{placementId:"2002040",size:[[1,1]]}]],["Recipe_1",[{placementId:"2002020",size:[[300,250]]}]],
["Recipe_2",[{placementId:"2002021",size:[[300,250]]}]],["Recipe_3",[{placementId:"2002022",size:[[300,250]]}]],["Recipe_4",[{placementId:"2002023",size:[[300,250]]}]],["Sidebar_9",[{placementId:"2002032",size:[[300,250],[160,600],[300,600]]}]]])}get enabled(){return this._config.partners.display.get(f.Undertone)}getSlotBidRequests(a){let b=(Q()?this._deviceAdTypes.mobile:this._deviceAdTypes.desktop).filter(d=>this._config.adTypes.has(d)),c=d=>d.some(e=>a.hasSize(e));if(this._map.has(a.placementMapName))return this._map.get(a.placementMapName).filter(({adType:d,
mobileCollapsePlayer:e,size:g})=>(!d&&c(g)||d&&b.includes(d))&&(!e||!this._config.video.mobileStickyPlayerOnPage)).map(({placementId:d,size:e,highViewability:g,adType:h})=>({bidder:this.name,...(g&&a.viewability<this._config.marmalade.hvThreshold?{labelAny:["refresh"]}:{}),params:{...this._params,placementId:d,size:e.filter(m=>a.hasSize(m)||h&&b.includes(h))}}))}};gg=l([n("UndertoneBidder"),p(),k("design:paramtypes",[y])],gg);let hg=class extends X{constructor(a){super();this._config=a;this.adapterName=
f.Undertone;this.bidderConfig=this._config.partners.getBidderConfig(f.UndertoneServer);this.videoCreativeIds=[["138422425195",f.UndertoneServer],["138421771020",f.UndertoneServer],["138421771017",f.UndertoneServer],["138421771014",f.UndertoneServer],["138421761770",f.UndertoneServer],["138421761767",f.UndertoneServer],["138421761764",f.UndertoneServer],["138421761761",f.UndertoneServer]];this._params={publisherId:2002};this._videoMap=new Map([[x.Video_Collapse_Autoplay_SoundOff,{placementId:2002044}],
[x.Video_Coll_SOff_Smartphone,{placementId:2002045}],[x.Video_In_Post_ClicktoPlay_SoundOn,{placementId:2002046}],[x.Video_Individual_Autoplay_SOff,{placementId:2002047}]])}get videoEnabled(){return this._config.partners.video.get(f.UndertoneServer)}getVideoSlotBidRequests(a){if(this._videoMap.has(a.name))return[{bidder:this.name,params:{publisherId:this._params.publisherId,placementId:this._videoMap.get(a.name).placementId}}]}};hg=l([n("UndertoneServerBidder"),t(),k("design:paramtypes",[y])],hg);
let ig=class extends X{constructor(a,b){super();this._config=a;this._mediaType=b;this.bidderConfig=this._config.partners.getBidderConfig(f.Unruly);this._params={siteId:249232}}get enabled(){return this._config.partners.display.get(f.Unruly)}get videoEnabled(){return this._config.partners.video.get(f.Unruly)}getSlotBidRequests(a){if("Video_StickyOutstream"!==a.location)return[{bidder:this.name,params:{...this._params}}]}getVideoSlotBidRequests(){return[{bidder:this.name,params:{...this._params}}]}};
ig=l([n("UnrulyBidder"),t(),k("design:paramtypes",[y,za])],ig);let jg=class extends X{constructor(a){super();this._config=a;this.bidderConfig=this._config.partners.getBidderConfig(f.Verizon);this.adapterName="aol";this._params={dcn:Q()?"8a969d580177771bc13c2047d6290082":"8a9694d00177771bcae21c6941d30023"};this._desktopMap=new Map([["Content_1",[{size:[300,250],id:"8a969d580177771bc13c20458198007e"},{size:[728,90],id:"8a96918c0177771bc65220467ff60092"}]],["Content_2",[{size:[300,250],id:"8a96918c0177771bc652204531fe0091"}]],
["Content_3",[{size:[300,250],id:"8a9694d00177771bcae220463a710058"}]],["Footer_1",[{size:[728,90],id:"8a9694d00177771bcae21c6a7d880025"},{size:[970,90],id:"8a969d580177771bc13c2046cd280081"},{size:[320,50],id:"8a9694d00177771bcae2204408520056"}]],["Header_1",[{size:[728,90],id:"8a969d580177771bc13c2045cac4007f"}]],["Interstitial_1",[{size:[300,250],id:"8a969449017c7c9d384d9f8170b10066"},{size:[300,600],id:"8a969449017c7c9d384d9f80b9970064"},{size:[320,480],id:"8a969958017c7c9d2d8a9f812d360081"},
{size:[336,280],id:"8a969449017c7c9d384d9f80f2a20065"}]],["Sidebar_1",[{size:[300,250],id:"8a9694d00177771bcae2204449d80057"}]],["Sidebar_9",[{size:[320,50],id:"8a969d580177771bc13c2045ff6b0080"},{size:[300,600],id:"8a96918c0177771bc6522043c8540090"},{size:[160,600],id:"8a969d580177771bc13c2044ea91007d"},{size:[300,250],id:"8a96918c0177771bc6521c6b5f4e003f"}]],["Recipe_1",[{size:[300,250],id:"8a9694d00177771bcae21c6bc7e80027"}]],["Recipe_2",[{size:[300,250],id:"8a969d580177771bc13c2044ac08007c"}]]]);
this._mobileMap=new Map([["Content_1",[{size:[300,250],id:"8a969d580177771bc13c2048bd0e0085"},{size:[320,50],id:"8a969d580177771bc13c204b68670088"}]],["Content_2",[{size:[300,250],id:"8a96918c0177771bc652204877c50094"},{size:[320,50],id:"8a96918c0177771bc652204b257e0097"}]],["Content_3",[{size:[300,250],id:"8a96918c0177771bc6522048f24e0095"}]],["Content_4",[{size:[300,250],id:"8a9694d00177771bcae220497831005a"}]],["Content_5",[{size:[300,250],id:"8a969d580177771bc13c204a5f240087"}]],["Content_6",
[{size:[300,250],id:"8a9694d00177771bcae2204a9092005c"}]],["Footer_1",[{size:[320,100],id:"8a96918c0177771bc652204a27cb0096"},{size:[300,50],id:"8a9694d00177771bcae22049449a0059"},{size:[728,90],id:"8a9694d00177771bcae2204ad481005d"},{size:[320,50],id:"8a969d580177771bc13c20480cf50084"}]],["Interstitial_1",[{size:[300,250],id:"8a969161017c7c9d32879f82491c007d"},{size:[300,600],id:"8a969161017c7c9d32879f8195b3007c"},{size:[320,480],id:"8a969958017c7c9d2d8a9f81f2c50082"},{size:[336,280],id:"8a969449017c7c9d384d9f81c5660067"},
{size:[320,50],id:"8a969449017c7c9d384d9f8279950068"}]],["Recipe_1",[{size:[300,250],id:"8a96918c0177771bc6522048483a0093"}]],["Recipe_2",[{size:[300,250],id:"8a9694d00177771bcae22049e596005b"}]],["Recipe_3",[{size:[300,250],id:"8a969d580177771bc13c2049b47f0086"}]]]);this._map=Q()?this._mobileMap:this._desktopMap}get enabled(){return this._config.partners.display.get(f.Verizon)}getSlotBidRequests(a){if(this._map.has(a.placementMapName))return this._map.get(a.placementMapName).filter(({size:b})=>a.hasSize(b)).map(({id:b})=>
({bidder:this.name,params:{...this._params,...(this._config.site.filteredSensitiveCategories.length&&{ext:{sens:this._config.site.filteredSensitiveCategories}}),pos:b}}))}};jg=l([n("VerizonBidder"),t(),k("design:paramtypes",[y])],jg);let kg=class extends X{constructor(a,b){super();this._config=a;this._prebidMethods=b;this.bidderConfig=this._config.partners.getBidderConfig(f.YahooSSP);this.videoCreativeIds=[["138379204183",f.YahooSSP],["138378707447",f.YahooSSP],["138378707558",f.YahooSSP],["138378717711",
f.YahooSSP],["138378717726",f.YahooSSP],["138378706907",f.YahooSSP],["138378706928",f.YahooSSP],["138378707468",f.YahooSSP],["138378707561",f.YahooSSP],["138378717720",f.YahooSSP],["138378717783",f.YahooSSP],["138378707552",f.YahooSSP],["138378717723",f.YahooSSP],["138378717780",f.YahooSSP],["138378717786",f.YahooSSP],["138378707555",f.YahooSSP]];this._params={display:{dcn:Q()?"8a969d580177771bc13c2047d6290082":"8a9694d00177771bcae21c6941d30023"},video:{dcn:"8a969469017b7bdf59b2e07862af0281"}};this._videoMap=
new Map([[x.Video_Collapse_Autoplay_SoundOff,"8a96941a017e7e91c49492261bdf000c"],[x.Video_Coll_SOff_Smartphone,"8a9690ee017e7e91bee0922682f1000b"],[x.Video_In_Post_ClicktoPlay_SoundOn,"8a969951017e7e91ba38923576c20011"],[x.Video_Individual_Autoplay_SOff,"8a969951017e7e91ba389236dc470014"]]);this._displayMap={desktop:new Map([["Content_1",[{size:[300,250],id:"8a969d580177771bc13c20458198007e"},{size:[728,90],id:"8a96918c0177771bc65220467ff60092"}]],["Content_2",[{size:[300,250],id:"8a96918c0177771bc652204531fe0091"}]],
["Content_3",[{size:[300,250],id:"8a9694d00177771bcae220463a710058"}]],["Footer_1",[{size:[728,90],id:"8a9694d00177771bcae21c6a7d880025"},{size:[970,90],id:"8a969d580177771bc13c2046cd280081"},{size:[320,50],id:"8a9694d00177771bcae2204408520056"}]],["Header_1",[{size:[728,90],id:"8a969d580177771bc13c2045cac4007f"}]],["Interstitial_1",[{size:[300,250],id:"8a969449017c7c9d384d9f8170b10066"},{size:[300,600],id:"8a969449017c7c9d384d9f80b9970064"},{size:[320,480],id:"8a969958017c7c9d2d8a9f812d360081"},
{size:[336,280],id:"8a969449017c7c9d384d9f80f2a20065"}]],["Sidebar_1",[{size:[300,250],id:"8a9694d00177771bcae2204449d80057"}]],["Sidebar_9",[{size:[320,50],id:"8a969d580177771bc13c2045ff6b0080"},{size:[300,600],id:"8a96918c0177771bc6522043c8540090"},{size:[160,600],id:"8a969d580177771bc13c2044ea91007d"},{size:[300,250],id:"8a96918c0177771bc6521c6b5f4e003f"}]],["Recipe_1",[{size:[300,250],id:"8a9694d00177771bcae21c6bc7e80027"}]],["Recipe_2",[{size:[300,250],id:"8a969d580177771bc13c2044ac08007c"}]],
["Video_StickyOutstream_1",[{size:[300,250],id:"8a969d87017b7be074aae07a22b70005"}]]]),mobile:new Map([["Content_1",[{size:[300,250],id:"8a969d580177771bc13c2048bd0e0085"},{size:[320,50],id:"8a969d580177771bc13c204b68670088"}]],["Content_2",[{size:[300,250],id:"8a96918c0177771bc652204877c50094"},{size:[320,50],id:"8a96918c0177771bc652204b257e0097"}]],["Content_3",[{size:[300,250],id:"8a96918c0177771bc6522048f24e0095"}]],["Content_4",[{size:[300,250],id:"8a9694d00177771bcae220497831005a"}]],["Content_5",
[{size:[300,250],id:"8a969d580177771bc13c204a5f240087"}]],["Content_6",[{size:[300,250],id:"8a9694d00177771bcae2204a9092005c"}]],["Footer_1",[{size:[320,100],id:"8a96918c0177771bc652204a27cb0096"},{size:[300,50],id:"8a9694d00177771bcae22049449a0059"},{size:[728,90],id:"8a9694d00177771bcae2204ad481005d"},{size:[320,50],id:"8a969d580177771bc13c20480cf50084"}]],["Interstitial_1",[{size:[300,250],id:"8a969161017c7c9d32879f82491c007d"},{size:[300,600],id:"8a969161017c7c9d32879f8195b3007c"},{size:[320,
480],id:"8a969958017c7c9d2d8a9f81f2c50082"},{size:[336,280],id:"8a969449017c7c9d384d9f81c5660067"},{size:[320,50],id:"8a969449017c7c9d384d9f8279950068"}]],["Recipe_1",[{size:[300,250],id:"8a96918c0177771bc6522048483a0093"}]],["Recipe_2",[{size:[300,250],id:"8a9694d00177771bcae22049e596005b"}]],["Recipe_3",[{size:[300,250],id:"8a969d580177771bc13c2049b47f0086"}]],["Video_StickyOutstream_1",[{size:[300,50],id:"8a969d87017b7be074aae07a22b70005"}]]])};this._setYahooMediaConfig();a=this._displayMap;this._map=
Q()?a.mobile:a.desktop}get enabled(){return this._config.partners.display.get(f.YahooSSP)}get videoEnabled(){return this._config.partners.video.get(f.YahooSSP)}getSlotBidRequests(a){if(this._map.has(a.placementMapName))return this._map.get(a.placementMapName).filter(({size:b})=>a.hasSize(b)).map(({id:b})=>({bidder:this.name,params:{...("Video_StickyOutstream"!==a.location?this._params.display:this._params.video),pos:b}}))}getVideoSlotBidRequests(a){if(this._videoMap.has(a.name))return[{bidder:this.name,
params:{...this._params.video,pos:this._videoMap.get(a.name)}}]}_setYahooMediaConfig(){this._prebidMethods.setConfig({yahoossp:{mode:"all"}})}};kg=l([n("YahooSSPBidder"),t(),k("design:paramtypes",[y,W])],kg);let lg=class extends X{constructor(a,b){super();this._config=a;this._mediaType=b;this.bidderConfig=this._config.partners.getBidderConfig(f.Yieldmo);this.settings={adserverTargeting:[{key:"hb_format",val:c=>this._creativeFormatMap.get(this.getCreativeFormatId(c.ad))||c.mediaType}]};this._creativeFormatMap=
new Map([["44","banner"],["47","banner"],["49","banner"],["50","banner"],["43","banner"],["17","banner"],["23","banner"],["33","banner"],["40","outstream"],["51","outstream"],["48","outstream"],["34","outstream"],["14","miniscroller"],["16","miniscroller"],["37","miniscroller"],["15","miniscroller"],["18","native"],["36","native"],["46","native"],["10","native"],["6","native"]]);this._adOptionsMap=new Map([["100000",{id:"2626064683911553041",isOutstream:!1}],["110000",{id:"2626064684062547986",isOutstream:!0}],
["111000",{id:"2626064684196765715",isOutstream:!0}],["110100",{id:"2626064684339372052",isOutstream:!0}],["110010",{id:"2626064684498755605",isOutstream:!0}],["111100",{id:"2626064684632973334",isOutstream:!0}],["111010",{id:"2626064684775579671",isOutstream:!0}],["111110",{id:"2626064684934963224",isOutstream:!0}],["101000",{id:"2626064685069180953",isOutstream:!1}],["101100",{id:"2626064685203398682",isOutstream:!1}],["101010",{id:"2626064685337616411",isOutstream:!0}],["101110",{id:"2626064685471834140",
isOutstream:!0}],["100100",{id:"2626064685606051869",isOutstream:!1}],["100110",{id:"2626064685740269598",isOutstream:!0}],["100010",{id:"2626064685882875935",isOutstream:!0}],["110110",{id:"2626807131797397582",isOutstream:!0}],["110001",{id:"3154492104504189746",isOutstream:!0}]]);this._bannerMap="Below_Post Content Content_1 Content_2 Content_3 Content_4 Content_5 Content_6 Content_7 Content_8 Content_9 Footer_1 Header_1 Header_2 Recipe_1 Recipe_2 Recipe_3 Recipe_4 Recipe_5 Sidebar_1 Sidebar_2 Sidebar_3 Sidebar_4 Sidebar_5 Sidebar_9 Video_StickyOutstream_1".split(" ")}getCreativeFormatId(a){a=
/creative_format_id":([0-9]*)/.exec(a);if(null!==a)return a[1]}get enabled(){return this._config.partners.display.get(f.Yieldmo)}isMiniScroller(a){return a.sequence&&this._config.adTypes.has("miniscroller")&&("Content"===a.location||"Recipe"===a.location||a.lazy&&"Below_Post"===a.location)}isNative(a){var b=new Map([["Content","nativeMobileContent"],["Recipe","nativeMobileRecipe"]]),c=new Map([["Content","nativeDesktopContent"],["Recipe","nativeDesktopRecipe"],["Sidebar","nativeDesktopSidebar"]]);
b=Q()?b:c;return a.sequence&&b.has(a.location)&&this._config.adTypes.has(b.get(a.location))}isOutstream(a){return this._mediaType.outstreamEnabled(a).currentlyActive}isStickyOutstream(a){return"Video_StickyOutstream"===a.location}isMobileOutstreamSingleInstance(a){return Q()&&"Content_1"===a.placementMapName&&this._mediaType.outstreamEnabled(a).currentlyActive&&this._config.adTypes.has("outstreamMobile")&&!this._config.video.mobileStickyPlayerOnPage}createBitStringAdOptions(a){let b=this._bannerMap.includes(a.placementMapName)?
"1":"0";b+=this.isOutstream(a)?"1":"0";b+=this.isMiniScroller(a)?"1":"0";b+=this.isNative(a)?"1":"0";b+=this.isMobileOutstreamSingleInstance(a)?"1":"0";return b+=this.isStickyOutstream(a)?"1":"0"}getSlotBidRequests(a){var b=this.createBitStringAdOptions(a);if(this._adOptionsMap.has(b))return b=this._adOptionsMap.get(b),[{bidder:this.name,...this.getLabels(b.isOutstream,a.placementMapName),params:{placementId:b.id,...("Video_StickyOutstream"===a.location&&{video:{placement:2}})}}]}getLabels(a,b){let c=
[];a&&c.push(`outstreamCapable_${b}`);return c.length?{labelAny:c}:{}}updateBidParams(a,b){let c=this.createBitStringAdOptions(b),d=this._adOptionsMap.get(c);this._adOptionsMap.has(c)&&(this._addPlacementIdParam(a,d.id),d.isOutstream&&this._addBidLabel(a,`outstreamActive_${b.placementMapName}`))}};lg=l([n("YieldmoBidder"),t(),k("design:paramtypes",[y,za])],lg);let mg=class extends X{constructor(a){super();this._config=a;this.bidderConfig=this._config.partners.getBidderConfig(f.Concert);this._map=
new Map([["Content_1",[300,250]]]);this._desktopSizes=[[620,366]];this._mobileSizes=[[325,508],[325,204]]}get enabled(){return this._config.partners.display.get(f.Concert)}getPartnerIdFromDomain(){try{return Vd(window.location.hostname).split(".")[0].toLowerCase().replace("-","")}catch(a){return r.error("ConcertBidder","getPartnerIdFromDomain",a),""}}getSlotBidRequests(a){if(this._map.has(a.placementMapName)&&a.hasSize(this._map.get(a.placementMapName))){let b=this.getPartnerIdFromDomain();if(0<b.length)return[{bidder:this.name,
...(a.isHighlyViewable()?{}:{labelAny:["refresh"]}),params:{bidder:this.name,slot:a.id,partnerId:b,sizes:Q()?this._mobileSizes:this._desktopSizes}}]}}};mg=l([n("ConcertBidder"),t(),k("design:paramtypes",[y])],mg);let ng=class{constructor(a,b,c,d,e,g,h,m,q,w,u,v,A,G,L,J,D,P,M,ca,fa,lb,mb,nb,Qb,Rb,ob,Sb,pb,Tb,Ub){this._config=a;this._biddersParams=new Map;this._orderedDisplayBidders=[fa,w,u,h,mb,v,A,Sb,G,D,pb,b,Tb,M,e,nb,lb,c,Qb,ob,q,J,P,d,g,L,Ub].filter(Ya=>this._bidderFilter(Ya));this._orderedVideoBidders=
[h,b,u,mb,G,w,D,A,m,nb,pb,ca,q,M,c,d,ob,lb,J,e,L,Rb].filter(Ya=>this._bidderFilter(Ya,!0));this._videoCreativeIdMapping=this._setVideoCreativeIdMap()}get orderedDisplayBidders(){return this._orderedDisplayBidders}get orderedVideoBidders(){return this._orderedVideoBidders}get biddersParams(){return this._biddersParams}get videoCreativeIdMapping(){return this._videoCreativeIdMapping}_setVideoCreativeIdMap(){return new Map(this._orderedVideoBidders.reduce((a,b)=>a.concat(b.videoCreativeIds||[],b.videoServerCreativeIds||
[]),[]))}_bidderFilter(a,b=!1){let c=this._config,d=a.name,e=b?c.vbho.bidders:c.hbho.bidders,g=b||!a.updateBidParams;return a[b?"videoEnabled":"enabled"]&&this._holdoutValidation(e,d)&&this._ccpaValidation(c.ccpa,d)&&this._gdprValidation(c.gdpr,d)&&(g||this._biddersParams.set(d,a))}_holdoutValidation(a,b){return!a.length||!a.includes(b)}_ccpaValidation(a,b){return!a.enabled||!a.nonCompliantBidders.includes(b)}_gdprValidation(a,b){return!a.enabled||!a.nonCompliantBidders.includes(b)}};ng=l([p(),k("design:paramtypes",
[y,Kf,Lf,Mf,Nf,mg,Of,Tf,Pf,Qf,Rf,Sf,Vf,Wf,Xf,Yf,ag,Uf,bg,cg,dg,Ff,eg,fg,gg,hg,ig,jg,kg,lg,$f])],ng);let og=class extends ea{init(){this._key="crtvmon";this._default=!1}};og=l([n("CreativeMonitoringExperiment"),p()],og);let pg=class{constructor(a,b,c,d,e){this._config=a;this._gam=b;this._prebidMethods=c;this._slots=d;this._creativeMonitoringExperiment=e;this._auctionData=new Set;this._prebidAdvertiserId=413678576;this._gamRenderedData=new Map}setupCreativeEventListeners(){this._prebidMethods.onEvent("auctionInit",
this._storeAuctionData.bind(this));this._prebidMethods.onEvent("adRenderFailed",this._renderFailedHandler.bind(this));this._prebidMethods.onEvent("adRenderSucceeded",this._renderSucceededHandler.bind(this));this._prebidMethods.onEvent("staleRender",this._staleRenderHandler.bind(this));this._gam.slotRenderEnded.on(this._slotRenderEnded.bind(this));this._gam.slotRequested.on(this._slotRequested.bind(this))}_slotRequested(a){a=a.slot.id;this._gamRenderedData.has(a)&&this._gamRenderedData.delete(a)}_slotRenderEnded(a){this._gamRenderedData.set(a.slot.id,
a);this._creativeMonitoringExperiment.result&&this._checkSlotRender(a)}_storeAuctionData(a){a.adUnitCodes.forEach(b=>this._auctionData.add(`${a.auctionId}-${b}`))}_deleteStoredAuction(a,b){this._auctionData.delete(`${a}-${b}`)}_getSlotData(a){a=this._slots.get(a);return{...(a&&{slot:a.location,sequence:a.sequence,nref:a.refreshCount})}}_getGAMCreativeData(a){return(a=this._gamRenderedData.get(a))?{lineItemId:a.event.lineItemId,creativeId:a.event.creativeId,campaignId:a.event.campaignId}:{}}_getBidData(a){return a?
{...this._getPrebidBidDataFromBid(a),...this._getSlotData(a.adUnitCode),...this._getGAMCreativeData(a.adUnitCode)}:{}}_renderFailedHandler(a){setTimeout(()=>{let b=a.bid;b&&this._deleteStoredAuction(b.auctionId,b.adUnitCode);let c={message:a.message,reason:a.reason,...this._getBidData(b)};b&&b.meta&&0<Object.keys(b.meta).length?c.buyerInformation=b.meta:c.markup=b&&b.ad;r.error("PrebidAuctionManager","init","adRenderFailed",c)},2E3)}_staleRenderHandler(a){a&&this._deleteStoredAuction(a.auctionId,
a.adUnitCode);setTimeout(()=>{r.error("PrebidAuctionManager","init","staleRender",{...this._getBidData(a)})},2E3)}_renderSucceededHandler(a){(a=a.bid)&&this._deleteStoredAuction(a.auctionId,a.adUnitCode)}_isSafeFrame(a){a=a.element.querySelector("iframe");return!(!a||!a.src)}_checkSlotRender(a){let b=a.event;this._isSafeFrame(a.slot)||b.advertiserId!==this._prebidAdvertiserId||setTimeout(()=>{this._logUnknownFailure(a)},2E3)}_getHeightWidth(a){if(!a)return{};a=a.split("x").map(Number);return{...(Array.isArray(a)&&
2===a.length&&{height:a[1],width:a[0]})}}_getPrebidCreativeWindowData(a){return{adId:a.bidderAdId,bidder:a.bidder,size:a.bidderSize,adserverTargeting:a.targeting}}_getPrebidBidDataFromBid(a){return{price:a.adserverTargeting.hb_pb,bidderSize:a.size||a.adserverTargeting.hb_size,advertiserDomains:a.meta&&a.meta.advertiserDomains||a.adserverTargeting.hb_adomain,bidder:a.bidder}}_getPrebidBidderDataFromIframe(a){let b=a.element.querySelector("iframe").contentWindow;if(!b)return{};let {adId:c,adserverTargeting:d,
bidder:e,size:g}=this._getPrebidCreativeWindowData(b),{height:h,width:m}=this._getHeightWidth(b&&b.bidderSize);return{adId:c,adserverTargeting:d,adUnitCode:a.id,bidder:e,height:h,size:g,width:m}}_logUnknownFailure(a){let b=this._config.context,c=a.slot;a=a.event;let {adId:d,adserverTargeting:e,auctionId:g,adUnitCode:h,bidder:m,height:q,meta:w,size:u,width:v}=c.servedPrebidBidResponse||this._getPrebidBidderDataFromIframe(c);g&&h&&!this._auctionData.has(`${g}-${h}`)||(r.error("PrebidAuctionManager",
"init","prebidCreativeFailure",{adId:d,advertiserDomains:w&&w.advertiserDomains||e&&e.hb_adomain,bidderSize:u||e&&e.hb_size,bidder:m,branch:b.branch,bucket:b.bucket,campaignId:a.campaignId,creativeId:a.creativeId||a.sourceAgnosticCreativeId,lineItemId:a.lineItemId||a.sourceAgnosticLineItemId,message:"An unknown error occurred rendering the Prebid creative",nref:c.refreshCount,price:e&&e.hb_pb,sequence:c.sequence,slotSizes:c.sizes,slot:c.location,...(v&&q&&{size:[v,q]}),...(w&&(w.dchain&&{dchain:w.dchain}||
w.networkId&&{networkId:w.networkId})),...((!d||2>d.length)&&e&&{hbAdId:e.hb_adid})}),g&&h&&this._deleteStoredAuction(g,h))}};pg=l([p(),k("design:paramtypes",[y,E,W,la,og])],pg);let qg=class extends K{constructor(a,b){super();this._result=!1;this._choices=[{choice:!0},{choice:!1}];this.key="tpcapi";this.weight=.95;b=b.getCoreExperimentButMutateWeights(this.key);Ua()&&b&&(this.weight=b.variants[0].weight,this._result=this.run(),a.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return(new O(this.weight)).get()}};
qg=l([n("TopicsAPIExperiment"),p(),k("design:paramtypes",[I,aa])],qg);let Xb=class{constructor(a,b){this._bootstrapConfig=a;this.topicsDataRecevied=new z;this.topics=[];this._frame=document.createElement("iframe");(this.enabled=!this._bootstrapConfig.isGDPR&&!this._bootstrapConfig.ccpaUserOptedOut&&b.result)&&void this._addIframeToPage().then(()=>{this._setupPostMessaging()})}get topicsApiIframeLocation(){return`${this._bootstrapConfig.baseUrl}/html/topics.html`}_setupPostMessaging(){try{if(this._frame&&
this._frame.contentWindow){let a=window.adthriveDevelopmentMode?"https://localhost:8080":"https://ads.adthrive.com";window.addEventListener("message",b=>{if(b.origin===a&&"adthrive_topics"===b.data.message&&b.data.topics&&b.data.topics.length){this.topics=this.topics.concat(b.data.topics);try{this.topicsDataRecevied.emit(this.topics)}catch(c){r.error("TopicsApiIframeManager","topics","received",c)}}});this._frame.contentWindow.postMessage({message:"getTopicsApi"},a)}}catch(a){r.error("TopicsApiIframeManager",
"setupPostMessaging","Failed to set mcmp data",a)}}_addIframeToPage(){let a,b=new Promise(c=>{a=c});this._frame.onload=()=>{a()};try{this._frame.src=this.topicsApiIframeLocation,this._frame.id="adthrive-topics-api",this._frame.style.display="none",document.body.appendChild(this._frame)}catch(c){r.error("TopicsApiIframeManager","addIframeToPage","Failed to append iframe to document",c)}return b}};Xb=l([n("TopicsApiIframeManager"),p(),k("design:paramtypes",[ma,qg])],Xb);let Yb=class extends ea{init(){this._key=
"jwb";this._default=!1}run(){return super.run()}};l([N(),k("design:type",Function),k("design:paramtypes",[]),k("design:returntype",void 0)],Yb.prototype,"run",null);Yb=l([n("JwBoostExperiment"),p()],Yb);let rg={Crafts:{id:"540522cb5c0eb47de4152801",iabCode:"IAB9-2",iabCat:"Arts & Crafts"},Family_and_Parenting:{id:"540522cb5c0eb47de4152802",iabCode:"IAB9-2",iabCat:"Family & Parenting"},Personal_Finance:{id:"540522cb5c0eb47de4152803",iabCode:"IAB13",iabCat:"Personal Finance"},Food:{id:"540522cb5c0eb47de4152804",
iabCode:"IAB8",iabCat:"Food & Drink"},Home_Decor_and_Design:{id:"540522cb5c0eb47de4152807",iabCode:"IAB10",iabCat:"Home & Garden"},Sports:{id:"540522cb5c0eb47de4152809",iabCode:"IAB17",iabCat:"Sports"},Entertainment:{id:"55d374253d3884315c3d0bca",iabCode:"IAB1",iabCat:"Arts & Entertainment"},Gardening:{id:"5a4fab0ce6ec1959fd678d46",iabCode:"IAB10-4",iabCat:"Gardening"},Mens_Style_and_Grooming:{id:"5a4fab1de6ec1959fd678d47",iabCode:"IAB18",iabCat:"Style & Fashion"},Pets:{id:"5a4fab2ee6ec1959fd678d49",
iabCode:"IAB16",iabCat:"Pets"},Tech:{id:"5a4fab38e6ec1959fd678d4a",iabCode:"IAB19",iabCat:"Technology & Computing"},Wedding:{id:"5a4fab42e6ec1959fd678d4b",iabCode:"IAB14-7",iabCat:"Weddings"},Professional_Finance:{id:"5aa2f3a7fdf4d60603ab3a65",iabCode:"IAB13",iabCat:"Personal Finance"},Deals:{id:"5c05a3d19e385c167333449c",iabCode:"IAB13",iabCat:"Personal Finance"},Vegetarian:{id:"5c113968b4fc765c1cbd3a54",iabCode:"IAB8-17",iabCat:"Vegetarian"},Auto:{id:"5c11399bb4fc765c1cbd3a91",iabCode:"IAB2",iabCat:"Automotive"},
Fitness:{id:"5e5571361237cb073f4c414a",iabCode:"IAB7-1",iabCat:"Exercise"},Gaming:{id:"615cb84741a24b73b7c34703",iabCode:"IAB9-30",iabCat:"Video & Computer Games"},Beauty:{id:"540522cb5c0eb47de4152800",iabCode:"IAB18-1",iabCat:"Beauty"},Health_and_Wellness:{id:"540522cb5c0eb47de4152806",iabCode:"IAB7",iabCat:"Health & Fitness"},Clean_Eating:{id:"58ebb95fb628206640771353",iabCode:"IAB8-12",iabCat:"Health/Lowfat Cooking"},Natural_Parenting:{id:"58ebba85b628206640771355",iabCode:"IAB6",iabCat:"Family & Parenting"},
Baby:{id:"58ebba8bb628206640771356",iabCode:"IAB6-2",iabCat:"Babies & Toddlers"},Pregnancy:{id:"58ebba92b628206640771357",iabCode:"IAB6-7",iabCat:"Pregnancy"},Toddler:{id:"58ebba9ab628206640771358",iabCode:"IAB6-2",iabCat:"Babies & Toddlers"},Womens_Style:{id:"58ebbaccb628206640771359",iabCode:"IAB18",iabCat:"Style & Fashion"},Travel:{id:"58ebbafbb62820664077135a",iabCode:"IAB20",iabCat:"Travel"}};var Tl=Array.prototype.splice;Ia.prototype.clear=function(){this.__data__=[];this.size=0};Ia.prototype["delete"]=
function(a){var b=this.__data__;a=ic(b,a);if(0>a)return!1;a==b.length-1?b.pop():Tl.call(b,a,1);--this.size;return!0};Ia.prototype.get=function(a){var b=this.__data__;a=ic(b,a);return 0>a?void 0:b[a][1]};Ia.prototype.has=function(a){return-1<ic(this.__data__,a)};Ia.prototype.set=function(a,b){var c=this.__data__,d=ic(c,a);0>d?(++this.size,c.push([a,b])):c[d][1]=b;return this};var Pj="object"==typeof global&&global&&global.Object===Object&&global,Ul="object"==typeof self&&self&&self.Object===Object&&
self,Ka=Pj||Ul||Function("return this")(),Tc=Ka.Symbol,Qj=Object.prototype,mk=Qj.hasOwnProperty,nk=Qj.toString,wb=Tc?Tc.toStringTag:void 0,ok=Object.prototype.toString,Bi=Tc?Tc.toStringTag:void 0,sg=Ka["__core-js_shared__"],Ci=function(){var a=/[^.]+$/.exec(sg&&sg.keys&&sg.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),rk=Function.prototype.toString,qk=/^\[object .+?Constructor\]$/,pk=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,
"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Rj=Cd(Ka,"Map"),Zb=Cd(Object,"create"),Vl=Object.prototype.hasOwnProperty,Wl=Object.prototype.hasOwnProperty;Ta.prototype.clear=function(){this.__data__=Zb?Zb(null):{};this.size=0};Ta.prototype["delete"]=function(a){a=this.has(a)&&delete this.__data__[a];this.size-=a?1:0;return a};Ta.prototype.get=function(a){var b=this.__data__;return Zb?(a=b[a],"__lodash_hash_undefined__"===a?void 0:a):Vl.call(b,a)?b[a]:void 0};
Ta.prototype.has=function(a){var b=this.__data__;return Zb?void 0!==b[a]:Wl.call(b,a)};Ta.prototype.set=function(a,b){var c=this.__data__;this.size+=this.has(a)?0:1;c[a]=Zb&&void 0===b?"__lodash_hash_undefined__":b;return this};cb.prototype.clear=function(){this.size=0;this.__data__={hash:new Ta,map:new (Rj||Ia),string:new Ta}};cb.prototype["delete"]=function(a){a=jc(this,a)["delete"](a);this.size-=a?1:0;return a};cb.prototype.get=function(a){return jc(this,a).get(a)};cb.prototype.has=function(a){return jc(this,
a).has(a)};cb.prototype.set=function(a,b){var c=jc(this,a),d=c.size;c.set(a,b);this.size+=c.size==d?0:1;return this};db.prototype.clear=function(){this.__data__=new Ia;this.size=0};db.prototype["delete"]=function(a){var b=this.__data__;a=b["delete"](a);this.size=b.size;return a};db.prototype.get=function(a){return this.__data__.get(a)};db.prototype.has=function(a){return this.__data__.has(a)};db.prototype.set=function(a,b){var c=this.__data__;if(c instanceof Ia){var d=c.__data__;if(!Rj||199>d.length)return d.push([a,
b]),this.size=++c.size,this;c=this.__data__=new cb(d)}c.set(a,b);this.size=c.size;return this};var kc=function(){try{var a=Cd(Object,"defineProperty");a({},"",{});return a}catch(b){}}(),yk=function(a){return function(b,c,d){var e=-1,g=Object(b);d=d(b);for(var h=d.length;h--;){var m=d[a?h:++e];if(!1===c(g[m],m,g))break}return b}}(),Li=Ka.Uint8Array,Sj=Object.create,Ck=function(){function a(){}return function(b){if(!Aa(b))return{};if(Sj)return Sj(b);a.prototype=b;b=new a;a.prototype=void 0;return b}}(),
Mi=function(a,b){return function(c){return a(b(c))}}(Object.getPrototypeOf,Object),sk=Object.prototype,Tj=Object.prototype,Xl=Tj.hasOwnProperty,Yl=Tj.propertyIsEnumerable,Id=Ei(function(){return arguments}())?Ei:function(a){return eb(a)&&Xl.call(a,"callee")&&!Yl.call(a,"callee")},Hd=Array.isArray,Uj="object"==typeof exports&&exports&&!exports.nodeType&&exports,Vj=Uj&&"object"==typeof module&&module&&!module.nodeType&&module,Wj=Vj&&Vj.exports===Uj?Ka.Buffer:void 0,Ii=(Wj?Wj.isBuffer:void 0)||tk,Ni=
Function.prototype.toString,zk=Object.prototype.hasOwnProperty,Ak=Ni.call(Object),Z={};Z["[object Float32Array]"]=Z["[object Float64Array]"]=Z["[object Int8Array]"]=Z["[object Int16Array]"]=Z["[object Int32Array]"]=Z["[object Uint8Array]"]=Z["[object Uint8ClampedArray]"]=Z["[object Uint16Array]"]=Z["[object Uint32Array]"]=!0;Z["[object Arguments]"]=Z["[object Array]"]=Z["[object ArrayBuffer]"]=Z["[object Boolean]"]=Z["[object DataView]"]=Z["[object Date]"]=Z["[object Error]"]=Z["[object Function]"]=
Z["[object Map]"]=Z["[object Number]"]=Z["[object Object]"]=Z["[object RegExp]"]=Z["[object Set]"]=Z["[object String]"]=Z["[object WeakMap]"]=!1;var Xj="object"==typeof exports&&exports&&!exports.nodeType&&exports,$b=Xj&&"object"==typeof module&&module&&!module.nodeType&&module,tg=$b&&$b.exports===Xj&&Pj.process,Yj=function(){try{var a=$b&&$b.require&&$b.require("util").types;return a?a:tg&&tg.binding&&tg.binding("util")}catch(b){}}(),Zj=Yj&&Yj.isTypedArray,Ji=Zj?vk(Zj):uk,Bk=Object.prototype.hasOwnProperty,
wk=/^(?:0|[1-9]\d*)$/,xk=Object.prototype.hasOwnProperty,Pi=Math.max,Zl=Date.now,Hk=function(a){var b=0,c=0;return function(){var d=Zl(),e=16-(d-c);c=d;if(0<e){if(800<=++b)return arguments[0]}else b=0;return a.apply(void 0,arguments)}}(kc?function(a,b){return kc(a,"toString",{configurable:!0,enumerable:!1,value:Fk(b),writable:!0})}:Oi),$l=function(a){return Gk(function(b,c){var d=-1,e=c.length,g=1<e?c[e-1]:void 0,h=2<e?c[2]:void 0;g=3<a.length&&"function"==typeof g?(e--,g):void 0;var m;if(m=h){m=
c[0];var q=c[1];if(Aa(h)){var w=typeof q;m=("number"==w?Fd(h)&&Gi(q,h.length):"string"==w&&q in h)?hc(h[q],m):!1}else m=!1}m&&(g=3>e?void 0:g,e=1);for(b=Object(b);++d<e;)(h=c[d])&&a(b,h,d,g);return b})}(function(a,b,c){Ki(a,b,c)});let ac=class{constructor(a,b,c,d,e,g){this._config=a;this._jwBoostExperiment=b;this._topicsApiIframeManager=c;this._prebidMethods=d;this._spaEventBus=e;this._marmaladeEventBus=g;this._data={};this.createOrtbDataObj();this._onConsentEvent();this._marmaladeEventBus.resetMarmaladeData.once(()=>
{this._setORTB2Data()});this._config.marmalade.rfDataProcessed.on(()=>{this._setORTB2Data()})}_setORTB2Data(){this._prebidMethods.addToQueue(()=>{var a=this._prebidMethods.getConfig("ortb2")||{};this.createOrtbDataObj();a=$l(a,this._data);this._prebidMethods.setConfig({ortb2:a})});this._spaEventBus.routeChanged.on(()=>{this._prebidMethods.addToQueue(()=>{this.createOrtbDataObj();this._prebidMethods.setConfig({ortb2:{...this._data}})})})}createOrtbDataObj(){var a;this._userSegments=this._getUserSegments();
this._siteSegments=this._getSiteSegments();var b=null!==(a=navigator.userAgentData&&navigator.userAgentData.mobile)&&void 0!==a?a:Q();let c=document.documentElement.lang,d=this._config.site.verticals,e=d.length?d[0].replace(/ /g,"_"):"";a={site:{content:{...(this._siteSegments.length&&{data:this._siteSegments})}},...(!this._config.ccpa.userOptedOut&&this._userSegments.length&&{user:{data:this._userSegments}})};b={cur:["USD"],at:1,device:{deviceType:b?1:2,language:navigator.language.slice(0,2),js:1},
site:{content:{...(this._siteSegments.length&&{data:this._siteSegments}),...(c&&{language:c.slice(0,2)})},...(d.length&&rg[e]&&{cat:[rg[e].iabCode],pagecat:[rg[e].iabCode]}),privacypolicy:1,mobile:1},...(this._userSegments.length&&{user:{data:this._userSegments}}),source:{fd:0}};this._data=this._config.prebid.ortbEnrich?{...b}:{...a}}get data(){return this._data}_onConsentEvent(){let a=this._config.ccpa;a.consentChange.on(b=>{this._prebidMethods.addToQueue(()=>{if(b===a.ccpaOptOut){let c=this._prebidMethods.getConfig("ortb2")||
{};c.user&&(delete c.user,this._prebidMethods.setConfig({ortb2:c}))}})})}_getSiteSegments(){return this.buildSegmentData(this._config.marmalade.ortbSegments.get("iabc")||[],6)}_getUserSegments(){if(this._config.ccpa.userOptedOut)return[];let a=this.buildSegmentData(this._config.marmalade.ortbSegments.get("iaba")||[],4),b=this._convertTopicData(this._topicsApiIframeManager.topics);if(!b.length)this._topicsApiIframeManager.topicsDataRecevied.on(c=>{this._setDelayedTopicsData(this._convertTopicData(c))});
return a.concat(b)}_convertTopicData(a){return this.buildSegmentData(a.reduce((b,c)=>b.concat({id:String(c.topic)}),[]),600,"adthrive.com")}_setDelayedTopicsData(a){this._prebidMethods.addToQueue(()=>{let b=this._prebidMethods.getConfig("ortb2")||{};b.user=b.user||{};b.user.data=b.user.data||[];b.user.data=b.user.data.concat(a);this._prebidMethods.setConfig({ortb2:b})})}buildSegmentData(a,b,c="cafemedia.com"){return a.length?[{name:c,segment:a,ext:{segtax:b}}]:[]}buildSegmentDataFromArray(a,b,c){return this.buildSegmentData(a.map(d=>
({id:d})),b,c)}setOrtb2Imp(a,b){if(b)for(let c of Object.keys(a))b[c]=a[c]}setOrtb2ImpExt(a,b){b&&(b.ext={...b.ext,...a})}setOrtb2ImpExtData(a,b){var c;b&&(b.ext=null!==(c=b.ext)&&void 0!==c?c:{},b.ext.data={...b.ext.data,...a})}_setVideoOrtb2ImpData(a,b){this.setOrtb2ImpExtData({adserver:{name:"gam",adslot:`/${this._config.gam.account}/${this._config.gam.prefix}_${b.name}/${this._config.site.id}`}},a);!this._config.ccpa.userOptedOut&&this._jwBoostExperiment.result&&this.setOrtb2ImpExtData({jwTargeting:b.getJwBoostTargeting()},
a)}addOrtb2Imp(a,b=!1,c){let {slot:d,video:e}=a;a=c||{ext:{data:{}}};this._config.context.fledgeSupported&&this.setOrtb2ImpExt({ae:1},a);e&&this._setVideoOrtb2ImpData(a,e);d&&b&&this.setOrtb2Imp({instl:1},a);d&&d.isHighlyViewable()&&this.setOrtb2ImpExtData({pos:"atf"},a);return a}addOrtb2Reg(a,b){this._prebidMethods.addToQueue(()=>{let c=this._prebidMethods.getConfig("ortb2")||{};c.regs={gpp:a,gpp_sid:b};this._prebidMethods.setConfig({ortb2:c})})}};ac=l([p(),k("design:paramtypes",[y,Yb,Xb,W,ka,Ga])],
ac);let ug=class{constructor(a){this._prebidMethods=a}setOseq(a,b){let c=`${a.sequence}`,{id:d,bidPoolId:e}=a,{hb_bidder:g,hb_adid:h}=b;({bids:b}=e?this._prebidMethods.getBidResponsesForBidPoolId(e):this._prebidMethods.getBidResponsesForAdUnitCode(d));if(b)for(let m=b.length-1;0<=m;m--)if(b[m].bidderCode===g&&b[m].adId===h){c=this.getSeqFromAdUnitCode(b[m].adUnitCode);break}a&&a.setSlotTargetingFlag("oseq",[c],!0)}getSeqFromAdUnitCode(a){return(a=(a||"").match(/AdThrive_.*?_(\d+)_\S+$/))&&a.length?
a[1]:""}};ug=l([n("OSeq"),t(),k("design:paramtypes",[W])],ug);let Uc=class extends Y{init(){this._key="dco"}run(){return super.run()}};l([N(),k("design:type",Function),k("design:paramtypes",[]),k("design:returntype",void 0)],Uc.prototype,"run",null);Uc=l([n("DemandChainExperiment"),p()],Uc);let vg=class extends K{constructor(a,b){super();this._result=!1;this.key="dajto";this._choices=[{choice:!0},{choice:!1}];this.weight=.1;if(b=b.getCoreExperimentButMutateWeights(this.key))this.weight=b.variants[0].weight,
this._result=this.run(),a.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return(new O(this.weight)).get()}};vg=l([n("DisableAjaxTimeoutExperiment"),p(),k("design:paramtypes",[I,aa])],vg);let Vc=class extends Y{init(){this._key="mxrpog"}run(){return super.run()}};l([N(),k("design:type",Function),k("design:paramtypes",[]),k("design:returntype",void 0)],Vc.prototype,"run",null);Vc=l([n("MaxRequestsExperiment"),p()],Vc);let am={buckets:[{precision:2,max:.1,increment:.01},
{precision:2,max:5,increment:.05},{precision:2,max:20,increment:.1},{precision:2,max:100,increment:.5}]},wg=class{constructor(a){this._config=a;this._configuration={suppressEmptyKeys:!0,adserverTargeting:[{key:"hb_bidder",val:b=>b.bidderCode},{key:"hb_adid",val:b=>b.adId},{key:"hb_pb",val:b=>b.pbCg},{key:"hb_size",val:b=>this._config.video.instreamAdUnits.has(b.adUnitCode)?"":b.size},{key:"hb_deal",val:b=>b.dealId},{key:"hb_format",val:b=>b.mediaType},{key:"hb_adomain",val:b=>b.meta&&b.meta.advertiserDomains?
b.meta.advertiserDomains[0]:b.meta&&b.meta.advertiserId},{key:"hb_dsp",val:b=>{var c,d;return null!==(d=null!==(c=b.meta&&b.meta.networkId)&&void 0!==c?c:b.meta&&b.meta.networkName)&&void 0!==d?d:b.meta&&b.meta.dchain&&b.meta.dchain.nodes.reverse()[0].bsid}},{key:"hb_crid",val:b=>b.creativeId},{key:"hb_dur",val:b=>b.duration}]}}get configuration(){return this._configuration}};wg=l([p(),k("design:paramtypes",[y])],wg);let Wc=class extends ea{init(){this._key="fldg";this._default=!1}};Wc=l([n("FledgeGPTExperiment"),
p()],Wc);let xg=class{constructor(a,b,c,d,e,g,h,m){this._config=a;this._prebidMethods=b;this._dcoExperiment=c;this._maxRequestsExperiment=d;this._disableAjaxTimeoutExperiment=e;this._ortb2=g;this._standardPrebidBidderSetting=h;this._fledgeGPTExperiment=m;this._uspConfig={usp:this._getUspConfig()};this._clientVendorExceptions=["appnexus"];this._serverVendorExceptions=this._config.prebid.s2s.bidders;this._gdprConfig={gdpr:{cmpApi:"iab",timeout:25E3,defaultGdprScope:!0,rules:[{purpose:"storage",enforcePurpose:!0,
enforceVendor:!0},{purpose:"basicAds",enforcePurpose:!0,enforceVendor:!0,vendorExceptions:this._clientVendorExceptions.concat(this._serverVendorExceptions)},{purpose:"measurement",enforcePurpose:!0,enforceVendor:!0}]}};this._defaultConfig={...(this._config.context.fledgeSupported&&this._fledgeGPTExperiment.result&&{fledgeForGpt:{enabled:!0}}),maxRequestsPerOrigin:this._maxRequestsExperiment.result,auctionOptions:{secondaryBidders:["unruly","undertone","33across","nativo"]},bidderSequence:"fixed",
sendBidsControl:{bidLimit:3},useBidCache:!0,enableSendAllBids:!0,disableAjaxTimeout:this._disableAjaxTimeoutExperiment.result,userSync:{auctionDelay:this._config.prebid.auctionDelay,syncsPerBidder:1,aliasSyncEnabled:!0,enableOverride:!0,filterSettings:{iframe:{bidders:"*",filter:"include"}}},gptPreAuction:{mcmEnabled:!0,enabled:!0,customPreAuction:(q,w)=>{if(w&&(null===q||void 0===q||!q.bidPoolId))return w;w=w.split("/");if("Content_BPID_Lazy"===(null===q||void 0===q?void 0:q.bidPoolId))return`/${w[1]}/AdThrive_${"Content"}/${w[3]}`;
if("Content_BPID_Nonlazy"===(null===q||void 0===q?void 0:q.bidPoolId))return`/${w[1]}/AdThrive_${"Content_4"}/${w[3]}`}},priceGranularity:am,cache:{url:"https://prebid.adnxs.com/pbc/v1/cache"},consentManagement:{},targetingControls:{allowTargetingKeys:this._config.prebid.targetingKeys,allowSendAllBidsTargetingKeys:this._config.prebid.sendAllBidsTargetingKeys},dchain:{validation:this._dcoExperiment.result},schain:{validation:"strict",config:(new Dj).getSupplyChainConfig(this._config.site.id)},ortb2:this._ortb2.data}}_getUspConfig(){return this._config.ccpa.required?
{cmpApi:"iab",timeout:0}:{cmpApi:"static",consentData:{getUSPData:{uspString:"1---"}}}}setDefaultConfig(){let a=this.addPrebidConsent(),b=this._defaultConfig;b.consentManagement=a;this._prebidMethods.setConfig(b)}applyClientAndServerBidderSettings(a){this._prebidMethods.setBidderSettings(a.reduce((b,c)=>this._setupBidderSettings(b,c),{standard:this._standardPrebidBidderSetting.configuration}))}aliasBidders(a){a=[...(new Set(a))];a.forEach(b=>{if(b.adapterName&&(b.adapterName!==b.name||b.serverBidderName)){let c=
b.serverBidderName||b.name,d=b.adapterName;b.gvlid?this._prebidMethods.setAliasBidder(d,c,{gvlid:b.gvlid}):this._prebidMethods.setAliasBidder(d,c)}})}_setupBidderSettings(a,b){a[b.name]=this.getBidderSettings(b,b.name);b.serverBidderName&&(a[b.serverBidderName]=this.getBidderSettings(b,b.serverBidderName));a.standard.adserverTargeting&&b.adServerTargeting&&a.standard.adserverTargeting.push(...b.adServerTargeting);return a}addPrebidConsent(){return!0===this._config.gdpr.enabled?this._gdprConfig:this._uspConfig}getBidderSettings(a,
b){return{bidCpmAdjustment:(c,d)=>{let e=this._config,g=e.video.instreamAdUnits.has(null===d||void 0===d?void 0:d.adUnitCode);c=Pd(e,c,b,d);g&&(c>e.video.vidDiscount?c-=e.video.vidDiscount:c=0);return c},inverseBidAdjustment:(c,d)=>{let e={mediaType:Object.keys(d.mediaTypes)[0],adUnitCode:d.adUnitCode},g=this._config,h=g.video.instreamAdUnits.has(null===e||void 0===e?void 0:e.adUnitCode)?g.video.vidDiscount:0;return Yi(g,d.bidder,e,c+h)},...a.settings}}};xg=l([p(),k("design:paramtypes",[y,W,Uc,Vc,
vg,ac,wg,Wc])],xg);let Xc=class extends K{constructor(a){super();this.key="vpred_1";this._choices=[{choice:.9,weight:96},{choice:.85,weight:1},{choice:.8,weight:1},{choice:.75,weight:1},{choice:0,weight:1}];this._result=this.run();a.set(this.key,0!==this.result?String(100*this._result):"off")}get result(){return this._result}run(){return(new ta(this._choices)).get()}};l([N(),k("design:type",Function),k("design:paramtypes",[]),k("design:returntype",void 0)],Xc.prototype,"run",null);Xc=l([n("PredictiveAnalysisExperiment"),
p(),k("design:paramtypes",[I])],Xc);let yg=class extends Y{init(){this._key="s2sbuff"}};yg=l([n("S2SBufferExperiment"),p()],yg);let zg=class extends Y{init(){this._key="pbsflr1"}};zg=l([n("PBSFloor"),p()],zg);let Yc=class extends Y{init(){this._key="csync_lim"}run(){try{let a=super.run();this._validateResult(a);return a}catch(a){return r.error("UserSyncLimitExperiment","run",a),-1}}_validateResult(a){if("number"!==typeof a)throw Error(`Result is not a number: ${a}`);if(!Number.isInteger(a))throw Error(`Result is not an integer: ${a}`);
if(0>a||100<a)throw Error(`Result out of range: ${a}`);return a}};l([N(),k("design:type",Function),k("design:paramtypes",[]),k("design:returntype",void 0)],Yc.prototype,"run",null);Yc=l([n("UserSyncLimitExperiment"),p()],Yc);let Ag=class{constructor(a,b,c,d,e){var g;this._config=a;this._pbsFloorExperiment=b;this._prebidMethods=c;this._s2sBufferExperiment=d;this._userSyncLimitExperiment=e;this._s2sConfig=[{accountId:"9262",enabled:!0,...(this._config.prebid.ortbEnrich&&{secure:1}),bidders:this._config.prebid.s2s.bidders,
defaultTtl:300,timeout:this._config.timeouts.initialBidsRequest-(null!==(g=this._s2sBufferExperiment.result)&&void 0!==g?g:200),adapter:"prebidServer",coopSync:-1===this._userSyncLimitExperiment.result?!1:!0,userSyncLimit:this._userSyncLimitExperiment.result,endpoint:{p1Consent:"https://prebid-server.rubiconproject.com/openrtb2/auction",noP1Consent:"https://prebid-server.rubiconproject.com/openrtb2/auction"},syncEndpoint:{p1Consent:"https://prebid-server.rubiconproject.com/cookie_sync",noP1Consent:"https://prebid-server.rubiconproject.com/cookie_sync"}}]}_setPBS(){if("off"===
this._pbsFloorExperiment.result)this._s2sConfig[0].extPrebid={floors:{enabled:!1}};else{var a=this._config.floors.floorsExperiment.rubicon,b=this._config.floors.floorsExperiment.fallback;if(a||b)this._s2sConfig[0].extPrebid={floors:{enabled:!0},...(a&&{analytics:{rubicon:{"client-analytics":!0}}})}}}init(){this._setPBS();this._prebidMethods.setConfig({s2sConfig:this._s2sConfig.filter(a=>a.bidders.length)})}};Ag=l([t(),k("design:paramtypes",[y,zg,W,yg,Yc])],Ag);let Bg=class extends Y{init(){this._key=
"bpto"}run(){return super.run()}};Bg=l([n("BidPoolingTimeoutExperiment"),p()],Bg);let sb=class extends Cj{constructor(a,b,c,d,e,g,h,m,q,w,u,v,A,G,L,J,D,P,M,ca){super();this._bootstrapConfig=b;this._config=c;this._gam=d;this._s2s=e;this._bidderSetup=g;this._mediaType=h;this._prebidMethods=m;this._prebidConfiguration=q;this._predictiveAnalysisExperiment=w;this._slots=u;this._creativeMonitoring=v;this._ortb2=A;this._oseq=G;this._gdprEnforcement=L;this._slotEventBus=J;this._userIdComponent=D;this._bidPoolingTimeoutExperiment=
ca;this.videoAdUnits=[];this.bidsRequested=new z;this._isBeforeRequestEventLoaded=!1;this._excludedSlots=["Interstitial","Native_Recipe"];this._orderedDisplayBidders=this._bidderSetup.orderedDisplayBidders;this._orderedVideoBidders=this._bidderSetup.orderedVideoBidders;this._videoCreativeIdMapping=this._bidderSetup.videoCreativeIdMapping;this._predictiveAnalysisResult=this._predictiveAnalysisExperiment.result;this._predictiveAnalysis=a.core.predictiveAnalysis;this._analytics=[P,M].filter(fa=>fa.enabled)}init(){let a=
this._prebidConfiguration,b=this._orderedDisplayBidders;var c=this._orderedVideoBidders;c=[...b,...c];a.setDefaultConfig();a.aliasBidders(c);this._s2s.init();this._analytics.forEach(d=>void 0!==d.init&&d.init());b.forEach(d=>void 0!==d.init&&d.init());a.applyClientAndServerBidderSettings(c);mj().then(()=>this._prebidMethods.triggerUserSyncs()).then(()=>this._registerSignalSources()).catch(d=>{r.error("PrebidAuctionManager","init","pageLoaded",d)});this._setEvents();this._predictiveAnalysisResult&&
this._setVideoBidsFilter()}_logAuctionDebug(){this._prebidMethods.onEvent("auctionDebug",a=>{a&&"ERROR"===a.type&&([...a.arguments].some(b=>"string"===typeof b&&-1<b.indexOf("Error trying to write ad"))||r.error("PrebidAuctionManager","_logAuctionDebug","auctionDebug",a))})}async _registerSignalSources(){this._config.ccpa.userOptedOut||this._config.gdpr.enabled&&!await this._gdprEnforcement.checkConsentForVendor(this._config.gdpr.cafeMediaVendorId,[1])||(this._prebidMethods.setConfig({userSync:{encryptedSignalSources:{sources:[{source:"esp.criteo.com id5-sync.com pubcid.org parrable.com liveramp.com liveintent.com uidapi.com".split(" "),
encrypt:!1}],registerDelay:2E3}}}),this._prebidMethods.registerSignalSources())}_getNoBidReason(a,b){return Object.keys(a).length?"":b||"noBid"}_setEvents(){this._logAuctionDebug();this._creativeMonitoring.setupCreativeEventListeners();this._prebidMethods.onEvent("bidWon",a=>{let b=this._slots.get(a.adUnitCode);b&&(b.servedPrebidBidResponse=a,this._slots.bidServed.emit(b))});this._prebidMethods.onEvent("auctionEnd",a=>{a.adUnits.forEach(b=>{let {code:c,noBidReason:d}=b;b=this._slots.get(c);let e=
this._prebidMethods.getAdserverTargetingForAdUnitCode(b?b.id:c),g=this._getNoBidReason(e,d);b&&g?b.googleTagSlot.setTargeting("hb_bidder",g):this._slotEventBus.addPrebidSlotTargeting.emit({adUnitCode:c,slotTargeting:g?{noBid:g}:e})})});this._prebidMethods.onEvent("setTargeting",a=>{for(let c in a){var b=this._slots.get(c);if(b){let {hb_adid:d,hb_bidder:e}=a[c];try{this._oseq.setOseq(b,{hb_adid:d,hb_bidder:e})}catch(g){b=this._prebidMethods.getVersion(),r.error("PrebidAuctionManager","setEvents",g,
b)}}}});this._prebidMethods.onEvent("beforeRequestBids",a=>{!this._mediaType.oneStreamExpResult&&this._mediaType.isOutstreamAllowed()||this._isBeforeRequestEventLoaded||this._updateHighImpactUnitTargeting();const b=this._userIdComponent.getTargetingData();a.forEach(c=>{var d;const e=this._slots.get(c.code);c=null!==(d=c&&c.ortb2Imp&&c.ortb2Imp.ext&&c.ortb2Imp.ext.tid)&&void 0!==d?d:"";e&&(e.setTransactionId(c),e.setSlotTargetingFlag("tid",[e.transactionId],!0),e.setSlotTargetingFlag("idp",b,!0))});
this._isBeforeRequestEventLoaded=!0});this._predictiveAnalysisResult&&this._setVideoBidsFilter();this._prebidMethods.onEvent("bidRequested",()=>{void this.bidsRequested.emit()});this._gam.slotOnload.on(({slot:a})=>{if(a.bidPoolId){let b=this._bidPoolingTimeoutExperiment.result;setTimeout(()=>{this._prebidMethods.clearTargetingForSharedBidPool(a.id)},b&&1E3*b||0)}})}_setVideoBidsFilter(){if(this._predictiveAnalysis.length){var a=c=>{const d=this._config.context.device;return"1"===c?"phone"===d:"tablet"===
d||"desktop"===d},b={};this._predictiveAnalysis.filter(c=>parseFloat(c.error_rate)>this._predictiveAnalysisResult&&"1"===c.chrome===Ua()&&a(c.mobile)).forEach(c=>{b[`${c.adomain},${c.bidder}`]=!0});this._prebidMethods.setBidsReceivedFilter(c=>c.length&&this._config.video.instreamAdUnits.has(c[0].adUnitCode)?c.filter(d=>{let e=!0,g=d.meta&&d.meta.advertiserDomains;if(!g||!Array.isArray(g))return e;g.forEach(h=>{b[h+","+d.bidder]&&(e=!1)});return e}):c)}}_updateSlotTargeting(a){if(this._mediaType.outstreamSlots.has(`${a.placementMapName}`)){var b=
this._config.adTypes.enabledMinified.map(c=>c.toLowerCase()).filter(c=>"od"===c||"om"===c);b.length&&this._gam.setSlotTargeting({key:"hi_au",value:b},a.googleTagSlot)}}instlEnabled(a){return"Interstitial"===a&&this._config.adOptions.interstitial.prebid}get videoCreativeIdMapping(){return this._videoCreativeIdMapping}addSlots(a){let b=this._orderedDisplayBidders.map(d=>d.getBidRequests(a)),c=a.filter(d=>this._shouldIncludeSlot(d)).sort((d,e)=>d.auctionPriority-e.auctionPriority).map(d=>{const e=this.instlEnabled(d.location),
g=this._ortb2.addOrtb2Imp({slot:d},e);this._mediaType.oneStreamExpResult&&this._updateSlotTargeting(d);return{...(d.bidPoolId&&{bidPoolId:d.bidPoolId}),code:e?this._config.prebid.interstitialAdUnitCode:d.element.id,mediaTypes:this._mediaType.getMediaType({slot:d}),...(g?{ortb2Imp:g}:{}),bids:b.map(h=>h.get(d.id)).filter(Cb).reduce((h,m)=>h.concat(m),[])}});this._prebidMethods.addAdUnits(c);this._setAdUnitOnSLot(a);return c}reset(){return this._prebidMethods.removeAllAdUnits()}_setAdUnitOnSLot(a){a.length&&
this._prebidMethods.addToQueue(()=>{let b=this._prebidMethods.getPrebidAdUnits();b&&a.forEach(c=>{let d=b.filter(e=>e.code===c.element.id);d.length&&(c.prebidAdUnit=d[0])})})}_updateSlots(a){a.forEach(b=>{b.isHighlyViewable()&&(this._updateBidderBidParams(b),this._updateAdUnitParams(b))})}_updateAdUnitParams(a){let b=a.prebidAdUnit;if(b){let c=this._ortb2.addOrtb2Imp({slot:a});b.ortb2Imp=c;b.mediaTypes=this._mediaType.getMediaType({slot:a})}}_updateBidderBidParams(a){let b=a.prebidAdUnit;b&&b.bids&&
b.bids.forEach(c=>{let d=this._bidderSetup.biddersParams.get(c.bidder);d&&d.updateBidParams(c,a)})}_updateHighImpactUnitTargeting(){let a=this._gam;E.pushToQueue(()=>{let b=a.getTargetingValuesForKey("hi_au").filter(c=>"od"!==c&&"om"!==c);b.length?a.setTargeting({key:"hi_au",value:b}):a.clearTargetingForKey("hi_au")})}_shouldIncludeSlot(a){return!this._excludedSlots.includes(a.location)||"Interstitial"===a.location&&this.instlEnabled(a.location)}_addOutstreamLabel(a,b){this._mediaType.isOutstreamAllowed()&&
a.forEach(c=>{this._mediaType.outstreamEnabled(c).outstreamCapable&&b.push(`outstreamCapable_${c.placementMapName}`);this._mediaType.outstreamEnabled(c).currentlyActive&&b.push(`outstreamActive_${c.placementMapName}`)});return b}_addHvpLabel(a,b){a.forEach(c=>{c.isHighlyViewable()&&b.push(`hvp_${c.placementMapName}`)})}_addRefreshLabel(a,b){a.forEach(c=>{0<c.refreshCount&&b.push("refresh")})}_addLabels(a,b){this._addRefreshLabel(a,b);this._addOutstreamLabel(a,b);this._addHvpLabel(a,b)}requestBids(a,
b=this._config.timeouts.initialBidsRequest,c=[]){a=a.filter(d=>this._shouldIncludeSlot(d));return new Promise(d=>{this.checkLibLoaded().then(e=>{if(e&&a.length){var g=a.map(h=>this.instlEnabled(h.location)?this._config.prebid.interstitialAdUnitCode:h.element.id);this._addLabels(a,c);this._updateSlots(a);this._prebidMethods.requestBids({adUnitCodes:g,timeout:b,bidsBackHandler:()=>{E.pushToQueue(()=>{this._prebidMethods.setTargetingForGPTAsync(g,null,a[0].bidPoolId,1);d()})},labels:c})}else d()}).catch(e=>
r.error("PrebidAuctionManager","requestBids",e))})}addVideoSlots(a){let b=this._orderedVideoBidders.map(d=>d.getVideoBidRequests(a)),c=a.map(d=>{var e=this._ortb2.addOrtb2Imp({video:d});e={code:d.name,ortb2Imp:e,mediaTypes:this._mediaType.getMediaType({video:d}),bids:b.map(g=>g.get(d.name)).filter(Cb).reduce((g,h)=>g.concat(h),[])};return d.videoAdUnit=e});this._prebidMethods.addAdUnits(c)}requestVideoBids(a,b=this._config.timeouts.initialBidsRequest){let c=a.map(({name:d})=>d);return new Promise(d=>
{this.checkLibLoaded().then(e=>{e||d();this._prebidMethods.requestBids({adUnitCodes:c,timeout:b,bidsBackHandler:()=>{E.pushToQueue(()=>{this._prebidMethods.setTargetingForGPTAsync(c);d()})}})}).catch(e=>r.error("PrebidAuctionManager","requestVideoBids",e))})}refreshBids(a){return this.requestBids(a,this._config.timeouts.refreshBidsRequest)}checkLibLoaded(){return new Promise(a=>{this._bootstrapConfig.bootstrapLoaders[ra.Prebid].then(()=>a(!0)).catch(()=>a(!1))})}get enabled(){return!/Trident|MSIE/.test(ha)}};
sb=l([n("PrebidAuctionManager"),p(),U(0,T("AdThrive")),k("design:paramtypes",[Object,ma,y,E,Ag,ng,za,W,xg,Xc,la,pg,ac,ug,qb,Ha,Qc,Df,Ef,Bg])],sb);let tb=class{constructor(a,b,c,d){this._slotEventBus=c;this._videoEventBus=d;this._auctionManagers=[b,a];this._auctionManagers=this._auctionManagers.filter(e=>e.enabled);this._setSlotEvents();this._setVideoEvents()}_setSlotEvents(){this._slotEventBus.addSlots.on(a=>this._addSlots(a));this._slotEventBus.requestingBids.on(a=>this._requestBids(a));this._slotEventBus.refreshingBids.on(a=>
this._refreshBids(a))}_setVideoEvents(){this._videoEventBus.videoPlayerAdded.on(a=>this._addVideoSlots(a));this._videoEventBus.requestingVideoBids.on(({videos:a,timeout:b})=>this._requestVideoBids(a,b))}init(){this._auctionManagers.forEach(a=>void 0!==a.init&&a.init())}_requestBids(a){return Promise.all(this._auctionManagers.map(b=>b.requestBids(a)))}_refreshBids(a){return Promise.all(this._auctionManagers.map(b=>b.refreshBids(a)))}_addSlots(a){this._auctionManagers.forEach(b=>{void 0!==b.addSlots&&
b.addSlots(a)})}_addVideoSlots(a){this._auctionManagers.filter(b=>b.videoEnabled&&b.addVideoSlots).forEach(b=>b.addVideoSlots(a))}_requestVideoBids(a,b){return Promise.all(this._auctionManagers.filter(c=>c.videoEnabled).map(c=>c.requestVideoBids(a,b)))}getPrebidAuctionManager(){for(let a of this._auctionManagers)if(a instanceof sb)return a}getAmazonAuctionManager(){for(let a of this._auctionManagers)if(a instanceof Pc)return a}};tb=l([n("AuctionManagers"),p(),k("design:paramtypes",[sb,Pc,Ha,Ca])],
tb);let Cg=class{constructor(a){this._commands=a.cmd||[]}init(){if(0<this._commands.length){for(let a of this._commands)this._isGamMethod(a.toString())?this._addToGamQueue(a):this._call(a);this._commands=[]}}push(a){0<this._commands.length?this._commands.push(a):this._isGamMethod(a.toString())?this._addToGamQueue(a):this._call(a)}_call(a){a.call(void 0)}_isGamMethod(a){return a&&(a.includes("setTargeting(")||a.includes("googletag")||a.includes("pubads"))}_addToGamQueue(a){E.pushToQueue(()=>{this._call(a)})}};
Cg=l([p(),U(0,T("AdThrive")),k("design:paramtypes",[Object])],Cg);let Zc=class{constructor(){this.wasStarted=this.wasClosed=!1;this.totalTimeCollapsed=0}};Zc=l([n("CollapsibleVideoLoggingStore"),p()],Zc);let Dg=class extends K{constructor(a,b){super();this._result=!1;this.key="upl";this._choices=[{choice:!0},{choice:!1}];this.weight=.25;if(b=b.getCoreExperimentButMutateWeights(this.key))this.weight=b.variants[0].weight,this._result=this.run(),a.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return(new O(this.weight)).get()}};
Dg=l([n("UserPageDataLoggingExperiment"),p(),k("design:paramtypes",[I,aa])],Dg);let Eg=class extends K{constructor(a){super();this._result=!1;this.key="UserPageDataPrivacyLoggingExperiment";this._choices=[{choice:!0},{choice:!1}];this.weight=.1;if(a=a.getCoreExperimentButMutateWeights(this.key))this.weight=a.variants[0].weight,this._result=this.run()}get result(){return this._result}run(){return(new O(this.weight)).get()}};Eg=l([n("UserPageDataPrivacyLoggingExperiment"),p(),k("design:paramtypes",
[aa])],Eg);let Fg=class extends C{constructor(a,b,c,d,e,g,h,m,q,w){super();this._bootstrapConfig=a;this._config=b;this._pageManager=c;this._spaEventBus=d;this._prebidMethods=e;this._slotManager=g;this._userPageDataLoggingExperiment=h;this._userPageDataPrivacyLoggingExperiment=m;this._userPageDataLogEvents=q;this._collapsibleVideoLoggingStore=w;this._userPrivacyData={};this._setupSlotManagerEventListeners=()=>{let {reasons:u}=this._config.disableAds,v={requestingBids:null,requestedBids:null,displayed:null},
A={...v,pageLoaded:!1},G=(L,J)=>{A[L]=J;"number"===typeof A.requestingBids&&"number"===typeof A.requestedBids&&"number"===typeof A.displayed&&A.pageLoaded&&(this._setTimingData(A.requestingBids,A.requestedBids,A.displayed),A={...A,...v})};0!==u.size?(A.requestedBids=0,A.requestingBids=0,A.displayed=0):(this._slotManager.requestingBids.once(()=>G("requestingBids",ia())),this._slotManager.requestedBids.once(()=>G("requestedBids",ia())),this._slotManager.displayed.once(()=>G("displayed",ia())));mj().then(()=>
G("pageLoaded",!0))};this._setupUserPageDataLogEventCallbacks=()=>{Q()&&this._userPageDataLogEvents.addCallbackToQueue([this._pageManager.visibilityChange],()=>{"hidden"===document.visibilityState&&this._logUserData()});this._userPageDataLogEvents.addCallbackToQueue([this._pageManager.beforeUnload,this._pageManager.pageHide],()=>this._logUserData());this._spaEventBus.routeChanged.on(()=>this._logUserData())};this._getUserData=()=>{let u=this._getBuildData();var v=this._config.context.device,A=googletag&&
googletag.getVersion&&googletag.getVersion(),G=ia()-this._config.timing.started,L=this._config.timing.totalTimeOnPage,J=window.innerWidth,D=window.innerHeight,P={nonclose:!this._collapsibleVideoLoggingStore.wasClosed,playerName:this._collapsibleVideoLoggingStore.playerName,totalTimeCollapsed:this._collapsibleVideoLoggingStore.totalTimeCollapsed,wasStarted:this._collapsibleVideoLoggingStore.wasStarted},M={...this._userPrivacyData},ca;if(ca=!this._config.gdpr.enabled&&!this._config.ccpa.userOptedOut){a:{if(this._prebidMethods.isPrebidLoaded())for(const fa of window.pbjs.getUserIdsAsEids())if(fa.source&&
"adserver.org"===fa.source&&fa.uids&&0<fa.uids.length&&fa.uids[0].id){ca=fa.uids[0].id;break a}ca=null}ca={uid1:ca}}return{...u,device:v,gptv:A,timePageOpen:G,timeOnPage:L,viewportWidth:J,viewportHeight:D,video:P,...M,...ca}}}init(){this._setupSlotManagerEventListeners();this._setupUserPageDataLogEventCallbacks();this._logUserPrivacyData().catch(()=>{r.error("_logUserPrivacyData: ","Could not log user privacy.")})}get enabled(){return this._userPageDataLoggingExperiment.result}_getBuildData(){var a=
window.adthriveCLS;a=a&&a.buildDate;return{bundleBuildDate:window.adthrive.buildDate,...(a?{clsBuildDate:a}:{})}}_setTimingData(a,b,c){if(window.performance&&window.performance.timing){var d=window.performance.timing;if(d&&0!==d.navigationStart){let e={pageLoad:d.loadEventStart-d.navigationStart,domainLookup:d.domainLookupEnd-d.domainLookupStart,connect:d.connectEnd-d.connectStart,request:d.responseStart-d.requestStart,response:d.responseEnd-d.responseStart,navigation:d.fetchStart-d.navigationStart,
domInteractive:d.domInteractive-d.navigationStart,domContentLoaded:d.domContentLoadedEventStart-d.navigationStart};Object.keys(e).map(g=>e[g]).every(g=>!isNaN(g)&&0<=g&&36E5>g)&&(this._setNonBlockingLibraryTimingData(),{reasons:d}=this._config.disableAds,this._timingData={...e,...this._config.timing.timingData,disableAds:0<d.size?[...d].join():"none",auctionStarted:a,auctionFinished:b,displayed:c})}}}_setNonBlockingLibraryTimingData(){this._config.timing.setNonBlockingLibraryTimingData(this._bootstrapConfig.bootstrapResult)}_logUserData(){this._userPageDataLogEvents.loggingData.emit();
this._userPageDataLogEvents.setUserPageData({...(this._timingData&&{UserPageTimingData:this._timingData}),UserPageDataLoggingComponent:this._getUserData()})}async _logUserPrivacyData(){this._userPageDataPrivacyLoggingExperiment.result&&(this._userPrivacyData=await this._getUserPrivacyData())}async _getUserPrivacyData(){return{gpc:"navigator"in window&&"globalPrivacyControl"in window.navigator?window.navigator.globalPrivacyControl:null,dcp:await this._getDataConsent()}}async _getDataConsent(){if("dataConsentPreference"in
document)try{return await document.dataConsentPreference()}catch(a){}return null}};Fg=l([n("UserPageDataLoggingComponent"),t(),k("design:paramtypes",[ma,y,wa,ka,W,V,Dg,Eg,kb,Zc])],Fg);class bm{constructor(){this._map=[]}add(a,b,c,d=document){this._map.push({el:a,coords:b,dynamicAd:c,target:d})}get map(){return this._map}sort(){this._map.sort(({coords:a},{coords:b})=>a-b)}filterUsed(){this._map=this._map.filter(({dynamicAd:a})=>!a.used)}reset(){this._map=[]}}let ab=class extends bm{};ab=l([p()],ab);
let Gg=class extends K{constructor(a){super();this._result=!1;this.key="AdDensityExperiment";this._choices=[{choice:!0},{choice:!1}];this.weight=.25;if(a=a.getCoreExperimentButMutateWeights(this.key))this.weight=a.variants[0].weight,this._result=this.run()}get result(){return this._result}run(){return(new O(this.weight)).get()}};Gg=l([n("RealizedAdDensityExperiment"),p(),k("design:paramtypes",[aa])],Gg);let Hg=class extends C{constructor(a,b,c,d,e,g,h,m){super();this._gam=a;this._config=b;this._realizedAdDensityExperiment=
c;this._slots=d;this._slotManager=e;this._pageManager=g;this._userPageDataLogEvents=h;this._adInjectionMap=m;this._initialSlotsTimeout=1E4;this._addToMainContent=new Set(["Below_Post"]);this._slotsForAdDensity=new Set("Content Recipe Native_Recipe Sponsor_Tile Below_Post Footer".split(" "));this._commentElem=this._mainContent=null;this._heightsRegistered=!1;this._slotsHeightVideo=this._slotsHeightEnd=this._slotsHeightLoad=this._endMainContentHeight=this._initMainContentHeight=null;this._slotsForInitial=
new Set;this._slotsForMainContent=new Set;this._slotsForEnd=new Set}init(){let [a]=fj(this._config.dynamicAds,this._adInjectionMap);this._mainContent=a;null!==this._mainContent&&(this._initObserver(this._mainContent),this._gam.slotOnload.on(()=>{this._heightsRegistered||(setTimeout(()=>{this._getSlotHeights()},this._initialSlotsTimeout),this._heightsRegistered=!0)}),this._slotManager.added.on(b=>{b.some(c=>c.infinite)||this._addSlots(b)}),this._userPageDataLogEvents.addCallbackToQueue([this._pageManager.beforeUnload],
()=>this._logAdDensity()))}_logAdDensity(){let a={...(this._initMainContentHeight&&this._slotsHeightLoad&&{addensload:Math.round(this._slotsHeightLoad/this._initMainContentHeight*100)}),...(this._endMainContentHeight&&this._slotsHeightEnd&&{addensend:Math.round(this._slotsHeightEnd/this._endMainContentHeight*100)}),...(this._endMainContentHeight&&this._slotsHeightVideo&&{addensvid:Math.round(this._slotsHeightVideo/this._endMainContentHeight*100)})};0<Object.keys(a).length&&this._userPageDataLogEvents.setUserPageData({AdDensityComponent:a})}_addSlots(a){a.filter(b=>
this._slotsForAdDensity.has(b.location)).filter(b=>!b.element.classList.contains("adthrive-slicksearch")).forEach(b=>{b.lazy||(this._slotsForInitial.add(b.name),this._addToMainContent.has(b.location)&&this._slotsForMainContent.add(b.name));this._slotsForEnd.add(b.name)})}isSlotInMainContent(a){var b;return(null===(b=this._mainContent)||void 0===b?0:b.querySelector(`#${a.id}`))&&!this.isSlotInComment(a)?!0:!1}isSlotInComment(a){return this._commentElem&&this._commentElem.querySelector(`#${a.id}`)?
!0:!1}_getSlotHeights(){let a=0,b=0;this._slots.get().forEach(c=>{this._slotsForInitial.has(c.name)&&("Content"!==c.location||this.isSlotInMainContent(c))&&(a+=c.element.offsetHeight);this._slotsForMainContent.has(c.name)&&(b+=c.element.offsetHeight)});this._slotsHeightLoad=a;this._mainContent&&(this._initMainContentHeight=Ud(this._mainContent),this._initMainContentHeight+=b)}_initObserver(a){let b=a.querySelector("div #comments, section .comments");this._observer=this.getIntersectionObserver(b);
null!==b?(this._commentElem=b,this._observer.observe(this._commentElem)):this._observer.observe(a)}getIntersectionObserver(a){return new IntersectionObserver(b=>{var c,d;for(const e of b)null!==this._initMainContentHeight&&(null===a&&0>e.boundingClientRect.top&&(this._calculateSlotHeightsAtEnd(),null===(c=this._observer)||void 0===c?void 0:c.unobserve(this._mainContent)),null!==a&&0<e.boundingClientRect.top&&(this._calculateSlotHeightsAtEnd(),null===(d=this._observer)||void 0===d?void 0:d.unobserve(a)))},
{})}_calculateSlotHeightsAtEnd(){let a=0,b=0;this._slots.get().forEach(c=>{this._slotsForEnd.has(c.name)&&("Content"!==c.location||this.isSlotInMainContent(c))&&(a+=c.element.offsetHeight);this._slotsForMainContent.has(c.name)&&(b+=c.element.offsetHeight)});this._slotsHeightEnd=a;this._mainContent&&(this._endMainContentHeight=Ud(this._mainContent),this._endMainContentHeight+=b);if(this._config.video.playlistPlayerAdded){let c=document.querySelector(".adthrive-collapse-player");a+=c?c.offsetHeight:
0}this._config.video.contextualPlayerAdded&&document.querySelectorAll(".adthrive-video-player").forEach(c=>{a+=c.offsetHeight});this._slotsHeightVideo=a}get enabled(){return this._realizedAdDensityExperiment.result&&"IntersectionObserver"in window&&!(null!==document.querySelector("body.home")||null!==document.querySelector("body.archive"))&&window.location.origin+"/"!==window.location.href.split("?")[0]}};Hg=l([n("RealizedAdDensityComponent"),t(),k("design:paramtypes",[E,y,Gg,la,V,wa,kb,ab])],Hg);
let Ig=class extends C{constructor(a,b){super();this._config=a;this._gam=b}init(){if(this._config.context.querystring.has("ad_test")){let a=this._config.context.querystring.get("ad_test");this._gam.setTargeting({key:"sec",value:a.split(",").map(b=>`test${b}`)})}}};Ig=l([n("AdTestComponent"),t(),k("design:paramtypes",[y,E])],Ig);let Jg=class extends C{constructor(a,b,c){super();this._config=a;this._piiEventBus=b;this._amazonMethods=c;this._trackerHoldoutKey="amz";this._tokenKey="AMZN-Token";this._gdprEnabled=
this._config.gdpr.enabled;this._userOptedOut=this._config.ccpa.userOptedOut}init(){this._regulatoryValidation();this._piiEventBus.dataCaptured.on(a=>this._provideEmailCapture(a))}get enabled(){return this._config.tkho.tracker!==this._trackerHoldoutKey}_provideEmailCapture(a){a={...this._getHashedRecords(a.hash),...this._getGDPRConfig(a.consent),...this._getOptOut()};this._amazonMethods.rpa(a)}_getHashedRecords(a=""){return{hashedRecords:[{type:"email",record:a}]}}_getGDPRConfig(a){let b=this._gdprEnabled;
return{gdpr:{enabled:b,...(b&&{consent:a})}}}_getOptOut(){return{optOut:this._userOptedOut}}_regulatoryValidation(){Ba(this._tokenKey)&&this._userOptedOut&&this._optOut()}_optOut(){this._amazonMethods.upa({hashedRecords:[],optOut:!0})}};Jg=l([n("AmazonPublisherAudiences"),t(),k("design:paramtypes",[y,Wa,Bf])],Jg);let Kg=class extends K{constructor(a,b){super();this._result=!0;this.key="bmetrics";this._choices=[{choice:!0},{choice:!1}];this.weight=.99;if(b=b.getCoreExperimentButMutateWeights(this.key))this.weight=
b.variants[0].weight,this._result=this.run(),a.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return(new O(this.weight)).get()}};Kg=l([n("BrandMetricsExperiment"),p(),k("design:paramtypes",[I,aa])],Kg);let Lg=class extends C{constructor(a,b,c){super();this._brandMetricsExperiment=a;this._gam=b;this._prebidAuctionManager=c;this._url="https://cdn.brandmetrics.com/tag/aa466d868b2742ffa2cc31bb6341dc12/cafemedia.js"}init(){this._prebidAuctionManager.bidsRequested.once(()=>
{this._load()})}get enabled(){return this._brandMetricsExperiment.result}_load(){va(this._url).then(()=>this._monitorSurvey()).catch(()=>{})}_monitorSurvey(){window._brandmetrics=window._brandmetrics||[];window._brandmetrics.push({cmd:"_querySurvey",val:{callback:(a,b)=>{a&&b&&b.measurementId&&this._gam.setTargeting({key:"bms",value:[b.measurementId.toString()]})}}})}};Lg=l([n("BrandMetrics"),t(),k("design:paramtypes",[Kg,E,sb])],Lg);let Mg=class extends C{constructor(a){super();this._config=a}init(){var a=
document.body;const b=`adthrive-device-${this._config.context.device}`;if(!a.classList.contains(b))try{a.classList.add(b)}catch(c){r.error("BodyDeviceClassComponent","init",{message:c.message}),a="classList"in document.createElement("_"),r.error("BodyDeviceClassComponent","init.support",{support:a})}}};Mg=l([n("BodyDeviceClassComponent"),t(),k("design:paramtypes",[y])],Mg);fb(".adthrive-ccpa-modal{background-color:#000;background-color:rgba(0,0,0,.4);display:none;height:100%;left:0;overflow:auto;position:fixed;top:0;width:100%;z-index:2147483647}.adthrive-ccpa-modal-content{background-color:#fefefe;border:1px solid #888;border-radius:10px;box-shadow:0 0 10px rgba(0,0,0,.5);font-family:Verdana,Geneva,Tahoma,sans-serif;margin:0 auto;max-width:592px;padding:20px 24px 24px;position:relative;top:50%;transform:translateY(-50%);width:80%}#adthrive-ccpa-modal-title{color:rgba(0,0,0,.87);font-size:20px;line-height:26px}.adthrive-ccpa-modal-btn:focus,.adthrive-ccpa-modal-btn:hover{color:#000;cursor:pointer;text-decoration:none}#adthrive-ccpa-modal-language{color:rgba(0,0,0,.87);display:block;font-size:14px;line-height:20px;margin:16px 0 32px}#adthrive-ccpa-modal-cancel-btn:focus,#adthrive-ccpa-modal-cancel-btn:hover,#adthrive-ccpa-modal-close-btn-container:focus,#adthrive-ccpa-modal-close-btn-container:hover{color:rgba(0,0,0,.8);cursor:pointer;text-decoration:none}#adthrive-ccpa-modal-continue-btn:focus,#adthrive-ccpa-modal-continue-btn:hover{color:hsla(0,0%,100%,.8);cursor:pointer;text-decoration:none}#adthrive-ccpa-modal-close-btn-container{color:#000;font-size:20px;font-weight:700;line-height:20px;position:absolute;right:8px;top:8px}.adthrive-ccpa-lower-buttons-container{color:#000;font-size:18px}#adthrive-ccpa-modal-cancel-btn{display:inline-block;text-align:left;width:calc(100% - 150px)}#adthrive-ccpa-modal-continue-btn{background-color:#010044;border-radius:10px;color:#fff;display:inline-block;height:44px;line-height:44px;text-align:center;width:150px}@media screen and (max-width:896px){.adthrive-ccpa-modal-content{margin:0 auto;position:relative;width:calc(100% - 80px)}#adthrive-ccpa-modal-title{font-size:16px;line-height:24px}#adthrive-ccpa-modal-language{font-size:12px;line-height:16px;text-align:left}.adthrive-ccpa-lower-buttons-container{font-size:14px}#adthrive-ccpa-modal-close-btn-container{font-size:14px;line-height:14px}}@media screen and (max-width:350px){#adthrive-ccpa-modal-title{font-size:14px;line-height:24px}#adthrive-ccpa-modal-language{font-size:10px;line-height:14px;text-align:left}.adthrive-ccpa-lower-buttons-container{display:block;font-size:12px;text-align:center;width:100%}#adthrive-ccpa-modal-close-btn-container{display:block;font-size:12px;line-height:12px}#adthrive-ccpa-modal-cancel-btn,#adthrive-ccpa-modal-continue-btn{display:block;text-align:center;width:100%}#adthrive-ccpa-modal-cancel-btn{margin-bottom:10px}}");
class cm extends C{constructor(a){super();this._config=a;this._deviceAccess=!1;this.ccpaRequired=this._config.ccpa.required;this.privacyString=this._config.ccpa.privacyString;this.ccpaNotApplicable=this._config.ccpa.ccpaNotApplicable;this.ccpaOptIn=this._config.ccpa.ccpaOptIn;this.ccpaOptOut=this._config.ccpa.ccpaOptOut;this.ccpaOptOutText=this._config.ccpa.optOutText;this.ccpaOptInText=this._config.ccpa.optInText;this.gpcEnabled=!!this._config.ccpa.gpcEnabled;this.gpcUpdated=!1;this.globalPrivacyControl=
window.navigator.globalPrivacyControl;this._deletionQueue=[];this.ccpaLinkText=""===this.privacyString||this.privacyString===this.ccpaOptIn?this.ccpaOptOutText:this.ccpaOptInText;this.modal=Ea("div","adthrive-ccpa-modal","adthrive-ccpa-modal");this.modalContent=Ea("div","adthrive-ccpa-modal-content","adthrive-ccpa-modal-content");this.ccpaATag=Ea("a","ccpaTag",void 0,this.ccpaLinkText,"/");this.ccpaOptOutDivId="adthrive-ccpa-link"}init(){window.__uspapi=this.uspapi.bind(this);this.addLocatorFrame();
this.ccpaRequired?(window.__uspapi("registerDeletion",1,this.deleteData),this.setGpcString(),this.setPrivacyString(this.gpcEnabled?this.ccpaOptOut:this.ccpaOptIn),this.setDeviceAccess()):this.setPrivacyString(this.ccpaNotApplicable)}setPrivacyString(a,b=!1){let c=this.ccpaRequired&&this.privacyString===this.ccpaNotApplicable,d=!this.ccpaRequired&&this.privacyString!==this.ccpaNotApplicable;if(""===this.privacyString||!0===b||c||d||this.gpcUpdated)b=(new Date(2147483647E3)).toUTCString(),document.cookie=
`usprivacy=${a};path=/;expires=${b}`,this.privacyString=a}setGpcString(){null!==this.gpcEnabled&&!1!==this.gpcEnabled||!this.globalPrivacyControl?!0!==this.gpcEnabled||this.globalPrivacyControl||(H.removeLocalStorageValue("gpc"),this.gpcEnabled=this.globalPrivacyControl,this.gpcUpdated=!0):(H.setLocalStorageValue("gpc",`${this.globalPrivacyControl}`),this.gpcEnabled=!!`${this.globalPrivacyControl}`,this.gpcUpdated=!0)}uspapi(a,b,c){switch(a){case "performDeletion":this._deletionQueue.forEach(d=>d());
break;case "registerDeletion":this._deletionQueue.push(c);break;case "getUSPData":return a={command:a,version:b,uspString:Ba("usprivacy")},c(a,!0);default:return null}}addLocatorFrame(){if(null===document.getElementById("__uspapiLocator")){let a=document.createElement("iframe");a.style.display="none";a.id="__uspapiLocator";a.name="__uspapiLocator";document.body.appendChild(a)}}setCCPAEventListener(a,b,c,d){c&&this.modal?c.addEventListener("click",(()=>{a&&this.optUserInOrOut();b&&(this.modal.style.display=
"none")}).bind(this)):d&&this.modal&&d.addEventListener("click",(e=>{e.target==this.modal&&(this.modal.style.display="none")}).bind(this))}optUserInOrOut(){this.privacyString===this.ccpaOptIn?(this.setPrivacyString(this.ccpaOptOut,!0),window.__uspapi("performDeletion",1),this.modal.style.display="block",this.ccpaATag.textContent=this.ccpaOptInText):(this.setPrivacyString(this.ccpaOptIn,!0),this.ccpaATag.textContent=this.ccpaOptOutText);this._config.ccpa.consentChange.emit(this.privacyString);this.setDeviceAccess()}createCCPAModal(){document.body.append(this.modal);
this.modal.append(this.modalContent);this.setCCPAEventListener(!1,!0,void 0,window);var a=Ea("div","adthrive-ccpa-modal-close-btn-container",void 0,"<span>&#10005;</span>");this.modalContent.append(a);this.setCCPAEventListener(!1,!0,a);a=Ea("div","adthrive-ccpa-modal-title",void 0,this._config.ccpa.optOutText);this.modalContent.append(a);a=Ea("span","adthrive-ccpa-modal-language",void 0,'You have chosen to opt-out of the sale or sharing of your information from this site and any of its affiliates. To opt back in please click the "Customize my ad experience" link.<br>\n    <br>This site collects information through the use of cookies and other tracking tools. Cookies and these tools do not contain any information that personally identifies a user, but personal information that would be stored about you may be linked to the information stored in and obtained from them. This information would be used and shared for Analytics, Ad Serving, Interest Based Advertising, among other purposes.<br>\n    <br>For more information please visit this site\'s Privacy Policy.');
this.modalContent.append(a)}createModalLowerButtons(){let a=Ea("div",void 0,"adthrive-ccpa-lower-buttons-container");this.modalContent.append(a);var b=Ea("div","adthrive-ccpa-modal-cancel-btn","adthrive-ccpa-modal-btn","CANCEL");a.append(b);this.setCCPAEventListener(!0,!0,b);b=Ea("div","adthrive-ccpa-modal-continue-btn","adthrive-ccpa-modal-btn","CONTINUE");a.append(b);this.setCCPAEventListener(!1,!0,b)}addOptOutElements(a=!0){this.ccpaOptOutDiv=Ea("div",this.ccpaOptOutDivId,"adthrive-ccpa-link",
"Information from your device can be used to personalize your ad experience. <br><br>");this.ccpaOptOutDiv.style.display=a?"block":"none";this.ccpaOptOutDiv.appendChild(this.ccpaATag);this.setCCPAEventListener(!0,!1,this.ccpaATag);this.createCCPAModal();this.createModalLowerButtons()}deleteData(){}setDeviceAccess(){this._deviceAccess=this.privacyString===this.ccpaOptIn?!0:!1}}let $c=class extends ea{init(){let a=F.resolve(y);this._key="spa_"+String(a.site.id);this._default=!1}};$c=l([n("SpaMultiSiteExperiment"),
p()],$c);let ub=class extends ea{init(){let a=F.resolve($c).key;this._key=this._coreExperimentConfig.getCoreExperiment(F.resolve($c).key)?a:"spa";this._default=!1}isEnabled(){return!0===F.resolve(y).adOptions.spa&&super.isEnabled()}run(){return super.run()}};l([N(),k("design:type",Function),k("design:paramtypes",[]),k("design:returntype",Object)],ub.prototype,"run",null);ub=l([n("SinglePageAppManagerExperiment"),p()],ub);let ad=class extends cm{constructor(a,b,c){super(a);this._singlePageAppManagerExperimentResult=
c.result;this._spaEventBus=b}init(){super.init();if(this.ccpaRequired){this._setupListeners();let a=document.querySelector(`#${this.ccpaOptOutDivId}`),b=this._isHomeOrFPV();a||(this.addOptOutElements(b),this.injectFooter())}}uspapi(a,b,c){return super.uspapi(a,b,c)}createCCPAModal(){return super.createCCPAModal()}optUserInOrOut(){super.optUserInOrOut()}_isHomeOrFPV(){return"/"===window.location.pathname||this._config.context.isFirstPageview}_setupListeners(){if(this._singlePageAppManagerExperimentResult)this._spaEventBus.routeChanged.once(()=>
{this.init();let a=document.querySelector(`#${this.ccpaOptOutDivId}`),b=this._isHomeOrFPV()?"block":"none";a&&(a.style.display=b)})}injectFooter(){this.ccpaOptOutDiv&&this._config.footer.elements.push({order:1,element:this.ccpaOptOutDiv})}};ad=l([n("CCPAComponent"),t(),k("design:paramtypes",[y,ka,ub])],ad);let bd=class extends K{constructor(a,b){super();this._result=!1;this.key="confiant1";this._choices=[{choice:!0},{choice:!1}];this.weight=.01;if(b=b.getCoreExperimentButMutateWeights(this.key))this.weight=
b.variants[0].weight,this._result=this.run(),a.set(this.key,this._result?"exp":"prod")}get result(){return this._result}run(){return(new O(this.weight)).get()}};l([N(),k("design:type",Function),k("design:paramtypes",[]),k("design:returntype",void 0)],bd.prototype,"run",null);bd=l([n("ConfiantPropertyExperiment"),p(),k("design:paramtypes",[I,aa])],bd);let dm=new Map([[1,{type:"manual",description:"Deprecated"}],[2,{type:"creative",description:"Creative-based detection"}],[3,{type:"provider_security",
description:"Domain-based detection for unsafe domains"}],[4,{type:"banned_domain",description:"Domain-based detection for bannded domains"}],[5,{type:"provider_ibv",description:"Domain-based detection for in-banner-video"}],[6,{type:"unsafejs",description:"JavaScript-based detection for unsafe ads"}],[7,{type:"hrap",description:"Domain-based detection for high risk ad platform domains"}]]),Ng=class extends C{constructor(a,b){super();this._config=a;this._confiantPropertyExperiment=b;this._prodPropertyId=
"mOinGM9MTu5v-Lto835XLhlrSPY";this._expPropertyId="wyN88rwU6FImxcXgha7IWE-FzsE";this._trackerHoldoutKey="conf"}init(){let a=this._confiantPropertyExperiment.result?this._expPropertyId:this._prodPropertyId;window.confiant=window.confiant||{};window.confiant.callback=(b,c,d,e,g)=>{let h=dm.get(b);r.event("ConfiantComponent","adBlocked",{blockingTypeIntegerValue:b,blockingType:h?h.type:"unknown",description:h?h.description:"unknown",tagId:g,wrapperId:e,blockingId:c,isBlocked:d})};return va(`https://${"cdn.confiant-integrations.net"}/${a}/gpt_and_prebid/config.js`)}get enabled(){return this._config.tkho.tracker!==
this._trackerHoldoutKey}};Ng=l([n("ConfiantComponent"),t(),k("design:paramtypes",[y,bd])],Ng);let Og=class extends C{constructor(a,b){super();this._config=a;this._gam=b;this.debug=!1;this.debug=this._config.context.debug}getConfigTargeting(){var a;let b=this._config,c=this._config.context,d=this.debug;return[...b.gam.targeting,{key:"abgroup",value:b.abGroup.groups},{key:"pubab",value:b.pubAbGroup.groups},{key:"idho_p",value:b.idho.percentages},{key:"bucket",value:d?"unsupported":c.bucket},{key:"sens",
value:b.site.sensitiveCategories},{key:"domain",value:c.domain},{key:"plugin",value:c.plugin},{key:"hi_au",value:b.adTypes.enabledMinified},{key:"vpwxvph",value:`${window.innerWidth}x${window.innerHeight}`},{key:"ri",value:c.ri},{key:"rsi",value:c.rsi},{key:"pvk",value:c.pageviewKey},{key:"sess",value:c.sessionKey},{key:"branch",value:c.branch},{key:"deployment",value:d||c.invalidTraffic?"unsupported":c.deployment},{key:"hbho",value:b.hbho.bidders},{key:"vbho",value:b.vbho.bidders},{key:"doba",value:b.displayOpenBidding.bidders},
{key:"gptv",value:window.googletag.getVersion()},{key:"gpid",value:null!==(a=c.gpid)&&void 0!==a?a:"gpid unavailable"}]}getConditionalTargeting(){let a=[],b=this._config.context,c=this._config.site,d=this._config.ccpa;c.sensCategoriesOff.length&&a.push({key:"sens_off",value:c.sensCategoriesOff});b.connectionTargeting.length&&a.push({key:"connection",value:b.connectionTargeting});d.required&&a.push({key:"ccpaOptOut",value:d.userOptedOut?"1":"0"});return a}setConditionalFlagTargeting(){let a=this._config.context,
b=$i();a.invalidTraffic&&this._gam.setTargetingFlag("bot",a.invalidTraffic);a.adsMinLoadDuration&&this._gam.setTargetingFlag("adsmnche",a.adsMinLoadDuration);this._config.gdpr.enabled&&this._gam.setTargetingFlag("gdpr",["1"]);null!==$i()&&this._gam.setTargetingFlag("brwsrv",[`${b}`]);this._config.adOptions.pmp&&this._gam.setTargetingFlag("pmp_elig",["1"]);qa()&&this._config.adTypes.largeFormatsDesktop&&this._gam.setTargetingFlag("lf_elig",["1"]);!qa()&&this._config.adTypes.largeFormatsMobile&&this._gam.setTargetingFlag("lf_elig",
["1"]);this._config.clsOptions&&(this._gam.setTargetingFlag("clson",[String(!!this._config.clsOptions.injectedFromPlugin)]),this._gam.setTargetingFlag("clsBranch",[this._config.clsOptions.branch||""]),this._gam.setTargetingFlag("clsBucket",[this._config.clsOptions.bucket||""]));a.integration&&this._gam.setTargetingFlag("integration",[a.integration]);a.deliveryVersion&&this._gam.setTargetingFlag("lmdv",[a.deliveryVersion])}init(){E.pushToQueue(()=>{this._gam.setTargeting([...this.getConfigTargeting(),
...this.getConditionalTargeting()]);this.setConditionalFlagTargeting()})}};Og=l([n("ConfigTargetingComponent"),t(),k("design:paramtypes",[y,E])],Og);let Pg=class extends C{constructor(a,b){super();this._gam=a;this._slots=b}init(){this._gam.slotRenderEnded.on(a=>this.confirmedClickOverlay(a))}confirmedClickOverlay({event:a,slot:b}){E.pushToQueue(()=>{let {id:c,location:d,sequence:e,nref:g}=b.getTargetingMap(),h=this.confirmedClickStatus(this._slots.get(a.slot.getSlotElementId()));jj({event:a,ignoreOtherCompanyIds:!0})&&
h&&r.event("confirmedClickOverlay","status",{id:c,location:d,sequence:e,nref:g,confirmedClick:h})})}confirmedClickStatus(a){let b=["common_15click_overlay","common_15click_anchor"];try{let c=null===a||void 0===a?void 0:a.element.querySelectorAll("iframe[id^=google_ads_iframe]"),d;c&&0<(null===c||void 0===c?void 0:c.length)&&(d=c[0]);return b.some(e=>{var g;return null!=(null===(g=null===d||void 0===d?void 0:d.contentDocument)||void 0===g?void 0:g.getElementById(e))})}catch(c){r.error("ConfirmedClickComponent",
"confirmedClickStatus",c)}return!1}};Pg=l([n("ConfirmedClicksComponent"),t(),k("design:paramtypes",[E,la])],Pg);let Qg=class extends C{constructor(a,b,c){super();this._config=a;this._gam=b;this._slotManager=c;this._device=this._config.context.device}init(){let a=this._slotManager;this._gam.slotRenderEnded.on(({event:b,slot:c})=>{this.isDeclaredRefreshCompliantSlot(c)&&jj({event:b})&&a.updateRefreshTimeout(c.id,24E4)});a.added.on(b=>b.forEach(c=>{this.isDeclaredRefreshCompliantSlot(c)&&E.pushToQueue(()=>
{c.setTargeting({key:"decref",value:"240"})})}))}isDeclaredRefreshCompliantSlot(a){return"Sidebar"===a.location&&("phone"===this._device||"tablet"===this._device)||"Header"===a.location&&2===a.sequence&&("phone"===this._device||"tablet"===this._device)}};Qg=l([n("DeclaredRefreshComponent"),t(),k("design:paramtypes",[y,E,V])],Qg);let cd=class extends K{constructor(a){super();this.abgroup=a;this._result=!1;this.key="scae";this._choices=[{choice:!0},{choice:!1}];this.weight=.99;this.shouldUseCoreOverride=
!1;this._result=(a=(a=(a=window)&&a.adthriveCLS)&&a.experiments)&&this.key in a?a[this.key]:this.run();this.abgroup.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return(new O(this.weight)).get()}};cd=l([n("StickyContainerAdsExperiment"),p(),k("design:paramtypes",[I])],cd);let dd=class extends ee{constructor(a,b,c,d){var e;super();this._siteExperiments=a;this._pubabgroup=b;this._clsOptions=c;this._choices=[];this._mappedChoices=[];this._result="control";this._resultValidator=
g=>"number"===typeof g;this.key=sa.AdDensity;(null===(e=d.siteAds)||void 0===e?0:e.siteExperiments)?this.experimentConfig=(new fe(d.siteAds)).getSiteExperimentByKey(this.key):this.experimentConfig=this._siteExperiments.getSiteExperimentByKey(this.key);a=this._clsOptions.getWeightedChoiceExperiment(this.key,!0);this.enabled&&this._isValidResult(a)?(this._result=a,this.setExperimentTargeting()):this.enabled&&this.experimentConfig&&(this._choices=this.experimentConfig.variants,this._mappedChoices=this._mapChoices(),
this._result=this.run(),this.setExperimentTargeting())}run(){if(!this.enabled)return r.error("TargetAdDensitySiteExperiment","run","() => %o","No experiment config found. Defaulting to control."),"control";let a=(new ta(this._mappedChoices)).get();if(this._isValidResult(a))return a;r.error("TargetAdDensitySiteExperiment","run","() => %o","Invalid result from experiment choices. Defaulting to control.");return"control"}setExperimentTargeting(){if(this.enabled&&this._isValidResult(this._result)){var a=
this.experimentConfig;a=`${a.key.toLowerCase()}-${a.id}`;this._pubabgroup.set(a,"control"===this._result?"control":`${Math.round(100*this._result)}`)}else r.error("TargetAdDensitySiteExperiment","setExperimentTargeting","() => %o","Experiment targeting requires an experiment config and valid result")}_mapChoices(){return this._choices.map(({weight:a,value:b})=>({weight:a,choice:"number"===typeof b?(b||0)/100:"control"}))}};l([N(),k("design:type",Function),k("design:paramtypes",[]),k("design:returntype",
void 0)],dd.prototype,"run",null);dd=l([p(),U(3,T("AdthriveCLS")),k("design:paramtypes",[Da,ya,Hb,Object])],dd);class Rg{constructor(a){this._adInjectionMap=a;this._mainContentHeight=this._recipeCount=0;this._mainContentDiv=null;this._totalAvailableElements=[];this._densityDevice=Ab.Desktop;this._pubLog={onePerViewport:!1,targetDensity:0,targetDensityUnits:0,combinedMax:0};this._densityMax=.99;this._smallerIncrementAttempts=0;this._absoluteMinimumSpacingByDevice=250;this._usedAbsoluteMinimum=!1;this.locationMaxLazySequence=
new Map([["Recipe",5]]);this._stickyContainerAdsExperiment=F.resolve(cd);this._stickyContainerRecipeExperiment=F.resolve(rb)}inject(a,b=document){window.adthriveCLS&&window.adthriveCLS.targetDensityLog&&r.event("BaseDynamicAdsInjector","_logDensityInfo",window.adthriveCLS.targetDensityLog);this._densityDevice="desktop"===this._config.context.device?Ab.Desktop:Ab.Mobile;this._overrideDefaultAdDensitySettingsWithSiteExperiment();let c=this._config.targetDensity.enabled;var d=a.filter(e=>c?"Content"!==
e.location:e);a=a.filter(e=>c?"Content"===e.location:null);d=d.length?this._injectNonDensitySlots(d,b):[];b=a.length?this._injectDensitySlots(a,b):[];return[...d,...b]}_injectNonDensitySlots(a,b=document){let c=[];for(let m of a){let q=a=0,w=0;0<m.spacing&&(q=a=window.innerHeight*m.spacing);let u=this._repeatDynamicAds(m),v=this._getElements(m.elementSelector,b);for(let A=m.skip;A<v.length&&!(w+1>u.length);A+=m.every){var d=v[A];if(0<a){var {bottom:e}=Td(d);if(e<=q)continue;q=e+a}e=u[w];let G=`${e.location}_${e.sequence}`;
if(c.some(L=>L.name===G))w+=1;else{var g=this.getDynamicElementId(e),h=`adthrive-${m.location.replace("_","-").toLowerCase()}`;h=[this._stickyContainerRecipeExperiment.result&&"Recipe"===m.location&&m.sticky?"adthrive-recipe-sticky-container":"",h,`${h}-${m.sequence}`,...m.classNames];if(d=this.addAd(d,g,m.position,h,m.location))g=this._filterAdUnitSizes(e,d),g.length&&(c.push(this.createSlot(e,d,g,b!==document)),"Recipe"===m.location&&++this._recipeCount,w+=1)}}}return c}_injectDensitySlots(a,b=
document){try{this._calculateMainContentHeightAndAllElements(a,b)}catch(m){return[]}let {onePerViewport:c,targetAll:d,targetDensityUnits:e,combinedMax:g,numberOfUnits:h}=this._getDensitySettings(a,b);this._absoluteMinimumSpacingByDevice=c?window.innerHeight:this._absoluteMinimumSpacingByDevice;if(!h)return[];this._adInjectionMap.filterUsed();this._findElementsForAds(h,c,d,g,e,b);return this._insertAds()}_overrideDefaultAdDensitySettingsWithSiteExperiment(){var a=F.resolve(dd);a.enabled&&(a=a.result,
"number"===typeof a&&(this._config.targetDensity.enabled=!0,this._config.targetDensity.settings[this._densityDevice].adDensity=a))}_getDensitySettings(a,b=document){var c=this._config.targetDensity.settings,d=this._determineOverrides(c.pageOverrides);d=d.length?d[0]:c[this._densityDevice];c=d.adDensity;d=d.onePerViewport;let e=this._shouldTargetAllEligible(c),g=this._getTargetDensityUnits(c,e);a=this._getCombinedMax(a,b);b=Math.min(...[this._totalAvailableElements.length,g,...(0<a?[a]:[])]);this._pubLog=
{onePerViewport:d,targetDensity:c,targetDensityUnits:g,combinedMax:a};return{onePerViewport:d,targetAll:e,targetDensityUnits:g,combinedMax:a,numberOfUnits:b}}_determineOverrides(a){return a.filter(b=>{let c=hb(b.pageSelector);return""===b.pageSelector||c.elements&&c.elements.length}).map(b=>b[this._densityDevice])}_shouldTargetAllEligible(a){return a===this._densityMax}_getTargetDensityUnits(a,b){return b?this._totalAvailableElements.length:Math.floor(a*this._mainContentHeight/(1-a)/this._getMinDivHeight())-
this._recipeCount}_getMinDivHeight(a="Content"){return this._config.clsOptimizedAds.getDivHeight(a,this._config.context.device)}_getCombinedMax(a,b=document){return B(a.filter(c=>{let d;try{d=b.querySelector(c.elementSelector)}catch(e){}return d}).map(c=>Number(c.max)+Number(c.lazyMaxDefaulted?0:c.lazyMax)).sort((c,d)=>d-c)[0],0)}_elementLargerThanMainContent(a){return a.offsetHeight>=this._mainContentHeight&&1<this._totalAvailableElements.length}_elementDisplayNone(a){let b=window.getComputedStyle(a,
null).display;return b&&"none"===b||"none"===a.style.display}_isBelowMaxes(a,b){return this._adInjectionMap.map.length<a&&this._adInjectionMap.map.length<b}_findElementsForAds(a,b,c,d,e,g=document){r.event("BaseDynamicAdsInjector","_logDensityInfo",{onePerViewport:b,combinedMax:d,targetDensityUnits:e,targetDensityPercentage:this._pubLog.targetDensity,mainContentHeight:this._mainContentHeight,recipeCount:this._recipeCount,numberOfEls:this._totalAvailableElements.length});let h=m=>{for(const {dynamicAd:q,
element:w}of this._totalAvailableElements)if(this._logDensityInfo(w,q.elementSelector,m),!(!c&&this._elementLargerThanMainContent(w)||this._elementDisplayNone(w)))if(this._isBelowMaxes(d,e))this._checkElementSpacing({dynamicAd:q,element:w,insertEvery:m,targetAll:c,target:g});else break;!this._usedAbsoluteMinimum&&5>this._smallerIncrementAttempts&&(++this._smallerIncrementAttempts,h(this._getSmallerIncrement(m)))};a=this._getInsertEvery(a,b,e);h(a)}_getSmallerIncrement(a){a*=.6;a<=this._absoluteMinimumSpacingByDevice&&
(a=this._absoluteMinimumSpacingByDevice,this._usedAbsoluteMinimum=!0);return a}_insertAds(){let a=[];this._adInjectionMap.filterUsed();this._adInjectionMap.map.forEach(({el:b,dynamicAd:c,target:d},e)=>{e=Number(c.sequence)+e;var g=c.max;g=c.lazy&&e>g;c.sequence=e;c.lazy=g;if(b=this._addContentAd(b,c,d))c.used=!0,a.push(b)});return a}_getInsertEvery(a,b,c){this._moreAvailableElementsThanUnitsToInject(c,a)?(this._usedAbsoluteMinimum=!1,a=this._useWiderSpacing(c,a)):(this._usedAbsoluteMinimum=!0,a=this._useSmallestSpacing(b));
return b&&window.innerHeight>a?window.innerHeight:a}_useWiderSpacing(a,b){return this._mainContentHeight/Math.min(a,b)}_useSmallestSpacing(a){return a&&window.innerHeight>this._absoluteMinimumSpacingByDevice?window.innerHeight:this._absoluteMinimumSpacingByDevice}_moreAvailableElementsThanUnitsToInject(a,b){return this._totalAvailableElements.length>a||this._totalAvailableElements.length>b}_logDensityInfo(a,b,c){}_checkElementSpacing({dynamicAd:a,element:b,insertEvery:c,targetAll:d,target:e=document}){(this._isFirstAdInjected()||
this._hasProperSpacing(b,a,d,c))&&this._markSpotForContentAd(b,{...a},e)}_isFirstAdInjected(){return!this._adInjectionMap.map.length}_markSpotForContentAd(a,b,c=document){this._adInjectionMap.add(a,this._getElementCoords(a,"beforebegin"===b.position||"afterbegin"===b.position),b,c);this._adInjectionMap.sort()}_hasProperSpacing(a,b,c,d){var e="beforebegin"===b.position||"afterbegin"===b.position;b="beforeend"===b.position||"afterbegin"===b.position;c=c||this._isElementFarEnoughFromOtherAdElements(a,
d,e);e=b||this._isElementNotInRow(a,e);a=-1===a.id.indexOf("AdThrive_Below_Post");return c&&e&&a}_isElementFarEnoughFromOtherAdElements(a,b,c){a=this._getElementCoords(a,c);var d=!1;for(c=0;c<this._adInjectionMap.map.length&&!(d=this._adInjectionMap.map[c+1]&&this._adInjectionMap.map[c+1].coords,d=a-b>this._adInjectionMap.map[c].coords&&(!d||a+b<d));c++);return d}_isElementNotInRow(a,b){let c=a.previousElementSibling,d=a.nextElementSibling;return(b=b?!c&&d||c&&a.tagName!==c.tagName?d:c:d)&&0===a.getBoundingClientRect().height?
!0:b?a.getBoundingClientRect().top!==b.getBoundingClientRect().top:!0}_calculateMainContentHeightAndAllElements(a,b=document){let [c,d]=fj(a,this._adInjectionMap,b);this._mainContentDiv=c;this._totalAvailableElements=d;this._mainContentHeight=Ud(this._mainContentDiv)}_getElementCoords(a,b=!1){a=a.getBoundingClientRect();return(b?a.top:a.bottom)+window.scrollY}_addContentAd(a,b,c=document){let d=null;var e=`adthrive-${b.location.replace("_","-").toLowerCase()}`;let g=`${e}-${b.sequence}`,h=this._config.adOptions.stickyContentEnabled&&
this._stickyContainerAdsExperiment.result?"adthrive-sticky-container":"";if(a=this.addAd(a,this.getDynamicElementId(b),b.position,[h,e,g,...b.classNames],b.location))e=this._filterAdUnitSizes(b,a),e.length&&(d=this.createSlot(b,a,e,c!==document));return d}_getElements(a,b=document){return b.querySelectorAll(a)}_filterAdUnitSizes(a,b){let c=Yk(b),d=a.sticky&&"Sidebar"===a.location;return a.sizes.filter(e=>{let g=d?e[1]<=window.innerHeight-100:!0;return(a.autosize?e[0]<=c||320>=e[0]:!0)&&g})}createSlot({location:a,
sequence:b,sticky:c,lazy:d,stickyOverlapSelector:e,special:g,auctionPriority:h},m,q,w){return new Bj(a,b,q,m,c,d,h,e,g,!0,w)}_repeatDynamicAds(a){let b=[];var c=a.lazy?B(this.locationMaxLazySequence.get(a.location),0):0;let d=a.max;var e=a.lazyMax;c=Math.max(d,0===c&&a.lazy?d+e:Math.min(Math.max(c-a.sequence+1,0),d+e));for(e=0;e<c;e++)b.push({...a,sequence:Number(a.sequence)+e,lazy:a.lazy&&e>=d});return b}_repeatSpecificDynamicAds(a,b,c=0){let d=[];for(let e=0;e<b;e++)d.push({...a,sequence:c+e});
return d}addAd(a,b,c,d=[],e){d=`<div id="${b}" class="adthrive-ad ${d.join(" ")}"></div>`;"Video_StickyOutstream"===e&&(d=`<div class="adthrive-sticky-outstream adthrive-sticky-outstream-${b.includes("phone")?"mobile":"desktop"}">`+d+"</div>");window.adthriveCLS&&window.adthriveCLS.injectedSlots&&window.adthriveCLS.injectedSlots.some(g=>g.element.id===b)||a.insertAdjacentHTML(c,d);return document.getElementById(b)}}let Sg=class extends Rg{constructor(a,b){super(b);this._config=a;this._adInjectionMap=
b}getDynamicElementId(a){return`${this._config.gam.prefix}_${a.location}_${a.sequence}_${this._config.context.device}`}};Sg=l([n("DynamicAdsInjector"),t(),k("design:paramtypes",[y,ab])],Sg);let ed=class extends C{constructor(a,b,c){super();this._config=a;this._injector=b;this._slotManager=c}hasClsInjectedContent(){if(window.adthriveCLS&&window.adthriveCLS.injectedSlots)for(let a of window.adthriveCLS.injectedSlots)if(a.name.includes("Content"))return!0;return!1}start(){let a=this.hasClsInjectedContent(),
b=this._config.dynamicAds.filter(d=>ae(this._config,d)).filter(d=>d.devices.includes(this._config.context.device)).filter(d=>!a||a&&"Content"!==d.location).filter(d=>"Interstitial"===d.location||"Video_StickyOutstream"===d.location?rl(d.pageSelector):0===d.pageSelector.length||null!==document.querySelector(d.pageSelector)).filter(d=>!this.pluginInjected(d)).filter(d=>"Video_StickyOutstream"!==d.location||!this.shouldFilterStickyOutstream()),c=this._injector.inject(b);if(this._config.clsOptions&&this._config.clsOptions.enabled){let d=
[];this._config.clsOptions.injectedSlots.forEach(e=>{let g=c.find(m=>m.name===e.name),h=d.find(m=>m.name===e.name);g||h||d.push(this._injector.createSlot(e.dynamicAd,e.element,e.sizes,e.infinite))});c=c.concat(d)}this._slotManager.add(c).catch(d=>{r.error("DynamicAdsComponent","start","add",d)})}get enabled(){return 0<this._config.dynamicAds.length}shouldFilterStickyOutstream(){if(this._config.video.preventStickyOutstream||this._config.disableAds.video||!this._config.video.stickyOutstreamSettings.allowOnHomepage&&
window.location.origin+"/"===window.location.href.split("?")[0])return!0;this._config.video.hasStickyOutstream=!0;return!1}pluginInjected(a){let b=JSON.stringify(a);return this._config.clsOptions&&this._config.clsOptions.injectedSlots.some(c=>JSON.stringify(c.clsDynamicAd)===b)}};ed=l([n("DynamicAdsComponent"),t(),k("design:paramtypes",[y,Sg,V])],ed);let Tg=class extends C{constructor(a,b){super();this._config=a;this._gam=b}init(){try{this._gam.slotOnload.once(()=>this.refreshExternal())}catch(a){r.error("ExternalSlotsComponent",
"init",a)}}refreshExternal(){E.pushToQueue(()=>{let {account:a}=this._config.gam,b=window.googletag.pubads().getSlots().filter(c=>null===RegExp(`^\/?${a}\/`).exec(c.getAdUnitPath())).filter(c=>null!==document.getElementById(c.getSlotElementId()));b.length&&window.googletag.pubads().refresh(b)})}};Tg=l([n("ExternalSlotsComponent"),t(),k("design:paramtypes",[y,E])],Tg);let Ug=class extends C{constructor(a,b,c,d,e){super();this._gam=a;this._gdprEvents=b;this._config=c;this._gdprEnforcement=d;this._spaEventBus=
e}init(){let a=this._config.context.isFirstPageview?"1":"0",b=[1];if(this._config.gdpr.enabled)this._gdprEvents.consentCaptured.on(()=>{this._gdprEnforcement.checkConsentForVendor(this._config.gdpr.cafeMediaVendorId,b).then(c=>{c&&this.setFPV(a)}).catch(()=>{})});else this.setFPV(a);this.handleSPARouteChange()}setFPV(a="0"){+a&&H.setLocalStorageValue("fpv",(new Date).toString());this._gam.setTargeting({key:"fpv",value:a})}handleSPARouteChange(){this._spaEventBus.routeChanged.on(()=>{this._config.context.isFirstPageview=
!1;this.setFPV("0");H.setSessionFpv()})}};Ug=l([n("FirstPageviewComponent"),t(),k("design:paramtypes",[E,Za,y,qb,ka])],Ug);let Qa=class{constructor(a){this._videoEventBus=a;this.refreshingVideoBids=new z;this.requestingVideoBids=new z}addVideoSlots(a){this._videoEventBus.videoPlayerAdded.emit(a)}async requestVideoBids(a,b){await this.requestingVideoBids.legacyEmit(a).catch();await this._determineIsRefreshing(a).catch();await this._videoEventBus.preRequestVideoBids.legacyEmit({videos:a,timeout:b});
await this._videoEventBus.requestingVideoBids.legacyEmit({videos:a,timeout:b})}async _determineIsRefreshing(a){a=a.filter(b=>0<b._prerollNum);a.length&&await this.refreshingVideoBids.legacyEmit(a)}};Qa=l([n("VideoRequestManager"),p(),k("design:paramtypes",[Ca])],Qa);let Vg=class extends C{constructor(a,b){super();this._config=a;this._eventBus=b;this.setMcmpWithRFCodes=c=>new Promise(d=>{this._eventBus.recencyFrequencyDataSet.on(()=>{this.getMcmpWithRFCodes(c);d(!0)},{handleEventsAlreadyEmitted:!0})})}getMcmpWithRFCodes(a){let b=
this._config.marmalade.mcmp;if(!a)return b;this._config.marmalade.rfMcmpCodes.forEach(c=>{let d=c[0];c[1].includes(a)&&b.push(d)});return b}};Vg=l([n("RecencyAndFrequencyCodesComponent"),t(),k("design:paramtypes",[y,Ga])],Vg);let Wg=class extends C{constructor(a,b,c,d,e,g,h,m){super();this._slotManager=a;this._config=b;this._prebidMethods=c;this._videoRequestManager=d;this._irisTv=e;this._rfcodes=g;this._fledgeGPTExperiment=h;this._spaEventBus=m;this.staticFirstPartyData={site_code:this._config.marmalade.siteCodes.filter(La),
site_id:[this._config.site.id],sens:this._config.site.filteredSensitiveCategories,verticals:this._config.site.verticals,pmp_elig:[this._config.adOptions.pmp]}}init(){this._onAddedEvent();this._onRequestingEvent();this._onRefreshingEvent();this._onVideoRequestingEvent();this._onVideoRefreshingEvent();this._setBidderSpecificFpdForFledge();this._spaEventBus.routeChanged.on(()=>{this._onAddedEvent()})}_onAddedEvent(){this._slotManager.added.once(()=>{this.setBidderSpecificFpd({bidders:[f.Rubicon,f.RubiconServer],
fpdData:{refresh:["false"],vp:"0"},rfCodeBidder:"rubi"});let a=this._config.site.filteredSensitiveCategories;a.length&&this.setBidderSpecificFpd({bidders:[f.Triplelift,f.TripleliftServer,f.YahooSSP],fpdData:{sens:a},addStaticFpd:!1})})}_onRequestingEvent(){this._slotManager.requestingBids.on(a=>{a.forEach(b=>{this.setIXHVPParam(b,this._prebidMethods);b.lazy&&this.setBidderSpecificFpd({bidders:[f.Rubicon,f.RubiconServer],fpdData:{refresh:["false"],vp:"0"}})})})}_onRefreshingEvent(){this._slotManager.refreshingBids.on(a=>
{a.forEach(b=>{this.setIXHVPParam(b,this._prebidMethods)});this.setBidderSpecificFpd({bidders:[f.Rubicon,f.RubiconServer],fpdData:{refresh:["true"],vp:"0"}})})}_onVideoRequestingEvent(){this._videoRequestManager.requestingVideoBids.on(a=>{a.forEach(()=>{let b=this._irisTv,c=b.irisContextualData;c&&c.length&&this.setBidderSpecificFpd({bidders:[f.Pubmatic,f.PubmaticServer],fpdData:{content:{id:b.irisId}},addStaticFpd:!1,isExtData:!1})})})}_onVideoRefreshingEvent(){this._videoRequestManager.refreshingVideoBids.on(a=>
{a.forEach(b=>{0<b.vp&&10>=b._prerollNum&&(this.setBidderSpecificFpd({bidders:[f.Rubicon,f.RubiconServer],fpdData:{refresh:["true"],vp:b.vp.toString()}}),this._prebidMethods.addToQueue(()=>{this.setIXVPParam(b.vp)}))})})}setBidderSpecificFpd({bidders:a,fpdData:b,addStaticFpd:c=!0,location:d="site",isExtData:e=!0,rfCodeBidder:g=""}){let h=this._rfcodes.getMcmpWithRFCodes(g),m=this.getFPD(h,b,c,e);!this._config.marmalade.rfDataProcessed.emitted&&g&&this._rfcodes.setMcmpWithRFCodes(g).then(()=>this.setPrebidFirstPartyData(a,
m,d)).catch(()=>{});this.setPrebidFirstPartyData(a,m,d)}getFPD(a,b,c,d){a={...(c&&{...this.staticFirstPartyData,mcmp:a}),...b};return d?{ext:{data:a}}:a}_setBidderSpecificFpdForFledge(){this._config.context.fledgeSupported&&this._fledgeGPTExperiment.result&&this.setPrebidFledgeForGPT([f.OpenX,f.Rtbhouse])}setPrebidFirstPartyData(a,b,c){this._prebidMethods.setBidderConfig({bidders:a,config:{ortb2:{[c]:b}}})}setPrebidFledgeForGPT(a){this._prebidMethods.setBidderConfig({bidders:a,config:{fledgeEnabled:!0}})}setIXHVPParam(a,
b){E.pushToQueue(()=>{b.addToQueue(()=>{var c=b.getConfig(f.IndexExchange);if(c&&c.firstPartyData){c=c.firstPartyData.HVP||{};var d=ej(a);d=d?d:0;d=fl.includes(d)?d:0;c[a.id]=d;0<a.refreshCount?yb({HVP:c,Refresh:"True"},b):yb({HVP:c},b,!0)}})})}setIXVPParam(a){let b=this._prebidMethods.getConfig(f.IndexExchange);b&&b.firstPartyData&&0<a&&yb({vp:a.toString()},this._prebidMethods)}};Wg=l([n("FirstPartyDataComponent"),t(),k("design:paramtypes",[V,y,W,Qa,$a,Vg,Wc,ka])],Wg);let Xg=class extends C{constructor(a,
b,c,d){super();this._slotManager=a;this._prebidMethods=b;this._config=c;this._floors=d;this.floorsType=R.bidCycleNonlazy;this._cpms={};this._singleFlrMltp=this._percentile=0;this._singleFlrMltp=this._config.floors.floorsExperiment.percentile.singleFlrMltp;this._percentile=this._config.floors.floorsExperiment.percentile.bidCycleNonlazy}init(){this.setTimerOnAuctionInit();this.saveParentBids();this.setDelayedBidFloors()}setDelayedBidFloors(){let a=this._config.floors;this._slotManager.requestingBids.on(b=>
{let c=this._floors.getDefaultFloorConfig();b.forEach(d=>{if(a.bidCycleNonlazySlotLocations.includes(d.location)&&a.isBidCycleNonlazySlot(d)){let e=this._cpms[d.location],g=this._floors.createFloorValue(e,e&&1<e.length?this._percentile:this._singleFlrMltp);g?this._floors.setValues(c,d.id,g):r.event("FloorsBidCycleNonlazyComponent","setDelayedBidFloors",{location:d.location,slotId:d.id,parentCpms:e,floor:g,singleFlrMltp:this._singleFlrMltp,bidCyclePercentile:this._percentile,timeout:a.floorsExperiment.delay})}});
this._floors.prioritizeFloorsConfig(c,R.bidCycleNonlazy)})}setTimerOnAuctionInit(){this._prebidMethods.onEvent("auctionInit",a=>{let b=a&&a.adUnitCodes||[];(a&&a.labels||[]).includes("refresh")||b.forEach(c=>{c=c.split("_");let d=c[1],e=this._config.floors;1===+c[2]&&e.bidCycleNonlazySlotLocations.includes(d)&&Object.keys(e.delayedBids[d]||{}).forEach(g=>{this._floors.createDelayTimeout(d,g,e.floorsExperiment.delay)})})})}saveParentBids(){let a=this._config.floors.bidCycleNonlazySlotLocations;this._slotManager.requestedBids.on(b=>
{b.filter(c=>a.includes(c.location)&&1===c.sequence).forEach(c=>{let {location:d}=c;this._cpms[d]=[];this._prebidMethods.addToQueue(()=>{this._floors.saveBids(c,this._cpms[c.location]);let e=this._config.floors.delayedBids[d];e&&Object.keys(e).forEach(g=>{var h,m;null===(m=(h=e[g]).parentBidResolve)||void 0===m?void 0:m.call(h)})})})})}get active(){return this.enabled}get enabled(){return!!this._config.floors.floorsExperiment.percentile.bidCycleNonlazy}};Xg=l([n("FloorsBidCycleNonlazyComponent"),
t(),k("design:paramtypes",[V,W,y,xa])],Xg);let fd=class extends C{constructor(a,b,c,d,e){super();this._config=a;this._floors=b;this._prebidMethods=c;this._slotManager=d;this._videoRequestManager=e;this.floorsType=R.instream;this.instreamName="Video_StickyInstream";this._enabledParentBidLocations=[];this._firstAuctionComplete=!1;this._footerCpms=[];this._footerPercentile=0;this._outstreamCpms=[];this._footerLocations=["Footer","Footer_1"];this._outstreamLocations=["Video_StickyOutstream","Video_StickyOutstream_1"];
this._outstreamPercentile=0;this._prefixLength=9;this._footerPercentile=this._config.floors.floorsExperiment.percentile.footer;this._outstreamPercentile=this._config.floors.floorsExperiment.percentile.outstream;this._footerPercentile&&this._enabledParentBidLocations.push(...this._footerLocations);this._outstreamPercentile&&this._enabledParentBidLocations.push(...this._outstreamLocations)}init(){this.setTimerOnAuctionInit();this.saveParentCpms();this.setInstreamFirstAucFloor()}setInstreamFirstAucFloor(){this._videoRequestManager.requestingVideoBids.on(a=>
{var b;if(!this._firstAuctionComplete){var c=this._floors.getDefaultFloorConfig();for(let d of a){a=null===(b=d.videoAdUnit)||void 0===b?void 0:b.code;let e=this._config.video.instreamAdUnits.has(d.name),g=0<this._outstreamCpms.length;e&&(this._firstAuctionComplete=!0,0<this._footerCpms.length||0<this._outstreamCpms.length)&&(this.setInstreamFloor(c,a,g),this._floors.prioritizeFloorsConfig(c,R.instream))}}})}saveParentCpms(){this._slotManager.requestedBids.on(a=>{this._firstAuctionComplete||a.filter(b=>
this._enabledParentBidLocations.includes(b.location)).forEach(b=>{let c=!!this._outstreamPercentile&&this._outstreamLocations.includes(b.location);this.checkParentBids(b,c?this._outstreamCpms:this._footerCpms,c)})})}splitOutEligibleInstream(a){let b=[],c=[];for(let d of a)a=this._config.video.instreamAdUnits.has(d.name),0<d._prerollNum||!a?b.push(d):ja.playerViewable(d.playerElement)?(b.push(d),this._firstAuctionComplete=!0):(a=this._config.floors.delayedBids.Video_StickyInstream)&&a[this.instreamName]&&
a[this.instreamName].requestImmediately?b.push(d):c.push(d);return{nondelayed:b,eligibleInstream:c}}setInstreamFloor(a,b,c){(c=Bb(c?this._outstreamCpms:this._footerCpms,c?this._outstreamPercentile:this._footerPercentile))&&this._floors.setValues(a,b,c)}checkParentBids(a,b,c){this._prebidMethods.addToQueue(()=>{let d=this._config.floors,e=d.delayedBids.Video_StickyInstream;var g=!this._config.video.hasStickyOutstream;g=c||g;this._floors.saveBids(a,b);g&&(e?Object.keys(e).forEach(()=>e[this.instreamName].parentBidResolve()):
d.delayedBids.Video_StickyInstream={[this.instreamName]:{parentBidResolve:()=>{},requestImmediately:g}})})}isStickyOutstream(a){return this._outstreamLocations.some(b=>a.substring(this._prefixLength,b.length+this._prefixLength)===b)}setTimerOnAuctionInit(){this._prebidMethods.onEvent("auctionInit",a=>{let b=a&&a.adUnitCodes||[];(a&&a.labels||[]).includes("refresh")||b.forEach(c=>{let d=c.split("_")[1]||"",e=this._config.floors;("Footer"===d||"Video"===d&&this.isStickyOutstream(c))&&Object.keys(e.delayedBids[d]||
{}).forEach(g=>{this._floors.createDelayTimeout(d,g,e.floorsExperiment.delay)})})})}get active(){return this.enabled}get enabled(){return this._config.floors.floorsExperiment.instream}};fd=l([n("FloorsInstreamComponent"),t(),k("design:paramtypes",[y,xa,W,V,Qa])],fd);let Yg=class extends C{constructor(a,b,c,d,e){super();this._slotManager=a;this._prebidMethods=b;this._floors=c;this._floorsExperiment=d;this._spaEventBus=e;this.floorsType=R.lazy;this._percentile=.6;this._enabledAdUnits=["Content","Recipe",
"Below_Post"];this._spaRouteChangeListenerSet=!1;this._offEvents=[()=>{}];this._adUnitCpms=[]}init(){this._offEvents.push(this._slotManager.requestingBids.on(a=>{let b=this._floors.getDefaultFloorConfig();a.filter(c=>this._enabledAdUnits.includes(c.location)&&c.lazy).forEach(c=>{let d=Bb(this._adUnitCpms,this._percentile);this._floors.setValues(b,c.id,d)});this._floors.prioritizeFloorsConfig(b,R.lazy)}));this._offEvents.push(this._slotManager.requestedBids.on(a=>{a.filter(b=>this._enabledAdUnits.includes(b.location)).forEach(b=>
{this._prebidMethods.addToQueue(()=>{this._floors.saveBids(b,this._adUnitCpms)})})}));this._spaRouteChangeListenerSet||this._setSpaRouteChangeListener()}_setSpaRouteChangeListener(){this._spaRouteChangeListenerSet=!0;this._spaEventBus.routeChanged.on(()=>{this._offEvents.forEach(a=>{a()});this._offEvents=[];this.init()})}get active(){return this.enabled}get enabled(){return this._floorsExperiment.result.legacy}};Yg=l([n("FloorsLazyComponent"),t(),k("design:paramtypes",[V,W,xa,Na,ka])],Yg);let Zg=
class extends C{constructor(a,b,c,d,e,g){super();this._config=a;this._slotManager=b;this._floors=c;this._prebidMethods=d;this._videoRequestManager=e;this._floorsExperiment=g;this.floorsType=R.refresh;this._bannerMulitplierLowRefresh=1.3;this._instreamMulitplierLowRefresh=this._bannerMulitplierHighRefresh=1.1;this._instreamMulitplierHighRefresh=1}init(){this._slotManager.refreshing.on(a=>{this._prebidMethods.addToQueue(()=>{this._setRefreshFloors(a.map(b=>({adUnitCode:b.id,refreshCount:b.refreshCount,
bidPoolId:b.bidPoolId})))})});this._videoRequestManager.refreshingVideoBids.on(a=>{this._prebidMethods.addToQueue(()=>{this._setRefreshFloors(a.map(b=>{var c;return{adUnitCode:null===(c=b.videoAdUnit)||void 0===c?void 0:c.code,refreshCount:b._prerollNum}}))})})}_getFloorValue(a,b,c){c=5>=c;return a*(b?c?this._instreamMulitplierLowRefresh:this._instreamMulitplierHighRefresh:c?this._bannerMulitplierLowRefresh:this._bannerMulitplierHighRefresh)}_setRefreshFloors(a){let b=this._floors.getDefaultFloorConfig();
for(let d of a){let {adUnitCode:e,bidPoolId:g}=d;a=Date.now();this._floors.updateBidTTL(e,a,g);var [c]=g?this._prebidMethods.getHighestCpmBidsForPoolId(g):this._prebidMethods.getHighestCpmBids(e);a=this._config.video.instreamAdUnits.has(e);if(a=(c=c&&c.cpm)&&this._getFloorValue(c,a,d.refreshCount))this._floors.setValues(b,e,a),this._floors.setOGRefreshValue(e,c)}this._floors.prioritizeFloorsConfig(b,R.refresh)}get active(){return this.enabled}get enabled(){return!0===this._floorsExperiment.result.legacy}};
Zg=l([n("FloorsRefreshComponent"),t(),k("design:paramtypes",[y,V,xa,W,Qa,Na])],Zg);let $g=class extends C{constructor(a,b,c,d){super();this._config=b;this._floors=c;this._floorsExperiment=d;this.floorsType=R.rubicon}init(){let a=this._config.floors.floorsData;if(a)this.createFloorsMap(a);else this._config.floors.floorsDataReady.once(()=>this.createFloorsMap(a))}createFloorsMap(a){a?(this.buildFloorsMap(a.modelGroups),this._floors.setRubiconFloors(a)):r.error("RubiconFloorsComponent","init","Rubicon floor data not found")}buildFloorsMap(a){a.forEach((b,
c)=>{this._floors.modelVersionMap.set(b.modelVersion,c)})}get active(){return this.enabled}get enabled(){return!0===this._floorsExperiment.result.rubicon}};$g=l([n("FloorsRubiconComponent"),t(),U(0,T("AdThrive")),k("design:paramtypes",[Object,y,xa,Na])],$g);let ah=class extends C{constructor(a,b,c,d,e,g){super();this._slotManager=a;this._videoRequestManager=b;this._floors=c;this._prebidMethods=d;this._floorsExperiment=e;this._spaEventBus=g;this.floorsType=R.session;this._percentile=.6;this._rdx=33;
this._defaultSavedBids={Content:[],Recipe:[],Header:[],Below_Post:[],Sidebar:[],Footer:[],"Video_In-Post_ClicktoPlay_SoundOn":[],Video_Collapse_Autoplay_SoundOff:[],Video_Individual_Autoplay_SOff:[],Video_Coll_SOff_Smartphone:[]};this._savedBidsRan=!1;this._offEvent=()=>{};this._sessionNonFPV=!1===H.getLocalStorageValue("session_fpv");a=H.getLocalStorageValue("bc");this._savedBids={...this._defaultSavedBids,...(a&&ml(a,this._rdx))}}init(){if(this._sessionNonFPV){let a=this._floors.getDefaultFloorConfig();
this._offEvent=this._slotManager.requestingBids.on(b=>{b.filter(c=>Object.keys(this._savedBids).includes(c.location)).forEach(c=>{let d=Bb(this._savedBids[c.location],this._percentile);this._floors.setValues(a,c.id,d)});this._floors.prioritizeFloorsConfig(a,R.session)});this._videoRequestManager.requestingVideoBids.on(b=>{b.filter(c=>Object.keys(this._savedBids).includes(c.name)).forEach(c=>{let d=Bb(this._savedBids[c.name],this._percentile)||1E-5;this._floors.setValues(a,c.name,d)});this._floors.prioritizeFloorsConfig(a,
R.session)})}this._savedBidsRan||this.saveBids()}saveBids(){this._savedBidsRan=!0;this._spaEventBus.routeChanged.on(()=>{this._offEvent();this.init()});this._slotManager.requestedBids.on(a=>{a.filter(b=>Object.keys(this._savedBids).includes(b.location)).forEach(b=>{this._prebidMethods.addToQueue(()=>{this.saveSlotBids(b)})});H.setLocalStorageValue("bc",lj(this._savedBids,this._rdx))});this._videoRequestManager.requestingVideoBids.on(a=>{a.filter(b=>Object.keys(this._savedBids).includes(b.name)).forEach(b=>
{this._prebidMethods.addToQueue(()=>{this.saveVideoSlotBids(b)})});H.setLocalStorageValue("bc",lj(this._savedBids,this._rdx))})}saveSlotBids(a){this._prebidMethods.getBidResponsesForAdUnitCode(a.id).bids.forEach(b=>{var c=this._savedBids[a.location];1E3<=c.length&&c.splice(Math.floor(Math.random()*c.length),1);this._savedBids[a.location].push(b.cpm)})}saveVideoSlotBids(a){this._prebidMethods.getBidResponsesForAdUnitCode(a.name).bids.forEach(b=>{var c=this._savedBids[a.name];1E3<=c.length&&c.splice(Math.floor(Math.random()*
c.length),1);this._savedBids[a.name].push(b.cpm)})}get active(){return this.enabled&&this._sessionNonFPV}get enabled(){return!0===this._floorsExperiment.result.legacy}};ah=l([n("FloorsSessionComponent"),t(),k("design:paramtypes",[V,Qa,xa,W,Na,ka])],ah);let bh=class extends C{constructor(a,b,c,d){super();this._slotManager=a;this._floors=b;this._prebidMethods=c;this._floorsExperiment=d;this.floorsType=R.lazyBidPool;this._enabledAdUnits=["Content","Recipe","Below_Post"]}init(){this._slotManager.requestingBids.on(a=>
{this._prebidMethods.addToQueue(()=>{this._setLazyBidPoolFloors(a.filter(b=>this._enabledAdUnits.includes(b.location)&&!b.refreshCount&&b.lazy&&b.bidPoolId).map(b=>({adUnitCode:b.id,refreshCount:b.refreshCount,bidPoolId:b.bidPoolId})))})})}_setLazyBidPoolFloors(a){let b=this._floors.getDefaultFloorConfig();for(let c of a){let {adUnitCode:d,bidPoolId:e}=c;a=Date.now();this._floors.updateBidTTL(d,a,e);[a]=e?this._prebidMethods.getHighestCpmBidsForPoolId(e):this._prebidMethods.getHighestCpmBids(d);(a=
null===a||void 0===a?void 0:a.cpm)&&this._floors.setValues(b,d,a)}this._floors.prioritizeFloorsConfig(b,R.lazyBidPool)}get active(){return this.enabled}get enabled(){return!0===this._floorsExperiment.result.legacy}};bh=l([n("FloorsLazyBidPoolComponent"),t(),k("design:paramtypes",[V,xa,W,Na])],bh);let ch=class extends C{constructor(a,b,c,d,e,g,h,m){super();this._floorsConfig=m;this._floorsComponents=[a,b,c,d,e,g,h].filter(q=>q.enabled)}init(){this._floorsComponents.forEach(a=>{a.active&&this._floorsConfig.addActiveFloorsType(a.floorsType);
void 0!==a.init&&a.init()})}};ch=l([t(),k("design:paramtypes",[Xg,fd,bh,Yg,Zg,$g,ah,Gb])],ch);let dh=class extends C{constructor(a,b,c){super();this._config=a;this._spaEventBus=b;this._footerConfigEventBus=c;this._footerClassNames=["adthrive-comscore","adthrive-footer-message"];this._footer={};this._added()}start(){this._config.footer.elements.length&&(this._footer=document.createElement("div"),this._footer.classList.add(...this._footerClassNames),this._config.footer.elements.sort((a,b)=>a.order-
b.order).forEach(({element:a})=>{a instanceof Element?this._footer.insertAdjacentElement("beforeend",a):this._footer.insertAdjacentHTML("beforeend",a)}),(document.querySelector(""===this._config.adOptions.footerSelector?".adthrive-mobile #page-wrapper":this._config.adOptions.footerSelector)||document.body).insertAdjacentElement("beforeend",this._footer),this._setupListeners())}_setupListeners(){this._spaEventBus.routeChanged.once(()=>{document.querySelector(`.${this._footerClassNames.join(".")}`)||
this.start()})}_added(){this._footerConfigEventBus.footerElementAdded.on(a=>{this._config.footer.elements.push(a)},{handleEventsAlreadyEmitted:!0})}};dh=l([n("FooterComponent"),t(),k("design:paramtypes",[y,ka,Db])],dh);let em={"000000":"A","000001":"B","000010":"C","000011":"D","000100":"E","000101":"F","000110":"G","000111":"H","001000":"I","001001":"J","001010":"K","001011":"L","001100":"M","001101":"N","001110":"O","001111":"P","010000":"Q","010001":"R","010010":"S","010011":"T","010100":"U","010101":"V",
"010110":"W","010111":"X","011000":"Y","011001":"Z","011010":"a","011011":"b","011100":"c","011101":"d","011110":"e","011111":"f",1E5:"g",100001:"h",100010:"i",100011:"j",100100:"k",100101:"l",100110:"m",100111:"n",101E3:"o",101001:"p",101010:"q",101011:"r",101100:"s",101101:"t",101110:"u",101111:"v",11E4:"w",110001:"x",110010:"y",110011:"z",110100:"0",110101:"1",110110:"2",110111:"3",111E3:"4",111001:"5",111010:"6",111011:"7",111100:"8",111101:"9",111110:"-",111111:"_"},gd=class extends C{constructor(a,
b,c,d){super();this._config=a;this._ccpaComponent=b;this._ortb2=c;this._spaEventBus=d;this.ccpaRequired=this._config.ccpa.required;this.ccpaNotApplicable=this._config.ccpa.ccpaNotApplicable;this.ccpaOptIn=this._config.ccpa.ccpaOptIn;this.ccpaOptOut=this._config.ccpa.ccpaOptOut;this.gpcEnabled=this._config.gpc.gpcEnabled;this.gpcUpdated=!1;this.globalPrivacyControl=window.navigator.globalPrivacyControl;this._sectionList=[6,7];this._supportedAPIs=["6:uspv1","7:usnat"];this._usnatFieldOrder=[...Object.values(da)];
this._usnatFields=new Map([[da.Version,{unencodedVal:1,fieldValLength:6}],[da.SharingNotice,{unencodedVal:1,fieldValLength:2}],[da.SaleOptOutNotice,{unencodedVal:1,fieldValLength:2}],[da.SharingOptOutNotice,{unencodedVal:1,fieldValLength:2}],[da.TargetedAdvertisingOptOutNotice,{unencodedVal:1,fieldValLength:2}],[da.SensitiveDataProcessingOptOutNotice,{unencodedVal:0,fieldValLength:2}],[da.SensitiveDataLimitUseNotice,{unencodedVal:0,fieldValLength:2}],[da.SaleOptOut,{fieldValLength:2,optIn:Ma.OptedIn,
optOut:Ma.OptedOut}],[da.SharingOptOut,{fieldValLength:2,optIn:Ma.OptedIn,optOut:Ma.OptedOut}],[da.TargetedAdvertisingOptOut,{fieldValLength:2,optIn:Ma.OptedIn,optOut:Ma.OptedOut}],[da.SensitiveDataProcessing,{unencodedVal:[0,0,0,0,0,0,0,0,0,0,0,0],fieldValLength:24}],[da.KnownChildSensitiveDataConsents,{unencodedVal:[0,0],fieldValLength:4}],[da.PersonalDataConsents,{unencodedVal:0,fieldValLength:2}],[da.MspaCoveredTransaction,{unencodedVal:2,fieldValLength:2}],[da.MspaOptOutOptionMode,{unencodedVal:0,
fieldValLength:2}],[da.MspaServiceProviderMode,{unencodedVal:0,fieldValLength:2}],[da.SubSectionType,{unencodedVal:0,fieldValLength:2}],[da.Gpc,{unencodedVal:!!navigator.globalPrivacyControl,fieldValLength:1}]]);this._pingData={gppVersion:"1.0",cmpStatus:"loaded",cmpDisplayStatus:"visible",cmpId:3,supportedAPIs:this._supportedAPIs};this._extendedPingData={...this._pingData,gppVersion:"1.1",signalStatus:"ready",sectionList:this._sectionList,applicableSections:this._sectionList,gppString:this._createGPPString(),
parsedSections:{uspv1:this._config.ccpa.privacyString||null,usnat:this._getUSNatObj()}};this._sections={tcfeuv1:null,tcfeuv2:null,"":null,"--":null,tcfca:null,uspv1:this._config.ccpa.privacyString||null,usnat:this._getUSNatObj(),usca:null,usva:null,usco:null,usut:null,usct:null}}init(){window.__gpp=this._gpp.bind(this);this._addLocatorFrame();this._enableEvents();this._setPrebidGPPString();this._spaEventBus.routeChanged.on(()=>{this._setPrebidGPPString()})}_triggerEventCallbacks(a){let b=window.__gpp.events;
if(b&&b.length){let c=this._extendedPingData;b.forEach(d=>{let e={eventName:a,listenerId:d.id,data:this._getEventData(a),pingData:c};d.callback(e)})}}_getEventData(a){if("sectionChange"===a)return this._supportedAPIs}_enableEvents(){this._config.ccpa.consentChange.on(()=>{this._triggerEventCallbacks("sectionChange");this._setPrebidGPPString()})}_setPrebidGPPString(){let a=this._createGPPString();this._ortb2.addOrtb2Reg(a,this._sectionList)}_addEventListner(a,b,c){window.__gpp.events=window.__gpp.events||
[];"lastId"in window.__gpp||(window.__gpp.lastId=0);window.__gpp.lastId++;let d=window.__gpp.lastId;window.__gpp.events.push({id:d,callback:a,parameter:b});return{eventName:"listenerRegistered",listenerId:d,data:!0,pingData:c?this._extendedPingData:this._pingData}}_removeEventListner(a){let b=!1;window.__gpp.events=window.__gpp.events||[];for(let c=0;c<window.__gpp.events.length;c++)if(window.__gpp.events[c].id==a){window.__gpp.events.splice(c,1);b=!0;break}return{eventName:"listenerRemoved",listenerId:a,
data:b}}_createUSNatString(){let a=this._usnatFieldOrder.reduce((b,c)=>`${b}${this._getUSNatData(c,!0)}`,"");if(66>a.length){let b=66-a.length;for(let c=0;c<b;c++)a+="0"}return(a.match(/.{6}/g)||[]).map(b=>em[b]||"A").join("")}_padStart(a,b){return a.padStart?a.padStart(b,"0"):`${a}${Array(b).join("0")}`}_encodedUSNat(a,b){a=this._usnatFields.get(a)&&this._usnatFields.get(a).fieldValLength||0;b=(+b>>>0).toString(2);return this._padStart(b,a)}_getUSNatData(a,b=!1){var c=this._usnatFields.get(a);if(!c)return"";
if(void 0!==c.unencodedVal)return b?this._encodedUSNat(a,c.unencodedVal):c.unencodedVal;c=this._config.ccpa.privacyString===this.ccpaOptOut?c.optOut:c.optIn;return b?this._encodedUSNat(a,c||"0"):c}_getUSNatObj(){return this._usnatFieldOrder.map(a=>{let b=this._getUSNatData(a);return{[a]:b}}).reduce((a,b)=>({...a,...b}),{})}_getGPPData(){return{sectionId:3,gppVersion:1,sectionList:this._sectionList,applicableSections:this._sectionList,gppString:this._createGPPString(),pingData:this._pingData}}_hasSection(a){return this._sections[a]?
!0:!1}_getSection(a){return this._sections[a]?this._sections[a]:null}_callUSPAPI(a){return this._ccpaComponent.uspapi(a,1,(b,c)=>{if(c)return b})}_getField(a){var b=a.split(".");a=b[0];b=b[1];if(this._hasSection(a)){if("uspv1"===a)return this._callUSPAPI(b);if("usnat"===a)return this._getUSNatData(b)}else return null}_addLocatorFrame(){if(null===document.getElementById("__gppLocator")){let a=document.createElement("iframe");a.style.display="none";a.id="__gppLocator";a.name="__gppLocator";document.body.appendChild(a);
window.__gpp_msghandler=b=>{let c="string"===typeof b.data,d;try{d=c?JSON.parse(b.data):b.data}catch(e){d=null}if("object"===typeof d&&null!==d&&"__gppCall"in d){let e=d.__gppCall;window.__gpp(e.command,(g,h)=>{g={__gppReturn:{returnValue:g,success:h,callId:e.callId}};b.source.postMessage(c?JSON.stringify(g):g,"*")},e.parameter)}}}"__gpp"in window&&"function"===typeof window.__gpp||(window.__gpp=window.__gpp_stub,window.addEventListener("message",window.__gpp_msghandler,!1),window.__gpp_addFrame("__gppLocator"))}_createGPPString(){let a=
this._callUSPAPI("getUSPData").uspString,b=this._createUSNatString();return`${"DBABzw"}~${a}~${b}`}_gpp(a,b,c){let d="function"===typeof b;switch(a){case "ping":return d?b(this._extendedPingData,!0):this._pingData;case "addEventListener":return this._addEventListner(b,c);case "removeEventListener":return this._removeEventListner(c);case "hasSection":if(c)return d?b(this._hasSection(c),!0):this._hasSection(c);case "getSection":if(c)return a=this._getSection(c),d?b(a,!0):a;case "getField":if(c)return d?
b(this._getField(c),!0):this._getField(c);case "getGPPData":return d?b(this._getGPPData()):this._getGPPData()}}get enabled(){return"US"===this._config.context.country}};gd=l([n("GPPComponent"),t(),k("design:paramtypes",[y,ad,ac,ka])],gd);let eh=class extends C{constructor(a,b){super();this._slotManager=a;this._slots=b}init(){let a=!1;this._slots.bidServed.on(b=>{b.servedPrebidBidResponse&&"gumgum"===b.servedPrebidBidResponse.bidder&&"Footer"===b.location&&(a=!0)});this._slotManager.refreshing.on(b=>
{b.filter(c=>"Footer"===c.location)&&a&&(a=!1,window.GUMGUM.removeISAd())})}};eh=l([n("GumGumInScreenComponent"),t(),k("design:paramtypes",[V,la])],eh);let fh=class extends C{constructor(a,b,c){super();this._emailCaptureHandler=a;this._config=b;this._gdprEnforcement=c;this._hasRun=!1}init(){this._config.identityApi.optIn.on(({data:a,cb:b})=>this.identityOptIn(a,b).catch(()=>{}));window.addEventListener("message",a=>{if(window===window.top&&a&&a.origin===window.origin&&a.data&&"adthriveIdentityAPI"===
a.data.message&&a.data.info){let b={message:"adthriveIdentityFinished",response:{}};this.identityOptIn(a.data.info,c=>{var d;a.source instanceof MessagePort||a.source instanceof ServiceWorker||(b.response=c,null===(d=a.source)||void 0===d?void 0:d.postMessage(b,a.origin))}).catch(()=>{})}},!1)}start(){this._config.identityApi.apiReady.emit()}validateData(a){if(!a.source||"string"!==typeof a.source||20<a.source.length)throw Error("source required with 20 characters or less");if(!a.plainText&&!a.sha256)throw Error("plainText or sha256 required");
if(a.plainText&&("string"!==typeof a.plainText||!cj(a.plainText.toLowerCase().replace(/\s/g,""))))throw Error(`plainText not string or not valid email: ${a.plainText}`);if(a.sha256&&("string"!==typeof a.sha256||64!==a.sha256.length))throw Error(`sha256 not string or not encoded properly: ${a.sha256}`);}buildPII(a){let b={source:`${this._emailCaptureHandler.checkSources(a.source)}_c`};a.plainText&&(b.email=a.plainText);a.sha256&&(b.hash=a.sha256);return b}async identityOptIn(a,b){try{if(!this._config.identityApi.enabled)throw Error("Identity API not enabled");
if(this._hasRun)throw Error("Identity API Already Successfully Called");if(this._config.ccpa.userOptedOut)throw Error("User has opted out of CCPA");if(this._config.gdpr.enabled&&!await this._gdprEnforcement.checkConsentForVendor(this._config.gdpr.cafeMediaVendorId,[1]))throw Error("CafeMedia not given Purpose 1 consent to process identity data.");this.validateData(a);let c=this.buildPII(a);this._emailCaptureHandler.emailCaptured.emit(c);b({success:!0,data:{message:"OK"}});this._hasRun=!0}catch(c){b({success:!1,
data:{message:c.message}})}}};fh=l([n("IdentityAPIComponent"),t(),k("design:paramtypes",[Wb,y,qb])],fh);let gh=class extends ea{init(){this._key="jtte";this._default=!1}};gh=l([p()],gh);var hd;(function(a){a.Recipe="Recipe";a.Video="Video"})(hd||(hd={}));class ak{constructor(){this._elements=[];this._hasFired=!1;this._buttonClicked=this._processButtonClicked.bind(this)}init(){this._addElementListeners()}_processButtonClicked(a){this._hasFired||this._logEvent(a.target.classList);this._cleanup()}_logEvent(a){r.event("JumpToTracker",
"_logEvent",this.trackerType.toLowerCase(),a)}_cleanup(){for(let a of this._elements)a.removeEventListener("click",this._buttonClicked)}_addElementListeners(){this.setElements()}setElements(){this._elements=Array.prototype.slice.call(document.querySelectorAll(this.selectors.join()));for(let a of this._elements)a.addEventListener("click",this._buttonClicked)}}let hh=class extends ak{constructor(){super();this.trackerType=hd.Recipe;this.selectors=".wprm-recipe-jump #jump-to-recipe #wprm-jump .wprm-jump .tasty-recipes-jump-link .mv-create-jtr .jump-to-recipe".split(" ");
this.init()}};hh=l([t(),k("design:paramtypes",[])],hh);let ih=class extends ak{constructor(){super();this.trackerType=hd.Video;this.selectors=[".wprm-recipe-jump-video"];this.init()}};ih=l([t(),k("design:paramtypes",[])],ih);let jh=class extends C{constructor(a){super();this._jumpToTrackerExperiment=a}start(){F.resolve(hh);F.resolve(ih)}get enabled(){return this._jumpToTrackerExperiment.result}};jh=l([t(),n("JumpToTrackerComponent"),k("design:paramtypes",[gh])],jh);let kh=class extends C{constructor(a,
b,c){super();this._config=a;this._gam=b;this._videoEventProxy=c;this._renderedSlotKey=new Map;this._filterKeys=new Set("abgroup pvk bucket branch deployment siteName siteId".split(" "));this._enabled=this._config.impressionLog.enabled}init(){this._gam.slotRenderEnded.on(a=>this._bannerSlotRenderEnded(a));this._videoEventProxy.videoSlotRendered.on(this._videoSlotRenderEnded.bind(this))}get enabled(){return this._enabled}_getDecodedURI(a){try{return decodeURIComponent(a)}catch(b){return""}}_getTargetingData(a){a=
Va(a.split("?")[1]);return{custParams:this._getDecodedURI(a.get("cust_params")||""),iu:a.get("iu")||"",sz:this._sizeStringToArray(a.get("sz"))||[1,1]}}_sizeStringToArray(a){if(a)return a.split("x").map(b=>parseInt(b))}_bannerSlotRenderEnded({event:a,slot:b}){let c=a.slot.getAdUnitPath(),d=ib();this._renderedSlotKey.set(c,d);a={adUnitPath:c,advertiserId:a.advertiserId,agnosticCreativeId:a.sourceAgnosticCreativeId,agnosticLineItemId:a.sourceAgnosticLineItemId,campaignId:a.campaignId,companyIds:a.companyIds,
creativeId:a.creativeId,isEmpty:a.isEmpty,lineItemId:a.lineItemId,serviceName:a.serviceName,siteTargeting:this._filterTargeting(this._gam.getTargetingMap()),size:a.size,slotElementId:b.id,slotKey:d,slotTargeting:this._filterTargeting(b.getTargetingMap()),yieldGroupIds:a.yieldGroupIds,transactionId:b.transactionId};this._logImpressionEvent(a)}_videoSlotRenderEnded(a){let b=this._getTargetingData(a.tag);a={adUnitPath:b.iu,creativeId:a.gamCreativeId,isEmpty:a.isEmpty,lineItemId:a.gamLineItemId,size:b.sz,
slotElementId:a.adUnitName,slotKey:ib(),slotTargeting:this._filterTargeting(nj(b.custParams))};this._logImpressionEvent(a)}_filterTargeting(a){return Object.keys(a).filter(b=>!this._filterKeys.has(b)&&a[b].length).reduce((b,c)=>{b[c]=a[c];return b},{})}_logImpressionEvent(a){r.event("SlotRenderEnded","adImpression",a)}};kh=l([n("ImpressionLogComponent"),t(),k("design:paramtypes",[y,E,Pa])],kh);let lh=class extends C{constructor(a,b,c){super();this._googleAdManager=a;this._config=b;this._slotManager=
c;this._locations=["Footer"]}init(){this._googleAdManager.slotRenderEnded.on(({slot:a,event:b})=>{this.slotRenderEnded(a,b)})}slotRenderEnded(a,b){var c;!b.isEmpty&&2===(null===(c=b.size)||void 0===c?void 0:c.length)&&a.element&&this._locations.includes(a.location)&&a.sticky&&(a.element.setAttribute("closable","true"),this._addCloseButton(a))}_addCloseButton(a){let {element:b,location:c,refreshCount:d}=a;var e=b.hasAttribute("closable");let g=b.querySelector(".adthrive-close");e&&!g&&(e=document.createElement("span"),
e.innerHTML="&times;",e.className="adthrive-close",e.addEventListener("click",()=>{let h=document.createEvent("Event");"Footer"===a.location&&sessionStorage.setItem("adthrive_footer_closed","true");h.initEvent(`adthrive${c}Close`,!0,!0);b.parentElement&&(window.dispatchEvent(h),b.parentElement.removeChild(b),r.event("CloseButtonComponent","logCloseFooter","User clicked footer close button",{nref:d}),this._slotManager.destroy(b.id))}),b.appendChild(e))}get enabled(){return this._config.adOptions.footerCloseButtonMigrated?
"phone"===this._config.context.device?this._config.adOptions.footerCloseButtonMobile:this._config.adOptions.footerCloseButtonDesktop:this._config.adOptions.footerCloseButton}};lh=l([n("CloseButtonComponent"),t(),k("design:paramtypes",[E,y,V])],lh);var Ik=/\s/,Jk=/^\s+/,Ri=0/0,Nk=/^[-+]0x[0-9a-f]+$/i,Kk=/^0b[01]+$/i,Lk=/^0o[0-7]+$/i,Mk=parseInt,Pk=Math.max,Ok=Math.min;class fm{constructor(a,b){this._overlap=null;this._stuck=!1;this._cutoff=this._start=0;this._cutoffBuffer=20;this._stickyClass="adthrive-stuck";
this._element=a.element;b&&(this._overlap=a.stickyOverlapSelector?document.querySelector(a.stickyOverlapSelector):this.findOverlap(this._element));window.addEventListener("scroll",Jd(()=>this.update(),500));window.addEventListener("resize",Jd(()=>{this.unstick();this.update();this.check()},500));window.addEventListener("scroll",()=>this.check())}update(){this._element&&(this._stuck||(this._start=this.getTop(this._element)),this._overlap&&(this._cutoff=this.getTop(this._overlap)))}check(){if(0!==this._start){let b=
window.pageYOffset;var a=this._element.offsetHeight+this._cutoffBuffer;a=0!==this._cutoff&&b+a>this._cutoff;this._start<b&&!a?this.stick():this.unstick()}}stick(){if(!this._stuck){let a=getComputedStyle(this._element,null),b=this._element.parentElement;if(b){let c=getComputedStyle(b,null);b.style.minHeight=c.getPropertyValue("height")}this._element.style.width||(this._element.style.width=a.getPropertyValue("width"));this._element.classList.add(this._stickyClass);this._stuck=!0}}unstick(){this._stuck&&
(this._element.classList.remove(this._stickyClass),this._stuck=!1)}getTop(a){return a.getBoundingClientRect().top+window.pageYOffset}findOverlap(a){let b=null;for(;a.parentElement;){a=a.parentElement;let c=a.nextElementSibling;for(;c&&!Xd(c);)c=c.nextElementSibling;c&&0<c.offsetTop&&(!b||c.offsetTop<b.offsetTop)&&(b=c)}return b}}let id=class{constructor(a){this.config=a;this._headerVisibleEvents=[];this._headerHiddenEvents=[];this._header=null;this._isHeaderVisible=!0;this.handleUncollapse=()=>{};
this.handleCollapse=b=>{if(b.mobileHeaderSelector){this.anchorVideoPlayerBelowNavbar(b,b.mobileHeaderSelector);let c=this.siteHeader(b.mobileHeaderSelector);c&&(c.onclick=b.siteHeaderOnClick)}};this.collapsiblePersistentHeaderObserver=new IntersectionObserver(b=>{for(let c of b)(this._isHeaderVisible=c.isIntersecting)?this._headerVisibleEvents.forEach(d=>d()):this._headerHiddenEvents.forEach(d=>d())},{threshold:.95})}applyTransitionToElement(a){a.style.transition="all 0.2s ease-in-out"}pushElementBelowHeader(a,
b){b=this.getHeaderHeight(b);null!==b&&(a.style.top=`${b}px`)}anchorVideoPlayerBelowNavbar(a,b){let {playerElement:c,topBackgroundElement:d}=a;a=()=>{if(null!==this.getHeaderHeight(b)){this.applyTransitionToElement(d);this.applyTransitionToElement(c);this.pushElementBelowHeader(d,b);this.pushElementBelowHeader(c,b);const g=c.querySelector(".adthrive-top-collapse-wrapper-bar");g&&this.pushElementBelowHeader(g,b)}};let e=()=>{d.style.top="0";c.style.top="0"};this._isHeaderVisible?a():e();this._headerVisibleEvents.push(a);
this._headerHiddenEvents.push(e)}getHeaderHeight(a){return(a=this.siteHeader(a))?this.getElementHeight(a):null}getElementHeight(a){return a.getBoundingClientRect().height}siteHeader(a){if(this._header)return this._header;a=document.querySelector(a);if(!a)return null;this._header=a;this.collapsiblePersistentHeaderObserver.observe(this._header);return this._header}};id=l([p(),n("TopCenterVideoPlayerForPersistentHeadersUtils"),k("design:paramtypes",[y])],id);var Ra;let ba=Ra=class{static changeState(a,
b){let {mediaStarted:c,playerContainer:d,collapseMobileSubType:e,shouldCollapseOnScrollUp:g}=a,h=this._shouldCollapse(d,c,g,e);if(!this._handleOtherVideoPlaying(b,a))switch(a.playerState){case 0:this._handleUnstarted(b,h,a);break;case 1:this._handleUncollapsedPlay(b,h,a);break;case 2:this._handleCollapsedPlay(b,h,a);break;case 8:this._handleNonLinearAdPlay(b,h,a);break;case 4:this._handleUserPauseCollapsed(b,h,a);break;case 3:this._handleUserPauseUncollapsed(b,h,a);break;case 5:this._handlePausedNotVisible(b,
a);break;case 9:this._handleNonLinearAdPaused(b,a);break;case 6:this._handleOverlapped(b,h,a);break;case 10:this._handleNonLinearAdOverlapped(b,h,a)}return a.playerState}static _handleUnstarted(a,b,c){let d=c.playerInstance;4===a&&(c.collapseTimer.firstInView||(c.collapseTimer.firstInView=new Date),Ra.startEvent.emit(),b?(this.collapse(c),d.getViewable()&&d.play(!0),c.playerState=d._nonLinearAd?8:2):c.playerState=d._nonLinearAd?8:1)}static _setPlayerClosed(a){a.playerState=7;a.collapseMobileSubType&&
"adthrive-collapse-top-center"===a.collapseMobileSubType&&F.resolve(Ca).topCenterVideoClosed.emit()}static _handleOtherVideoPlaying(a,b){return 7===a?(this.uncollapse(b),b.playerInstance.pause(!0),this._setPlayerClosed(b),!0):!1}static _handleUncollapsedPlay(a,b,c){let {playerInstance:d}=c;4===a?b?(this.collapse(c),d.play(!0),c.playerState=2):d.play(!0):3===a?(d.pause(!0),c.playerState=5):1===a&&(c.playerState=3)}static _handleVideoHeight(a){let {playerElement:b,topBackgroundElement:c}=a;c&&b.offsetHeight>=
c.offsetHeight&&(c.style.height="163px")}static _handleCollapsedPlay(a,b,c){let {playerInstance:d,playerElement:e}=c;4===a?b?d.play(!0):(this.uncollapse(c),d.play(!0),c.playerState=1):1===a?c.playerState=4:6===a?(c.lastCollapsedClasses=e.className,this.uncollapse(c),d.pause(!0),c.playerState=6):5===a&&(this.uncollapse(c),d.pause(!0),this._setPlayerClosed(c))}static _handleNonLinearAdPlay(a,b,c){let {playerInstance:d}=c;4===a?b&&this.collapse(c):3===a?(d.pauseAd(!0),c.playerState=9):6===a&&(this.uncollapse(c),
d.pauseAd(!0),c.playerState=10)}static _handleUserPauseCollapsed(a,b,c){let {playerInstance:d}=c;4!==a||b?1===a?c.playerState=2:5===a&&(this.uncollapse(c),d.pause(!0),this._setPlayerClosed(c)):(this.uncollapse(c),c.playerState=3)}static _handleUserPauseUncollapsed(a,b,c){4===a&&b?(this.collapse(c),c.playerState=4):1===a&&(c.playerState=1)}static _handlePausedNotVisible(a,b){let {playerInstance:c}=b;4===a&&(c.play(!0),b.playerState=1)}static _handleNonLinearAdPaused(a,b){let {playerInstance:c}=b;4===
a?(c.pauseAd(!1),b.playerState=8):this.playerWouldOverlapFooter(b)&&(b.playerState=10)}static _handleOverlapped(a,b,c){({playerInstance:a}=c);b&&!this.playerWouldOverlapFooter(c)?(this.collapse(c),a.play(!0),c.playerState=2):c.playerState=6}static _handleNonLinearAdOverlapped(a,b,c){({playerInstance:a}=c);b&&!this.playerWouldOverlapFooter(c)?(this.collapse(c),a.pauseAd(!1),c.playerState=8):(a.pauseAd(!0),c.playerState=10)}static handleResize(a){this._isCollapsed(a.playerState)?("adthrive-collapse-mobile"===
a.collapseType&&"adthrive-collapse-top-center"===a.collapseMobileSubType&&a.topBackgroundElement&&(a.topBackgroundElement.style.height=`${a.playerElement.offsetHeight}px`,a.topBackgroundElement.style.width=`${window.innerWidth}px`),a.forceMobile||"adthrive-collapse-sticky"!==a.collapseType||this._stickToSidebar(a)):this.resizeContainer(a)}static handleScroll(a){let b=ja.playerViewable(a.playerElement),c=ja.playerVisible(a.playerElement),d=this.playerWouldOverlapFooter(a);this.changeState(a,b||a.shouldCollapseOnScrollUp&&
a.mediaStarted?d?6:4:3);2===a.playerState||4===a.playerState?Ra.startCollapseTimer(a):Ra.stopCollapseTimer(a);this.viewableEvent.emit(b);this.visibleEvent.emit(c)}static handleOtherVideoPlaying(a){this.changeState(a,7)}static handlePageVisibilityChange(a,b){7!==b.playerState&&0!==b.playerState&&3!==b.playerState&&4!==b.playerState&&5!==b.playerState&&6!==b.playerState&&(a?b.playerInstance.pause(!0):b.playerInstance.play(!0))}static handleWidthBreak(a,b){7!==b.playerState&&0!==b.playerState&&(a.matches?
(this._isCollapsed(b.playerState)&&(this.toggleCollapsedPlayerClasses(!1,b),"adthrive-collapse-sticky"===b.collapseType&&this._unstickFromSidebar(b.playerElement),b.forceMobile=!0,this.toggleCollapsedPlayerClasses(!0,b)),b.forceMobile=!0):(this.toggleCollapsedPlayerClasses(!1,b),b.forceMobile=!1,this._isCollapsed(b.playerState)&&(this.toggleCollapsedPlayerClasses(!0,b),"adthrive-collapse-sticky"===b.collapseType&&this._stickToSidebar(b))))}static handleClose(a){Ra.closeEvent.emit();this.changeState(a,
5);Ra.stopCollapseTimer(a);r.event("jw-player","handleClose",{timeElapsed:a.collapseTimer.timeCollapsed,device:qa()?"desktop":"mobile",playerType:a.playerType})}static handleUserClick(a){this.changeState(a,1)}static collapse(a){let {playerElement:b,topBackgroundElement:c}=a;this.disableCollapse||(this.collapseEvent.emit(),this.toggleCollapsedPlayerClasses(!0,a),a.forceMobile||"adthrive-collapse-sticky"!==a.collapseType||this._stickToSidebar(a),c&&(this._handleVideoHeight(a),F.resolve(id).handleCollapse({playerElement:b,
topBackgroundElement:c,siteHeaderOnClick:()=>this.uncollapse(a),mobileHeaderSelector:a.mobileHeaderSelector})),a.playerInstance.resize(),setTimeout(d=>{this.displayCloseButton(d)},a.closeButtonTimeout,a),F.resolve(Ca).topCenterVideoCollapsed.emit(a))}static displayCloseButton(a){this._isCollapsed(a.playerState)&&(a.closeButton.style.display="inline-flex")}static uncollapse(a){Ra.uncollapseEvent.emit();this.toggleCollapsedPlayerClasses(!1,a);this._unstickFromSidebar(a.playerElement);a.closeButton.style.display=
"none";this.resizeContainer(a);F.resolve(id).handleUncollapse();F.resolve(Ca).topCenterVideoUnCollapsed.emit()}static _shouldCollapse(a,b,c,d){if(ja.isMobileLandscape())return!1;d=d&&"adthrive-collapse-top-center"===d;let e=ja.getScrollTop(),g=ja.getScrollBottom(),h=a.offsetHeight;a=Td(a).top;let m=a+h;return d?b&&(e>=a||c&&g<=m):b&&(e>=a+h/2||c&&g<=m-h/2)}static _isCollapsed(a){return 2===a||4===a}static _stickToSidebar(a){a.stickyElement&&(a.playerElement.style.left=`${a.stickyElement.getBoundingClientRect().left}px`,
a.playerElement.style.width=`${a.stickyElement.clientWidth}px`);a.playerElement.style.top=`${a.topMargin}px`}static _unstickFromSidebar(a){a.style.cssText=""}static playerWouldOverlapFooter(a){if(!a.footerElement)return!1;if(a.playerElement.className.includes("adthrive-collapse-bottom")||a.lastCollapsedClasses&&a.lastCollapsedClasses.includes("adthrive-collapse-bottom")){let b=Sd();return!(window.innerHeight-b<a.footerElement.getBoundingClientRect().top)}return!((a.topMargin||0)+a.playerElement.getBoundingClientRect().height<
a.footerElement.getBoundingClientRect().top)}static toggleCollapsedPlayerClasses(a,b){var c=b.playerInstance.utils;c=Ja(c,"toggleClass")&&"function"===typeof c.toggleClass?c.toggleClass:()=>{};b.forceMobile?(c(b.playerElement,"adthrive-collapse-mobile",a),c(b.playerElement,b.collapseMobileSizeType,a),c(b.playerElement,b.collapseMobileSubType,a),this.repositionCollapseMobile(b,a)):(c(b.playerElement,b.collapseType,a),b.collapseSubType&&c(b.playerElement,b.collapseSubType,a),b.collapseMobileSizeType&&
c(b.playerElement,b.collapseMobileSizeType,a),"adthrive-collapse-mobile"===b.collapseType&&(c(b.playerElement,b.collapseMobileSubType,a),this.repositionCollapseMobile(b,a)))}static repositionCollapseMobile(a,b){"adthrive-collapse-bottom-left"===a.collapseMobileSubType||"adthrive-collapse-bottom-right"===a.collapseMobileSubType?this.repositionCollapseMobileBottom(a):"adthrive-collapse-top-center"===a.collapseMobileSubType&&this.repositionCollapseMobileTop(a,b)}static repositionCollapseMobileTop(a,
b){a.topBackgroundElement&&(a.topBackgroundElement.style.height=b?`${a.playerElement.offsetHeight}px`:"0")}static repositionCollapseMobileBottom(a){if(a.playerElement.className.includes("adthrive-collapse-bottom")||a.collapseMobileSubType&&-1<a.collapseMobileSubType.indexOf("bottom")){let b=Sd();a.playerElement.style.setProperty("top","auto","important");a.playerElement.style.setProperty("bottom",`${b}px`,"important")}}static resizeContainer(a){a.playerContainer.style.height=`${a.playerElement.offsetHeight+
30}px`}static startCollapseTimer(a){a.collapseTimer.isRunning||(a.collapseTimer.startTime?a.collapseTimer.lastCollapsedTime=new Date:(a.collapseTimer.startTime=new Date,a.collapseTimer.lastCollapsedTime=a.collapseTimer.startTime),a.collapseTimer.isRunning=!0)}static stopCollapseTimer(a){a.collapseTimer.isRunning&&(a.collapseTimer.lastCollapsedTime&&(a.collapseTimer.timeCollapsed+=Date.now()-a.collapseTimer.lastCollapsedTime.getTime()),a.collapseTimer.isRunning=!1)}};ba.collapseEvent=new z;ba.uncollapseEvent=
new z;ba.closeEvent=new z;ba.startEvent=new z;ba.viewableEvent=new z;ba.visibleEvent=new z;ba.disableCollapse=!1;ba=Ra=l([n("CollapseUtils")],ba);let jd=class extends ea{init(){let a=F.resolve(y);this._key="sotc_"+String(a.site.id);this._default=!1}};jd=l([n("StickyOutstreamTopCenterMultiSiteExperiment"),p()],jd);let mh=class extends ea{init(){let a=F.resolve(jd).key;this._key=this._coreExperimentConfig.getCoreExperiment(F.resolve(jd).key)?a:"sotc";this._default=!1}};mh=l([n("StickyOutstreamTopCenterExperiment"),
p()],mh);class nh{constructor(a,b,c,d,e,g,h){this._config=a;this._slotManager=b;this._slot=c;this._eventProxy=d;this._videoCloseButton=e;this._amazonMethods=g;this._gam=h;this._isClosed=this._isRendered=!1;this._noAdRefreshLimit=2;this.isTopCenterExperiment=!0;b=a.video.stickyOutstreamSettings.mobileLocation;this.isTopCenterExperiment="phone"===a.context.device&&"top-center"===b?F.resolve(mh).result:!1;this.mobileHeaderSelector=a.video.stickyOutstreamSettings.mobileHeaderSelector}setup(){this._amazonMethods.isAmazonLoaded()&&
this._config.amazon.enabled&&va("https://acdn.adnxs.com/video/outstream/ANOutstreamVideo.js");this._isRendered||(this._isRendered=!0,this._appendCloseButton(),this._activate());this._slot.setSlotTargetingFlag("fref",[`${this._slot.noAdRefreshCount}`],!0);this._gam.slotRenderEnded.on(a=>this._noFillForceRefresh(a))}get renderState(){return this._isRendered}_noFillForceRefresh({event:a}){-1!==a.slot.getAdUnitPath().indexOf("Video_StickyOutstream")&&(a.isEmpty?this._handleForceRefresh():(this._slot.noAdRefreshCount=
0,this._slot.setSlotTargetingFlag("fref",[`${this._slot.noAdRefreshCount}`],!0)))}_handleForceRefresh(){let a=!1;void 0!==this._slot.noAdRefreshCount&&this._slot.noAdRefreshCount<this._noAdRefreshLimit?(this._slot.noAdRefreshCount++,this._slot.setSlotTargetingFlag("fref",[`${this._slot.noAdRefreshCount}`],!0),a=!0):this._slot.setSlotTargetingFlag("fref",["off"],!0);a&&this._slotManager.updateRefreshTimeout(this._slot,1)}_activate(){this._handleWidthBreak();this._eventProxy.videoPlaying.on(this._handleRelatedPlayClose.bind(this));
ba.visibleEvent.on(this._handleCollapsiblePlayerVisible.bind(this));var a=this._slot.element.parentElement;if(a&&(this._config.video.enableNewOutstreamRenderer?a.classList.add("adthrive-sticky-outstream-idle"):a.classList.add("adthrive-sticky-outstream-active"),this.isTopCenterExperiment)){a.classList.add("adthrive-sticky-outstream-top-center");var b=this.mobileHeaderSelector?hb(this.mobileHeaderSelector):null;b&&b.valid&&b.elements&&0<b.elements.length&&(b=b.elements[0].getBoundingClientRect().height,
a.style.setProperty("top",`${b}px`,"important"),a=hb("#adthrive-sticky-outstream-close"),a.valid&&a.elements&&0<a.elements.length&&a.elements[0].style.setProperty("top",`${10+b}px`,"important"))}}_appendCloseButton(){var a;let b=this._slot.element,c=this._videoCloseButton.createPlayerCloseButton(this._handleCloseClick.bind(this),"sticky outstream","adthrive-sticky-outstream-close",!1,this.isTopCenterExperiment);null===(a=b.parentNode)||void 0===a?void 0:a.insertBefore(c,b);c.style.display="none";
setTimeout(()=>{c.style.display="inline-flex"},this._config.video.closeButtonTimeout)}_logPlayerClose(a){nh.closeEvent.emit();r.event("StickyOutstream","handleClose",{device:qa()?"desktop":"mobile",closeReason:a})}_handleCollapsiblePlayerVisible(a){a&&this._handleClose("collapsiblePlayerVisible")}_handleRelatedPlayClose(){this._handleClose("relatedPlay")}_handleCloseClick(){this._handleClose("closeClick")}_handleClose(a){if(!this._isClosed){this._isClosed=!0;var b=this._slot.element,c=b.parentElement;
this._logPlayerClose(a);c&&(c.removeChild(b),c.classList.remove("adthrive-sticky-outstream-active"),this._slotManager.destroy(b.id),this._removeListener())}}_handleWidthBreak(){this._removeListener=this._eventProxy.footerRefreshed.on(this._handleFooterRefreshedEvent.bind(this));this._repositionCollapseBottom()}_handleFooterRefreshedEvent(){this._repositionCollapseBottom()}_repositionCollapseBottom(){if("desktop"!==this._config.context.device&&!this.isTopCenterExperiment){let a=Sd();this._slot.element.parentElement.style.setProperty("top",
"auto","important");this._slot.element.parentElement.style.setProperty("bottom",`${a}px`,"important")}}}nh.closeEvent=new z;let bc=class extends Y{constructor(){super(...arguments);this.colorMap={b:{background:"#000000",highlight:"#ffffff"},w:{background:"#ffffff",highlight:"#000000"},g25:{background:"#f7f7f7",highlight:"#080808"},g50:{background:"#3f3f3f",highlight:"#ffffff"}}}init(){this._key="tcmb"}isEnabled(){return super.isEnabled()&&Q()}color(){if(this.result){if(this.colorMap[this.result])return this.colorMap[this.result];
r.error("InstreamPlayer","get topBackgroundColor","invalid result:",this.result)}return null}get backgroundColor(){let a=this.color();return a?a.background:null}get buttonTitleColor(){let a=this.color();return a?a.highlight:null}run(){return super.run()}};l([N(),k("design:type",Function),k("design:paramtypes",[]),k("design:returntype",void 0)],bc.prototype,"run",null);bc=l([n("TopCenterMobileBackgroundCoreExperiment"),p()],bc);let kd=class extends C{constructor(a){super();this._topCenterMobileBackgroundCoreExperiment=
a;this._isTopCollapse=this._isInstreamExperiment=this._isButtonOutsideContainerTop=this._isButtonInsideContainer=this._hasTitleBar=!1}createDefaultButton(a){let b=document.createElement("div");b.innerHTML="<span>&times;</span>";b.className="adthrive-wrapper-close";b.style.display="none";b.id="adthrive-collapse-close";b.onclick=a;return b}createPlayerCloseButton(a,b,c,d=!1,e=!1){this._hasTitleBar=d;this._isTopCollapse=e;this._isInstreamExperiment="instream"===b||e;this._isButtonOutsideContainerTop=
"instream"===b;this._isButtonInsideContainer="sticky outstream"===b&&!e;d=this._getButtonClasses();b=this._getSvgOptions(this._isTopCollapse&&"instream"===b?this._topCenterMobileBackgroundCoreExperiment.buttonTitleColor:null);c=this._createCloseButton(d,c,b);c.onclick=a;return this._isButtonInsideContainer?this.applyCloseButtonWrapper(c):c}_getButtonClasses(){let a=[];this._isButtonOutsideContainerTop&&a.push("adthrive-wrapper-float-close");this._isInstreamExperiment&&(a=[...a,...this._getInstreamClasses()]);
return a}_getInstreamClasses(){let a=["adthrive-instream-close"];this._isTopCollapse?a.push("adthrive-top-collapse-close"):this._isButtonOutsideContainerTop&&a.push("adthrive-top-left-outer","adthrive-float-left");return a}_getSvgOptions(a){let b="white",c="black";if(this._isButtonInsideContainer||this._isTopCollapse)b="transparent",c="white";a&&(c=a);return{fillColor:b,strokeColor:c}}_buildNewCloseButton(a,b){a.appendChild(this._createCloseButtonX(b));a.appendChild(this._createCloseButtonCircleThatGoesAroundTheX(b))}_createCloseButton(a,
b,c){let {fillColor:d,strokeColor:e}=null!==c&&void 0!==c?c:{fillColor:"white",strokeColor:"black"};a=this._createButtonHtml(a,b);b=this._createSvg(d);this._isTopCollapse?this._buildNewCloseButton(b,e):(c=this._createPath(e),b.appendChild(c));a.appendChild(b);return a}_createButtonHtml(a,b){let c=document.createElement("div");c.className=a.join(" ");c.id=b;return c}_createSvg(a){let b=document.createElementNS("http://www.w3.org/2000/svg","svg");b.setAttribute("width","18");b.setAttribute("height",
"18");b.setAttribute("fill",a);return b}_createPath(a){let b=document.createElementNS("http://www.w3.org/2000/svg","path");b.setAttribute("d","M 0.5 9 A 5 5 0 0 0 17.5 9 A 5 5 0 0 0 0.5 9 M 9 9 L 7 7 L 11 11 M 9 9 L 7 11 L 11 7");b.setAttribute("stroke",a);b.setAttribute("stroke-width","1");return b}_createCloseButtonCircleThatGoesAroundTheX(a){let b=document.createElementNS("http://www.w3.org/2000/svg","circle");b.setAttribute("cx","9");b.setAttribute("cy","9");b.setAttribute("r","8");b.setAttribute("stroke",
a);b.setAttribute("stroke-width","2");b.setAttribute("fill","none");return b}_createCloseButtonX(a){let b=document.createElementNS("http://www.w3.org/2000/svg","text");b.setAttribute("x","9");b.setAttribute("y","9");b.setAttribute("text-anchor","middle");b.setAttribute("stroke",a);b.setAttribute("fill",a);b.setAttribute("stroke-width","1px");b.setAttribute("font-size","13px");b.setAttribute("alignment-baseline","middle");b.textContent="x";return b}applyCloseButtonWrapper(a){let b=document.createElement("div"),
c=["adthrive-wrapper-float-close","adthrive-wrapper-close-bkgd-50"];this._hasTitleBar?c.push("adthrive-top-left-inner-wrapper"):c.push("adthrive-top-left-inner");b.classList.add(...c);b.appendChild(a);return b}};kd=l([n("VideoCloseButtonComponent"),t(),k("design:paramtypes",[bc])],kd);let oh=class extends ea{init(){this._key="ssff";this._default=!1}};oh=l([n("StickySidebarExperiment"),p()],oh);let ld=class extends C{constructor(a,b,c,d,e,g,h,m,q,w){super();this._slots=a;this._config=b;this._slotManager=
c;this._eventProxy=d;this._videoCloseButton=e;this._gam=g;this._outstream=h;this._amazonMethods=m;this._sticky=[];this._slots.added.on(u=>{w.result&&"Recipe"===(null===u||void 0===u?void 0:u.location)||!u||!u.sticky||(u.element.classList.add("adthrive-sticky"),"Sidebar"===u.location&&(q.result&&u.sequence&&5>=u.sequence?(u.element.classList.add("adthrive-sticky-sidebar"),oc(u.element)):this._sticky.push(new fm(u,!0))),"Video_StickyOutstream"===u.location&&(this._stickyOutstream=new nh(this._config,
this._slotManager,u,this._eventProxy,this._videoCloseButton,this._amazonMethods,this._gam)))});if(this._amazonMethods.isAmazonLoaded()&&this._config.amazon.enabled)this._gam.slotOnload.on(({slot:u})=>{let v=window.apsBidObject?window.apsBidObject.VAST:null;"Video_StickyOutstream"===u.location&&v&&(this._outstream.callRendererWithUrl(v,u.id,!0),delete window.apsBidObject)})}stickyOutstreamReady(){this._stickyOutstream&&!this._stickyOutstream.renderState&&this._stickyOutstream.setup()}};ld=l([n("StickyComponent"),
t(),k("design:paramtypes",[la,y,V,Pa,kd,E,Sc,Bf,oh,rb])],ld);let ph=class extends C{constructor(a,b,c,d){super();this._config=a;this._slotManager=b;this._sticky=c;this._intersectionObserverManager=d}init(){let a=this._slotManager;a.added.on(b=>{for(let c of b)c.lazy?(E.pushToQueue(()=>{c.googleTagSlot.setTargeting("lazy","true")}),this._intersectionObserverManager.observe(this._config.lazyLoad.googleLazyLoadSettings.hbMarginPercent,c)):"Video_StickyOutstream"===c.location?(this._sticky.stickyOutstreamReady(),
a.display([c]).catch(d=>{r.error("GoogleLazyLoadComponent","init","display stickyOutstream slot",d)})):(E.pushToQueue(()=>{c.googleTagSlot.setTargeting("lazy","false")}),a.display(c).catch(d=>{r.error("GoogleLazyLoadComponent","init","display non lazy slot",d)}))})}};ph=l([n("GoogleLazyLoadComponent"),t(),k("design:paramtypes",[y,V,ld,Vb])],ph);let qh=class extends C{constructor(a,b,c,d){super();this._config=a;this._piiEventBus=b;this._userIds=c;this._prebidMethods=d;this._liveIntentUserIdName="liveIntentId"}get enabled(){var a;
let b=this._config.gdpr.enabled&&!this._config.gdpr.consentCaptured,c=this._config.ccpa.enabled&&this._config.ccpa.userOptedOut,d=!(null===(a=this._userIds.get(this._liveIntentUserIdName))||void 0===a||!a.enabled);return!b&&!c&&d}start(){this._setupListeners()}_setupListeners(){this._piiEventBus.dataCaptured.on(a=>this._handleDataCapture(a))}_handleDataCapture(a){var b,c,d,e;let g=null===(b=window.liQ_instances)||void 0===b?void 0:b[0];b=this._userIds.get(this._liveIntentUserIdName);var h=null!==
(c=this._prebidMethods.getConfig("userSync.userIds"))&&void 0!==c?c:[];c=h.find(m=>m.name===this._liveIntentUserIdName);h=h.filter(m=>m.name!==this._liveIntentUserIdName);b=!(null===(d=null===b||void 0===b?void 0:b.id.params)||void 0===d||!d.emailHash);d=!(null===g||void 0===g||!g.ready);c&&d&&!b&&(this._prebidMethods.setConfig({userSync:{userIds:[...h,{...c,params:{...(null===c||void 0===c?void 0:c.params),emailHash:a.hash}}]}}),this._prebidMethods.refreshUserIds({submoduleNames:[this._liveIntentUserIdName]},
()=>{}),b||g.push({hash:null!==(e=a.hash)&&void 0!==e?e:""}))}};qh=l([n("LiveIntentComponent"),t(),k("design:paramtypes",[y,Wa,Oa,W])],qh);let rh=class extends C{constructor(a){super();this._slotManager=a}init(){this._slotManager.added.on(a=>{E.pushToQueue(()=>{for(let b of a){let c=ej(b)||0;b.hvp=c;50<=c&&b.setTargeting({key:"hvp",value:c.toString()})}})});this._slotManager.refreshing.on(a=>{E.pushToQueue(()=>{for(let b of a)if(2>=b.refreshCount&&(!b.hvp||80>b.hvp)){let c=dj(b)||0;b.hvp=c;60<=c&&
b.setTargeting({key:"hvp",value:`${c}`})}})})}};rh=l([n("HvpComponent"),t(),k("design:paramtypes",[V])],rh);let sh=class{constructor(a,b){this._config=a;this._gam=b;this._config.marmalade.selectorMatches=this.filterNativeRecipeBasedOnSetting()}inject(){try{return this._config.marmalade.selectorMatches.reduce(this.processMatch.bind(this),[])}catch(a){r.error("MarmaladeInjector","inject",a)}return[]}filterNativeRecipeBasedOnSetting(){let a=this._config.adTypes,b=Q()?a.inRecipeRecommendationMobile:a.inRecipeRecommendationDesktop;
return this._config.marmalade.selectorMatches.filter(({adUnit:c})=>"Native_Recipe"===c.location?(b&&this._gam.setTargetingFlag("irrEligible",["true"]),b):!0)}processMatch(a,b){let {adUnit:c,match:d}=b;b=this.getElementId(c.location,c.sequence);!a.some(e=>e.location===c.location&&e.sequence===c.sequence)&&(b=this.addAd(d,b,c.position,c.classNames))&&(b=new Bj(c.location,c.sequence,c.size,b,!1,c.lazy),a.push(b));return a}getElementId(a,b){return[this._config.gam.prefix,a,b].filter(Cb).join("_")}addAd(a,
b,c,d=[]){d=`<div id="${b}" class="adthrive-ad ${d.join(" ")}"></div>`;a.insertAdjacentHTML(c,d);return document.getElementById(b)}};sh=l([n("MarmaladeInjector"),t(),k("design:paramtypes",[y,E])],sh);let th=class extends C{constructor(a,b,c,d,e,g){super();this._config=a;this._marmaladeInjector=b;this._slotManager=c;this._gam=d;this._prebidMethods=e;this._eventBus=g;this._siteCodeObject={};this._mcmp=this._config.marmalade.mcmp.filter(La);this._siteCodes=this._config.marmalade.siteCodes.filter(La);
this._siteCodeObject=this._siteCodes.reduce((h,m)=>{h[m]="True";return h},{})}init(){this._eventBus.marmaladeResponseLoaded.on(()=>{this._initializeMarmalade()});this._addDynamicSlots();this._addFlpMessaging();this._setPageLevelTargeting();this._setIXTargeting();let a=()=>{this._setMcmpTargeting();this._setIXTargeting()};this._config.marmalade.rfDataProcessed.emitted?a():this._config.marmalade.rfDataProcessed.on(()=>a())}_initializeMarmalade(){this._mcmp=this._config.marmalade.mcmp.filter(La);this._siteCodes=
this._config.marmalade.siteCodes.filter(La);this._siteCodeObject=this._siteCodes.reduce((a,b)=>{a[b]="True";return a},{});this.init()}_getRfCodes(a){let b=[];if(a){let c=this._config.marmalade;[...c.rfMcmpCodes,...c.rfIabCodes].forEach(d=>{let e=d[0];d[1].includes(a)&&b.push(e)})}return b}_setMcmpTargeting(){let a=this._getRfCodes("gam");this._gam.setTargeting({key:"mcmp",value:[...this._mcmp,...a]})}_setIXTargeting(){let a=this._getRfCodes("ix");yb({MCMP:[...a,...this._mcmp].join("#MCMP:"),...this._siteCodeObject},
this._prebidMethods)}_setPageLevelTargeting(){this._slotManager.requestingBids.once(()=>{this._gam.setTargetingFlag("rf",[String(this._eventBus.recencyFrequencyDataSet.emitted)])});this._setMcmpTargeting();this._gam.setTargeting({key:"site_code",value:this._siteCodes});this._gam.setTargeting({key:"marmalade",value:this._config.marmalade.loaded?"true":"false"})}_addDynamicSlots(){let a=this._marmaladeInjector.inject();a.forEach(b=>b.refreshInterval=0);if(0<a.length)this._gam.started.on(()=>this._slotManager.add(a).catch(b=>
{r.error("MarmaladeComponent","init",b)}))}_addFlpMessaging(){let a=this._config.marmalade.flpProdIds.filter(La);a&&kl(/https:\/\/\S*\.safeframe.googlesyndication.com/i,{message:"adthriveFlippData",flippData:a})}get enabled(){return!this._config.disableAds.all}};th=l([n("MarmaladeComponent"),t(),k("design:paramtypes",[y,sh,V,E,W,Ga])],th);let uh=class extends C{constructor(a,b,c){super();this._config=a;this._gam=b;this._topicsApiIframeManager=c}get enabled(){return this._topicsApiIframeManager.enabled}init(){this._config.context.fledgeSupported&&
this._gam.setTargeting({key:"fledge",value:"true"})}start(){let a=this._topicsApiIframeManager.topics;if(0<a.length)a.forEach(b=>{this._gam.setTargetingFlag("topicapi",[`${b.topic}`])});else this._topicsApiIframeManager.topicsDataRecevied.on(b=>{b.forEach(c=>{this._gam.setTargetingFlag("topicapi",[`${c.topic}`])})})}};uh=l([n("OriginTrialComponent"),t(),k("design:paramtypes",[y,E,Xb])],uh);let vh=class{constructor(a,b,c,d,e){this._emailCaptureHandler=a;this._gdprEvents=b;this._config=c;this._gam=
d;this._piiEventBus=e;this._source=this._hash=this._consent=this._email="";this._emailCounted=this._consentReceived=!1}init(){this._emailCaptureHandler.emailCaptured.on(a=>this._handleEmailCapture(a));this._gdprEvents.consentCaptured.on(a=>this._handleConsentCapture(a));this._emailCaptureHandler.piiManagerReady.emit();this._config.ccpa.consentChange.on(a=>this._handleCCPAConsentChange(a))}async _handleEmailCapture(a){let {email:b,hash:c,source:d}=a;this._hash=c||await this._hashEmail(b);this._email=
b;this._source=d;this._config.gdpr.enabled&&!this._consentReceived||this._sendPii()}_handleConsentCapture(a){this._consentReceived=!0;this._consent=a;(this._email||this._hash)&&this._sendPii()}_sendPii(){let a=this._hash;this._gam.setTargetingFlag("emsrc",[this._source]);H.setLocalStorageValue("adt_ei",a,!1);H.setLocalStorageValue("adt_emsrc",this._source,!1);this._gam.setTargetingFlag("hem",["1"]);this._piiEventBus.dataCaptured.emit({email:this._email,hash:a,consent:this._consent,source:this._source})}async _hashEmail(a){return!("msCrypto"in
window)&&"https:"===location.protocol&&"crypto"in window&&"TextEncoder"in window?(a=(new TextEncoder).encode(a),a=await crypto.subtle.digest("SHA-256",a),Array.from(new Uint8Array(a)).map(b=>("00"+b.toString(16)).slice(-2)).join("")):""}_handleCCPAConsentChange(a=""){let b=H.getLocalStorageValue("adt_ei",!1),c=H.getLocalStorageValue("adt_emsrc",!1);(b||c)&&a===this._config.ccpa.ccpaOptOut&&(H.removeLocalStorageValue("adt_ei"),H.removeLocalStorageValue("adt_emsrc"))}};vh=l([n("PiiManager"),p(),k("design:paramtypes",
[Wb,Za,y,E,Wa])],vh);class md{get enabled(){return!0}}let wh=class extends md{constructor(a,b){super();this._config=a;this._gam=b;this._localKey="_lr_env";this._isEnvelopeModuleReady=!1;window.addEventListener("envelopeModuleReady",()=>{this._isEnvelopeModuleReady=!0})}get enabled(){var a;return(null===(a=this._config.liveRampAts)||void 0===a?void 0:a.enabled)&&"localStorage"in window}init(){H.getLocalStorageValue(this._localKey,!1)&&this._gam.setTargetingFlag("idp",["ats"])}_runLiveRamp(a){var b,
c;let d,e="";this._config.gdpr.enabled?(d="gdpr",e=null!==(b=a.consent)&&void 0!==b?b:""):this._config.ccpa.required&&(d="ccpa",e=null!==(c=this._config.ccpa.privacyString)&&void 0!==c?c:this._config.ccpa.ccpaOptIn);try{window.atsenvelopemodule.setAdditionalData({consentString:e,...(void 0!==d?{consentType:d}:{}),id:a.hash?[a.hash]:a.email,type:a.hash?"emailHashes":"email"})}catch(g){r.error("LiveRampPiiPartner","processPii","Error setting ATS additional data",g)}}processPii(a){this._isEnvelopeModuleReady?
this._runLiveRamp(a):window.addEventListener("envelopeModuleReady",()=>{this._runLiveRamp(a)})}};wh=l([n("LiveRampPiiPartner"),t(),k("design:paramtypes",[y,E])],wh);let xh=class extends md{constructor(a,b,c){super();this._config=a;this._prebidMethods=b;this._userIds=c;this._submitted=!1;this.userId=c.get("connectId").id}get enabled(){return this._userIds.get("connectId").enabled}updateUserIds(){return this._prebidMethods.getConfig("userSync.userIds").map(a=>{a.name===this.userId.name&&(a=this.userId);
return a})}processPii(a){this._prebidMethods.addToQueue(()=>{this.run(a)})}run(a){a.hash&&this.userId.params&&!this._submitted&&(this.userId.params.he=a.hash,this._submitted=!0,a=this.updateUserIds(),this._prebidMethods.setConfig({userSync:{userIds:a}}),this._prebidMethods.refreshUserIds({submoduleNames:[this.userId.name]},()=>{}))}};xh=l([n("YahooPiiPartner"),t(),k("design:paramtypes",[y,W,Oa])],xh);let yh=class extends md{constructor(a,b){super();this._prebidMethods=a;this._userIds=b;this._userId=
b.get("id5Id").id}get enabled(){return this._userIds.get("id5Id").enabled}processPii(a){this._prebidMethods.addToQueue(()=>{this.run(a)})}updateUserIds(){return this._prebidMethods.getConfig("userSync.userIds").map(a=>{a.name===this._userId.name&&(a=this._userId);return a})}run(a){if(a.hash&&this._userId.params){this._userId.params.he=a.hash;let b=this.updateUserIds();a.hash&&this._userIds.sharedIdValue&&(a=btoa(`1=${a.hash}&5=${this._userIds.sharedIdValue}&12=${ha}`),this._userId.params.pd=a);this._prebidMethods.setConfig({userSync:{userIds:b}});
this._prebidMethods.refreshUserIds({submoduleNames:[this._userId.name]},()=>{})}}};yh=l([t(),n("Id5PiiPartner"),k("design:paramtypes",[W,Oa])],yh);let zh=class extends md{constructor(a,b,c){super();this._config=a;this._prebidMethods=b;this._userIds=c}get enabled(){let a=this._config.partners;return!(!a.display.get(f.Criteo)&&!a.video.get(f.Criteo))}processPii(a){this._prebidMethods.addToQueue(()=>{this.run(a)})}run(a){a.hash&&this._prebidMethods.setBidderConfig({bidders:[f.Criteo],config:{ortb2:{user:{ext:{data:{eids:[{source:"cafemedia.com",
uids:[{id:a.hash,atype:3,ext:{stype:"hemsha256"}}]}]}}}}}})}};zh=l([t(),n("CriteoBidderPiiPartner"),k("design:paramtypes",[y,W,Oa])],zh);let Ah=class extends C{constructor(a,b,c,d,e,g){super();this._piiManager=a;this._piiEventBus=b;this._partners=[c,d,e,g].filter(h=>h.enabled);this._piiEventBus.dataCaptured.on(h=>{this._partners.forEach(m=>{m.processPii(h)})})}start(){this._partners.forEach(a=>a.init&&a.init());this._piiManager.init()}};Ah=l([n("PiiCaptureComponent"),t(),k("design:paramtypes",[vh,
Wa,wh,xh,yh,zh])],Ah);let Bh=class extends C{constructor(a){super();this._slotManager=a;this._maxSlotRefreshCount=4}init(){this._slotManager.displaying.on(a=>{E.pushToQueue(()=>{a.forEach(b=>b.setTargeting({key:"refresh",value:"00"}));a.forEach(b=>b.setTargeting({key:"nref",value:"0"}))})});this._slotManager.refreshing.on(a=>{E.pushToQueue(()=>{for(let b of a){let c=`0${Math.min(b.refreshCount,this._maxSlotRefreshCount)}`.slice(-2);b.setTargeting({key:"refresh",value:c});b.setTargeting({key:"nref",
value:b.refreshCount.toString()})}})})}};Bh=l([n("RefreshCountComponent"),t(),k("design:paramtypes",[V])],Bh);let nd=class extends K{constructor(a,b){super();this._result=!0;this.key="rebuildslot";this._choices=[{choice:!0},{choice:!1}];this.weight=.95;if(b=b.getCoreExperimentButMutateWeights(this.key))this.weight=b.variants[0].weight,this._result=this.run(),a.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return(new O(this.weight)).get()}};l([N(),k("design:type",Function),
k("design:paramtypes",[]),k("design:returntype",void 0)],nd.prototype,"run",null);nd=l([n("RefreshRebuildExperiment"),p(),k("design:paramtypes",[I,aa])],nd);let Ch=class extends C{constructor(a,b){super();this._slotManager=a;this._refreshRebuildExperiment=b}init(){this._slotManager.refreshing.on(a=>{a.filter(this.slotHasHighRefreshCountIncrement).forEach(b=>this._slotManager.rebuild(b))})}slotHasHighRefreshCountIncrement(a){return 0===a.refreshCount%100}get enabled(){return this._refreshRebuildExperiment.result}};
Ch=l([n("RefreshRebuildComponent"),t(),k("design:paramtypes",[V,nd])],Ch);let Dh=class extends C{constructor(a,b,c,d,e,g,h,m,q,w){super();this._config=a;this._spaEventBus=b;this._slotManager=c;this._prebidActionManager=d;this._prebidMethods=e;this._singlePageAppManagerExperiment=g;this._dynamicAdsComponent=h;this._intersectionObserverManager=m;this._gam=q;this._adInjectionMap=w;this._observerDebounceDuration=this._routeChangeBufferDuration=500;this._observerSettledDuration=1E3;this._lastContentMutationTimestamp=
Infinity;this._lastHref=document.location.href.split("#")[0];this._isTransitioning=!1}start(){this._addRouteChangeObserver();this._setupRouteChangeListener()}get enabled(){return this._singlePageAppManagerExperiment.result}_setupRouteChangeListener(){this._spaEventBus.routeChanged.on(a=>{this._handleRouteChange().catch(b=>{r.error("SinglePageAppManagerComponent","routeChanged",b);this._isTransitioning=!1})})}_resetStatefulEmitters(){Wi.forEach(a=>{a.resetEmitted();a.resetOnces()})}async _handleRouteChange(){var a,
b;let c=()=>{const d=document.location.href.split("#")[0];return d&&d!==this._lastHref};this._isTransitioning=!0;this._config.disableAds.clear();this._intersectionObserverManager.unobserveAll(!1);this._adInjectionMap.reset();await tj(this._routeChangeBufferDuration);if(c())throw Error("Handler canceled after route change buffer.");this._slotManager.removeAllElements();this._prebidActionManager.reset();this._prebidMethods.clearAllAuctions();this._slotManager.destroyAll();this._refreshPageviewKey();
Zd.resetTimeOrigin();this._config.disableAds.init();this._config.context.sessionKey=this._config.context.setSessionKey();this._config.context.isFirstPageview=this._config.context.checkIsFirstPageview();this._config.context.pageUrl=window.location.href;await this._waitForPageMutations();if(c())throw Error("Handler canceled after page settled.");this._resetStatefulEmitters();this._config.resetDynamicAds();null===(a=this._config.clsOptions)||void 0===a?void 0:a.injectedSlots.splice(0,this._config.clsOptions.injectedSlots.length);
null===(b=this._config.clsOptions)||void 0===b?void 0:b.injectedVideoSlots.splice(0,this._config.clsOptions.injectedVideoSlots.length);this._dynamicAdsComponent.start();this._spaEventBus.resetCompleted.emit();this._gam.setTargetingFlag("spa_rc",["1"]);this._isTransitioning=!1}_refreshPageviewKey(){let a=this._config.context.pageviewKey,b=ib();this._config.context.pageviewKey=b;this._gam.setTargeting({key:"pvk",value:b});return a}_addRouteChangeObserver(){document.body?(new MutationObserver(Si(a=>
{const b=document.location.href.split("#")[0];if(b&&this._lastHref!==b){try{this._spaEventBus.routeChanged.emit({to:b,from:this._lastHref})}catch(c){r.error.call(r,"SinglePageAppManagerComponent","_addRouteChangeObserver",'Error while emitting "routeChanged" event',c instanceof Error?c.message:String(c))}this._lastHref=b}else this._isTransitioning&&this._hasPageContentMutated(a)&&(this._lastContentMutationTimestamp=Date.now())},this._observerDebounceDuration,{leading:!0}))).observe(document.body,
{childList:!0,subtree:!0,attributes:!0}):r.error("SinglePageAppManagerComponent","_addRouteChangeObserver","DOM is not ready")}async _waitForPageMutations(){try{return await be({condition:()=>Date.now()-this._lastContentMutationTimestamp>this._observerSettledDuration})}catch(a){}}_hasPageContentMutated(a){return a.some(b=>{let c="childList"===b.type,d=0<b.addedNodes.length||0<b.removedNodes.length;b=b.target;b=(null===b||void 0===b?void 0:b.id.includes("AdThrive_"))||(null===b||void 0===b?void 0:
b.id.includes("google_ad"));return c&&d&&!b})}};Dh=l([n("SinglePageAppManagerComponent"),t(),k("design:paramtypes",[y,ka,V,sb,W,ub,ed,Vb,E,ab])],Dh);let Eh=class extends C{constructor(a){super();this._singlePageAppManagerExperiment=a}start(){window.camAddRouteObserver&&window.camAddRouteObserver()}get enabled(){return!this._singlePageAppManagerExperiment.result}};Eh=l([n("CamSinglePageAppManagerComponent"),t(),k("design:paramtypes",[ub])],Eh);let Fh=class extends C{constructor(a){super();this._config=
a}start(){if(this._config.site.style&&0<this._config.site.style.length)fb(this._config.site.style);else if(this._config.context.styleUrl){var a=this._config.context.styleUrl;const b=document.createElement("link");b.rel="stylesheet";b.type="text/css";b.href=a;document.head.appendChild(b)}}};Fh=l([n("SiteStyleComponent"),t(),k("design:paramtypes",[y])],Fh);let Gh=class extends C{constructor(a,b){super();this._gam=a;this._config=b}init(){let a=this.getReferrer();null!==a&&this._gam.setTargeting({key:"doc_ref",
value:a})}getReferrer(){let a=Wd(this._config.context.savedReferrer);a&&a.length&&H.setLocalStorageValue("referrer",a);return a}};Gh=l([n("TrafficSourceComponent"),t(),k("design:paramtypes",[E,y])],Gh);let Hh=class extends C{constructor(a,b){super();this._config=a;this._gam=b}init(){let a=B(H.getLocalStorageValue("utm",!0,18E5),{});["utm_medium","utm_campaign","utm_session","utm_source"].forEach(b=>{var c=this._config.context.querystring.get(b);c=B(c,a[b]);this._gam.setTargeting({key:b,value:c});
c&&(a[b]=c)});H.setLocalStorageValue("utm",a)}};Hh=l([n("UTMComponent"),t(),k("design:paramtypes",[y,E])],Hh);class gm{constructor(){}init(a){this.setup(a)}}let Ih=class extends Y{init(){this._key="mgtdtw"}};Ih=l([n("TearDownPlayerExperiment"),p()],Ih);let od=class extends ee{constructor(a,b){super();this._siteExperiments=a;this._pubabgroup=b;this._positions="bottom-left bottom-right bottom-center top-left top-right top-center".split(" ");this._choices=[];this._mappedChoices=[];this._resultValidator=
c=>this._positions.includes(c);this._result="control";this.key=sa.MobileStickyPlayerPosition;this.experimentConfig=this._siteExperiments.getSiteExperimentByKey(this.key);this.enabled&&this.experimentConfig&&(this._choices=this.experimentConfig.variants,this._mappedChoices=this._mapChoices(),this._result=this.run(),this.setExperimentTargeting())}run(){return super.run()}setExperimentTargeting(){if(this.enabled&&this.experimentConfig&&this._isValidResult(this._result)){var a=`${this.experimentConfig.key.toLowerCase()}-${this.experimentConfig.id}`;
this._pubabgroup.set(a,`${this._result}`)}else r.error("MobileStickyPlayerPositionSiteExperiment","setExperimentTargeting","() => %o","Experiment targeting requires an experiment config and valid result")}_mapChoices(){return this._choices.map(({weight:a,value:b})=>({weight:a,choice:String(b)}))}};l([N(),k("design:type",Function),k("design:paramtypes",[]),k("design:returntype",void 0)],od.prototype,"run",null);od=l([p(),k("design:paramtypes",[Da,ya])],od);let Jh=class extends K{constructor(a,b){super();
this.abgroup=a;this.key="sppe50";this._result=!1;this._choices=[{choice:!0},{choice:!1}];this.weight=0;a=b.getCoreExperimentButMutateWeights(this.key);Q()&&a&&(this.weight=a.variants[0].weight,this._result=this.run(),this.abgroup.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return(new O(this.weight)).get()}};Jh=l([t(),n("StickyPlayerPositionExperiment"),k("design:paramtypes",[I,aa])],Jh);class bk extends gm{constructor(a,b,c,d,e,g,h,m,q="adthrive-collapse-float",w,
u,v,A,G,L,J,D){var P;super();this._playerId=a;this._playlistId=b;this._name=c;this._size=d;this._pageElement=e;this._eventProxy=g;this._vastLoadTimeout=h;this._config=m;this._collapseType=q;this._collapseMobileSizeType=w;this._prebidMethods=u;this._auctionManagers=v;this._playerType=A;this._isCollapsible=G;this._shouldCollapseOnScrollUp=L;this._saveVideoCloseState=J;this._mobileLocation=D;this.initialAuctionPlayer=!1;this._prerollNum=0;this.imaVersion=this.jwVersion="";this.requestVideoBids=()=>{throw Error("Request video bids not set");
};this.buildVideoUrl=()=>{throw Error("Build video url not set");};this.setPlayerInstance=()=>{throw Error("Reset player not set");};this.waitForConsent=()=>{throw Error("Wait for consent not set");};this.collapseCollection=null;this._defaults={};this._state=0;this._adDurationLogged=this._nextAdFetched=!1;this._isFirstPlay=!0;this._wasClicked=this._calledNextVideo=this._createdSkipContainer=!1;this._canSkip=!0;this._isAdvancePlaylist=!1;this._additionalAdFields=this._adDetails=null;this._tearDownAfterNextAd=
this._canTearDown=!1;this._tearDownTimer=null;this._tearDownPlayerTimeout=0;this._stalePlayerTimer=null;this._currentAdDurationWithBuffer=this._currentAdTime=0;this._adTimingBuffer=10;this._defaultAdDuration=30;this._autoplayBehaviorConfig={mute:!0};this._topBackgroundElement=null;this._bidMarkedOnCurrentAd=!1;this._baseConfig={advertising:{adscheduleid:"DmULPHgQ",client:"googima",maxRedirects:this._config.video.maxRedirect,requestTimeout:this._config.video.jwRequestTimeout,vastLoadTimeout:this._vastLoadTimeout,
vpaidmode:"insecure",vpaidcontrols:!0},generateSEOMetadata:!0,preload:"metadata"};this._spaListeners=[];this._transactionId="";this._userIdTargetingData=[];this._pendingBidRequests=[];this._adPlayMap=new Map;F.resolve(ka).routeChanged.on(()=>{this._spaListeners.forEach(M=>M());this._spaListeners.length=0});this._prebidAuctionManager=this._auctionManagers.getPrebidAuctionManager();this._stickyPlayerPositionExperiment=F.resolve(Jh);this._topCenterMobileBackgroundCoreExperiment=F.resolve(bc);this._mobileStickyPlayerPositionSiteExperiment=
F.resolve(od);this._videoCloseButtonComponent=F.resolve(kd);window.matchMedia&&(a=window.matchMedia(`only screen and (max-width: ${this._config.site.breakpoints.desktop-1}px)`),a.addListener(this._handleWidthBreak.bind(this)),this._handleWidthBreak(a));a=this._config.video.advancePlaylist;this._isAdvancePlaylist="playlist"===this._playerType?a.playlistPlayer.enabled:a.relatedPlayer.enabled;if("contextual"!==this._playerType||this._isCollapsible&&a)this._tearDownPlayerTimeout=null!==(P=F.resolve(Ih).result)&&
void 0!==P?P:0,this._canTearDown=0!==this._tearDownPlayerTimeout&&-1!==this._tearDownPlayerTimeout}get name(){return`${this._name}`}get collapsible(){return this._isCollapsible}get playerContainer(){return this._playerContainer}get playerElement(){return this._playerElement}get size(){return this._size}set videoAdUnit(a){this._videoAdUnit=a}get videoAdUnit(){return this._videoAdUnit}getJwBoostTargeting(){return{playerID:this._playlistId,...((this.name===x.Video_In_Post_ClicktoPlay_SoundOn||this.name===
x.Video_Individual_Autoplay_SOff)&&{mediaID:this._playlistId})}}get transactionId(){return this._transactionId}set transactionId(a){this._transactionId=a}set userIdTargetingData(a){this._userIdTargetingData=a}get userIdTargetingData(){return this._userIdTargetingData}get vp(){return 1>=this._prerollNum?this._prerollNum:9>=this._prerollNum?2:3}get isPlayerType(){return this._playerType}init(){this.setup()}getDefaults(){return this._defaults}setDefaults(a){this._defaults=a}_createCollapsibleCollection(a){let {playerElement:b,
playerContainer:c,footerElement:d,stickyElement:e,mobileHeaderSelector:g}=a;this.collapseCollection={playerInstance:this.playerInstance,playerType:this._playerType,playerState:this._state,playerContainer:c,playerElement:b,topBackgroundElement:this._topBackgroundElement,footerElement:d,stickyElement:e,closeButton:this._closeButton,closeButtonTimeout:this._config.video.closeButtonTimeout,forceMobile:"desktop"!==this._config.context.device,collapseType:this._collapseType,collapseMobileSizeType:this._collapseMobileSizeType,
collapseSubType:"adthrive-collapse-bottom-right",collapseMobileSubType:this._getCollapseMobileSubType(),mobileHeaderSelector:g,collapseTimer:{timeCollapsed:0,isRunning:!1},mediaStarted:!1,shouldCollapseOnScrollUp:this._shouldCollapseOnScrollUp}}_resetAdVars(){this._bidMarkedOnCurrentAd=!1;this._adDetails=null;this._adDurationLogged=this._nextAdFetched=!1;this._currentAdDurationWithBuffer=this._currentAdTime=0;this._pendingBidRequests.length=0;this._clearStaleTimers()}async _handleNextAdFetch(){this._nextAdFetched||
(this._nextAdFetched=!0,this._prerollNum++,await this._fetchBids(),0<this._pendingBidRequests.length&&this._pendingBidRequests[0].then(()=>{void this._fetchBids()}).catch(()=>{}))}async _inViewPlay(){let a=this._config.gdpr;!a.consentCaptured&&a.enabled&&await this.waitForConsent();await this._fetchBids();void this._triggerAdPlay()}_setPlayerVersions(){let a=this.playerInstance,b=/^[0-9]+.[0-9]+.[0-9]+/.exec(a.version);this.jwVersion=b&&b[0];this.imaVersion=a.plugins&&a.plugins.googima&&a.plugins.googima.version}_getPlayerVersions(){return{imaSDKVersion:this.imaVersion,
jwVersion:this.jwVersion}}async _fetchBids(){if(2>this._pendingBidRequests.length){let a=this.requestVideoBids([this]);a&&(this._pendingBidRequests.push(a),await a)}}_playerReady(a){this._startTearDownTimer();this._configureQuality();this._setPlayerVersions()}_jwSetup(a){a={...this._defaults,...this._baseConfig,...a};if(this.playerInstance.setup)try{this.playerInstance.setup(a),this._handleNonLinearAd(),this._setupEventListeners()}catch(b){r.error("InstreamPlayer","jwSetup","Unexpected issue while setting up JWPlayer",
{playerId:this._playerId,err:b})}else r.error("InstreamPlayer","jwSetup","Unexpected issue while setting up JWPlayer",{playerId:this._playerId})}_handleNonLinearAd(){this.playerInstance.on("adImpression",a=>{var b=Ja(a.ima,"ad")?a.ima.ad:null;if((b=this._getAdDetailsFromAd(b))&&Ja(b,"linear")&&!1===b.linear||"nonlinear"===a.linear){this.playerInstance._nonLinearAd=!0;this.playerInstance.pause();a=document.getElementById(`${this._playlistId}`);let c=a.querySelector("div > div.jw-overlays.jw-reset");
c.style.backgroundColor="black";let d=a.querySelector("div.jw-wrapper.jw-reset > div.jw-controls.jw-reset");d.style.zIndex="-1";this.playerInstance.once("adComplete",()=>{this.playerInstance._nonLinearAd=!1;c.style.backgroundColor="transparent";d.style.zIndex="";this.playerInstance.play()})}})}async _handleScroll(){let a=this._config.gdpr;!a.consentCaptured&&a.enabled&&await this.waitForConsent();this.collapseCollection&&(this._isFirstPlay&&await this._fetchBids(),ba.handleScroll(this.collapseCollection))}_handleResize(){this.collapseCollection&&
ba.handleResize(this.collapseCollection)}_handlePageVisibilityChange(a){this.collapseCollection&&ba.handlePageVisibilityChange(a,this.collapseCollection)}_displayCloseButton(){this.collapseCollection&&ba.displayCloseButton(this.collapseCollection)}_handleClose(){this.collapseCollection&&(this._saveVideoCloseState&&H.setLocalStorageValue("video_closed",!0),ba.handleClose(this.collapseCollection))}_handleUserClick(){this.collapseCollection&&ba.handleUserClick(this.collapseCollection)}_handleWidthBreak(a){this.collapseCollection&&
ba.handleWidthBreak(a,this.collapseCollection)}_handleVideoPlayingEvent(a){a!==this._playlistId&&(this.collapseCollection?ba.handleOtherVideoPlaying(this.collapseCollection):this.playerInstance.pause(!0))}_handleTitleClick(a){this.collapseCollection.collapseTimer.firstInView&&r.event("jw-player","handleTitleClick",{timeElapsed:Date.now()-this.collapseCollection.collapseTimer.firstInView.valueOf(),link:a.currentTarget.getAttribute("href")})}_handleFooterRefreshedEvent(){this.collapseCollection&&ba.repositionCollapseMobileBottom(this.collapseCollection)}_configureQuality(){if(!qa())this.playerInstance.on("levels",
a=>{this.playerInstance.setCurrentQuality(a.levels.length-1)})}_createPlayerCloseButton(){let a=this._wrapperTitleWrapperElement||this._videoTitleElement;return this._closeButton=this._videoCloseButtonComponent.createPlayerCloseButton(this._handleClose.bind(this),"instream","adthrive-collapse-close",!!a,this._isTopCollapse)}_createPlayerCollapseBackgroundElement(){let a=document.createElement("div");a.classList.add("adthrive-collapse-mobile-background");a.style.width=`${window.innerWidth}px`;a.style.display=
"inline";a.style.height="0";return a}_createLinkIcon(a){let b=document.createElementNS("http://www.w3.org/2000/svg","svg");b.setAttribute("width","24");b.setAttribute("height","24");b.setAttribute("style","vertical-align: top;");let c=document.createElementNS("http://www.w3.org/2000/svg","path");c.setAttribute("d","M 16 1 H 23 V 8 Z M 19.5 12.5 V 23 H 1 V 4.5 H 12 l 1 1 H 2 V 22 H 18.5 V 11.5 l 1 1 v 1 M 19 4 L 11.5 11.5 l 1 1 L 20 5");c.setAttribute("stroke","white");c.setAttribute("stroke-width",
"2");c.setAttribute("stroke-linejoin","round");b.appendChild(c);b.id=`${a}-svg-link`;return b}_createLearnMoreLink(a){let b=document.createElement("a");b.classList.add("adthrive-learn-more-link");b.innerText="Tap here to learn more.";b.id=`${a}-learn-more-link`;return b}_createPlayerWrapper(a){a?(this._wrapperTitleWrapperElement=document.createElement("a"),a=this._createLinkIcon(this._playlistId),this._wrapperTitleWrapperElement.appendChild(a)):this._wrapperTitleWrapperElement=document.createElement("div");
this._videoTitleElement=document.createElement("span");a=document.createElement("div");let b=document.createElement("div");b.className="adthrive-wrapper-title-wrapper";this._videoTitleElement.classList.add("adthrive-video-text-cutoff");this._videoTitleElement.classList.add("adthrive-video-title");this._wrapperTitleWrapperElement.className="adthrive-video-text-cutoff";this._wrapperTitleWrapperElement.appendChild(this._videoTitleElement);this._wrapperTitleWrapperElement.target="_blank";this._wrapperTitleWrapperElement.onclick=
this._handleTitleClick.bind(this);this._closeButton=this._createPlayerCloseButton();b.appendChild(this._wrapperTitleWrapperElement);a.className="adthrive-wrapper-bar";a.appendChild(b);a.appendChild(this._closeButton);return a}_createTopCollapseWrapper(a=!0){let b=document.createElement("div");b.className="adthrive-top-collapse-wrapper-bar";this._closeButton=this._createPlayerCloseButton();var c=document.createElement("div");c.style.minHeight="33px";c.appendChild(this._closeButton);b.appendChild(c);
c=document.createElement("a");this._topCollapseVideoTitleElement=document.createElement("span");this._topCollapseVideoTitleElement.classList.add("adthrive-top-collapse-wrapper-video-title");let d=this._topCenterMobileBackgroundCoreExperiment.buttonTitleColor;d&&(this._topCollapseVideoTitleElement.style.color=d);c.appendChild(this._topCollapseVideoTitleElement);a&&(a=this._createLearnMoreLink(this._playlistId),c.appendChild(a),c.onclick=this._handleTitleClick.bind(this));b.appendChild(c);this._wrapperText=
c;return b}_trimEventData(a){var b,c;a={...a};let d=a.ima&&a.ima.ad&&this._getAdDetailsFromAd(a.ima.ad);(null===a||void 0===a?0:a.tag)&&delete a.tag;d&&d.traffickingParameters&&delete d.traffickingParameters;(null===(c=null===(b=null===a||void 0===a?void 0:a.ima)||void 0===b?void 0:b.userRequestContext)||void 0===c?0:c.adTagUrl)&&delete a.ima.userRequestContext.adTagUrl;(null===a||void 0===a?0:a.mediaFile)&&delete a.mediaFile;return a}_handleNextButton(){this._calledNextVideo=!0;this._removeSkipContainer();
this._isAdvancePlaylist&&1===this.playerInstance.getPlaylist().length?(this.playerInstance.pause(),this.playerInstance.seek(0),this.playerInstance.once("firstFrame",()=>{void this._triggerAdPlay()}),this.playerInstance.trigger("firstFrame",{loadTime:0,viewable:1})):this.playerInstance.next()}_createNavButton(a){let b=document.createElement("div");b.id=`${a}-video`;b.textContent=a.charAt(0).toUpperCase()+a.slice(1);wj(15)||wj(16)||yl()||b.classList.add("video-box-shadow");return b}_createSkipContainer(){let a=
document.createElement("div");a.id="next-stay-container";let b=this._createNavButton("next");b.onclick=this._handleNextButton.bind(this);a.appendChild(b);a.appendChild(this._createNavButton("stay"));return a}_initSkipContainer(){this.playerInstance.on("time",({position:a,duration:b})=>{if(!(!this._canSkip||this.playerInstance._nonLinearAd||this._wasClicked||5>b)){var c=40>b,d=c?a>=b-5:25<=a,e=c?a>=b:30<=a;!this._createdSkipContainer&&(c?a>=b:20<=a)&&void this._handleNextAdFetch();!this._createdSkipContainer&&
d?(this._createdSkipContainer=!0,this._skipContainer=this._createSkipContainer(),this.playerInstance.getContainer().appendChild(this._skipContainer),getComputedStyle(this._skipContainer).backgroundColor&&this._skipContainer.classList.add("loaded")):this._createdSkipContainer&&!this._calledNextVideo&&e&&this._handleNextButton()}})}_handleVideoPlayerClicked(){this._wasClicked=!0;this._removeSkipContainer()}_removeSkipContainer(){var a,b;null===(b=null===(a=this._skipContainer)||void 0===a?void 0:a.parentNode)||
void 0===b?void 0:b.removeChild(this._skipContainer);this._skipContainer=void 0}_handleFirstFrame(){this._wasClicked=this._createdSkipContainer=this._calledNextVideo=!1}_getCollapseMobileSubType(){return this._mobileStickyPlayerPositionSiteExperiment.enabled&&"control"!==this._mobileStickyPlayerPositionSiteExperiment.result?ja.setMobileLocation(this._mobileStickyPlayerPositionSiteExperiment.result):this._stickyPlayerPositionExperiment.result?"adthrive-collapse-top-center":this._mobileLocation}get _isTopCollapse(){return"adthrive-collapse-top-center"===
this._getCollapseMobileSubType()}isTopCenterCollapse(){return"adthrive-collapse-mobile"===this._collapseType&&this._isTopCollapse}_createTopCenterBackground(a){this._topBackgroundElement=this._createPlayerCollapseBackgroundElement();let b=this._topCenterMobileBackgroundCoreExperiment.backgroundColor;b&&(this._topBackgroundElement.style.backgroundColor=b);a.appendChild(this._topBackgroundElement)}_clearStaleTimers(){this._stalePlayerTimer&&(clearTimeout(this._stalePlayerTimer),this._stalePlayerTimer=
null)}_listenForLargeVastError(){this._prebidMethods.onEvent("vastExceededLimit",a=>{r.error("JwPlayer","listenForLargeVastError",{meta:a.bids[0].meta,bidder:a.bids[0].bidder,adId:a.bids[0].adId,creativeId:a.bids[0].creativeId,responseSize:a.responseSize,maxSizeAllowed:a.maxSizeAllowed})})}_getErrorLogAdDetails(){return(({wrapperIds:a,wrapperCreativeIds:b,wrapperSystems:c,vastCreativeId:d,mediaFileURL:e,adId:g,adUnitName:h,adomain:m,hb_bidder:q,amznp:w,hb_pb:u,amznbid:v,hb_deal:A})=>({wrapperIds:a,
wrapperCreativeIds:b,wrapperSystems:c,vastCreativeId:d,mediaFileURL:e,adId:g,adUnitName:h,adomain:m&&encodeURIComponent(m),hb_bidder:q,amznp:w,hb_pb:u,amznbid:v,hb_deal:A}))(this._adDetails||{})}_setStaleAdDetection(){let a=this._currentAdDurationWithBuffer-this._currentAdTime;this._stalePlayerTimer||(this._stalePlayerTimer=window.setTimeout(()=>{r.error("JwPlayer","stalePlayer",{message:"JwPlayer encountered an unknown error during ad play",...this._getPlayerVersions(),...this._getErrorLogAdDetails()});
-1===this._tearDownPlayerTimeout?(this._enableTearDown(),this._tearDownPlayer()):this.playerInstance.playlistItem(this.playerInstance.getPlaylistIndex())},1E3*a))}_getJwEventLog(a){return{playerName:this._name,rawData:this._trimEventData(a)}}_tearDownPlayer(){this._tearDownAfterNextAd&&(this._tearDownAfterNextAd=!1,this._tearDownTimer&&clearTimeout(this._tearDownTimer),this.playerInstance.remove(),this.setPlayerInstance(this),void this._handleScroll(),this._adPlayMap=new Map)}_enableTearDown(){this._tearDownAfterNextAd=
!0}_startTearDownTimer(){let a=this._tearDownPlayerTimeout;this._canTearDown&&(this._tearDownTimer=window.setTimeout(this._enableTearDown.bind(this),a))}_handleErrors(){["adError","setupError","error"].forEach(a=>{this._bidMarkedOnCurrentAd=!1;let b="adError"===a;this.playerInstance.on(a,c=>{this._clearStaleTimers();if(!this._adDetails){let d="tag"in c&&c.tag||"";this._addAdDetailFields(d);this._adDetails={...this._additionalAdFields,adUnitName:this._name,tag:d,isEmpty:!0}}900===c.code&&this._eventProxy.emitVideoSlotRenderedEvent(this._adDetails);
"setupError"===a&&this._preventCollapse();r.error("JwPlayer",a,{code:c.code,...(b&&{message:c.message,adErrorCode:c.adErrorCode}),...this._getJwEventLog(c)});"adError"===a&&(this._tearDownPlayer(),this._checkRenderedAdDetails(),c={message:c.message,code:c.code,adErrorCode:c.adErrorCode,...this._getPlayerVersions(),...this._getErrorLogAdDetails()},r.error("JwPlayer","vastError",c))})})}_handleTimeEvents(){this.playerInstance.on("beforeComplete",()=>{this._resetAdVars();this.playerInstance._nonLinearAd=
!1});this.playerInstance.on("time",({position:a,duration:b})=>{10>b-a&&void this._handleNextAdFetch()});this.playerInstance.on("adTime",a=>{this._currentAdTime=a.position;this._config.video.logAdDuration&&!this._adDurationLogged&&(r.event("VideoManager","VideoAdDuration",{adDuration:a.duration,roundedAdDuration:Math.round(a.duration)}),this._adDurationLogged=!0)});this.playerInstance.on("adComplete",()=>{this._tearDownPlayer()})}async _triggerAdPlay(){let a=this._config.gdpr;!a.consentCaptured&&a.enabled&&
await this.waitForConsent();this._adPlayMap.get(this._prerollNum)||(void this._playLinearAd(),this._isFirstPlay=!1)}_handlePlayingEvents(){["play","adPlay","pause","adSkipped","adPause"].forEach(a=>{let b="play"===a,c="adPlay"===a,d="pause"===a,e="adPause"===a,g="adSkipped"===a;this.playerInstance.on(a,h=>{if(b||e||g)if(this._clearStaleTimers(),e)this.playerInstance.once("adPlay",()=>{0!==this._currentAdTime&&this._setStaleAdDetection()});if(b||c)this._eventProxy.emitVideoPlayingEvent(this._playlistId),
c&&this._checkRenderedAdDetails();(b||d)&&(h="pauseReason"in h&&h.pauseReason||"playReason"in h&&h.playReason&&!this._calledNextVideo)&&"interaction"===h&&this._handleUserClick()});if((b||c)&&this.collapseCollection)this.playerInstance.once(a,()=>{this.collapseCollection.mediaStarted=!0;void this._handleScroll()})});this.playerInstance.on("beforePlay",()=>{this._adPlayMap.has(this._prerollNum)||this.playerInstance.pause();void this._triggerAdPlay()})}_checkRenderedAdDetails(){let a=this._prebidAuctionManager,
b=this._adDetails;a&&b&&!this._bidMarkedOnCurrentAd&&this._markPrebidBidAsUsed(b.gamCreativeId,a,b.wrapperSystems)}_markPrebidBidAsUsed(a="",b,c=[]){b=a&&b.videoCreativeIdMapping.get(a);let d=!1,e=!1,g=!1;c.forEach(h=>{h=h.toLowerCase();"gdfp"===h&&(e=!0);"prebid.org wrapper"===h?d=!0:"amazon"===h&&(g=!0)});if(b){if(a=this._adDetails,a=(a&&a.tag&&this._getCustParamsFromQueryString(a.tag)||{})[`hb_adid_${b}`.substring(0,20)])this._prebidMethods.markWinningBidAsUsed({adUnitCode:this.name,adId:a}),this._bidMarkedOnCurrentAd=
!0}else if(a)r.event("JwPlayer","MarkBidsAsUsed",{message:"Creative Id Not Found",gamCreativeId:a});else{if(d||e&&!g||!c.length)this._bidMarkedOnCurrentAd=!0,this._prebidMethods.markWinningBidAsUsed({adUnitCode:this.name});r.event("JwPlayer","MarkBidsAsUsed",{message:"Missing Creative Id"})}}_getCustParamsFromQueryString(a){return(a=(a=a&&Va(a.split("?")[1]))&&a.get("cust_params"))&&nj(this._getDecodedURI(a))}_getDecodedURI(a){try{return decodeURIComponent(a)}catch(b){return""}}_getAdDetailsFromAd(a){return a&&
0<Object.keys(a).length?a[Object.keys(a)[0]]:null}_handleAdTrackingEvents(){this.playerInstance.on("adLoaded",a=>{let b=a.ima&&a.ima.ad&&this._getAdDetailsFromAd(a.ima.ad);this._currentAdDurationWithBuffer=(b&&b.duration||a.duration||this._defaultAdDuration)+this._adTimingBuffer;let c=a.tag;b&&(this._addAdDetailFields(c),this._adDetails={...this._additionalAdFields,wrapperIds:b.adWrapperIds,gamCreativeId:b.adWrapperCreativeIds[b.adWrapperCreativeIds.length-1],gamLineItemId:b.adWrapperIds[b.adWrapperIds.length-
1],wrapperCreativeIds:b.adWrapperCreativeIds,vastCreativeId:b.creativeId,mediaFileURL:b.mediaUrl,adUnitName:this._name,tag:a.tag,isEmpty:!1,wrapperSystems:b.adWrapperSystems});this._setStaleAdDetection()});this.playerInstance.on("adImpression",()=>{this._eventProxy.emitVideoSlotRenderedEvent(this._adDetails||{})});this._config.video.logAdLifeCycle&&["adRequest","adImpression","adStarted","adViewableImpression"].forEach(a=>{this.playerInstance.on(a,b=>{r.event("JwPlayer",a,this._getJwEventLog(b))})})}_addAdDetailFields(a){var b=
a&&this._getCustParamsFromQueryString(a);a=b&&b.hb_adid;let c=b&&b.hb_adomain,d=b&&b.hb_bidder,e=b&&b.amznp,g=b&&b.hb_pb,h=b&&b.amznbid;b=b&&b.hb_deal;this._additionalAdFields={adId:a&&String(a),adomain:c&&String(c),hb_bidder:d&&String(d),amznp:e&&String(e),hb_pb:g&&String(g),amznbid:h&&String(h),hb_deal:b&&String(b)}}_setupEventProxies(){if("adthrive-collapse-mobile"===this._collapseType)this._eventProxy.footerRefreshed.on(this._handleFooterRefreshedEvent.bind(this));this._spaListeners.push(this._eventProxy.scroll.on(this._handleScroll.bind(this)));
this._spaListeners.push(this._eventProxy.resize.on(this._handleResize.bind(this)));this._spaListeners.push(this._eventProxy.pageVisibility.on(this._handlePageVisibilityChange.bind(this)));this._spaListeners.push(this._eventProxy.videoPlaying.on(this._handleVideoPlayingEvent.bind(this)))}_onBeforeRequestBids(){this._prebidMethods.onEvent("beforeRequestBids",a=>{let b=this._prebidAuctionManager&&this._prebidAuctionManager._userIdComponent.getTargetingData();a.forEach(c=>{var d;let e=c.code===this.name;
e&&b&&(this.userIdTargetingData=b);c=null!==(d=c.ortb2Imp&&c.ortb2Imp.ext&&c.ortb2Imp.ext.tid)&&void 0!==d?d:"";e&&c&&(this.transactionId=c)})})}_setupEventListeners(){this._onBeforeRequestBids();this._handleErrors();this._listenForLargeVastError();this._handleTimeEvents();this._handlePlayingEvents();this._handleAdTrackingEvents();this._setupEventProxies();this.playerInstance.on("ready",this._playerReady.bind(this))}_preventCollapse(){ba.disableCollapse=!0;this.collapseCollection&&ba.uncollapse(this.collapseCollection)}async _playLinearAd(){let a=
()=>{const b=this.buildVideoUrl(this);this.playerInstance._nonLinearAd=!1;this.playerInstance.playAd(b);this._adPlayMap.set(this._prerollNum,!0);this._resetAdVars()};await this._fetchBids();if(0<this._pendingBidRequests.length){let b=this._pendingBidRequests.pop();b&&b.then(()=>{a()}).catch(()=>{})}}}let pd=class extends bk{constructor(a,b,c,d,e,g,h,m,q,w,u,v,A,G,L){super(a,b,c,d,e,g,1E4,h,q,w,u,v,"contextual",m,A,void 0,G);this._mobileHeaderSelector=L;this._topBackgroundElement=null;this._playerConfig=
{repeat:!0,nextupoffset:-.01,playlist:`https://cdn.jwplayer.com/v2/media/${this._playlistId}`,height:"auto"};this._wrapperBarRemoved=!1;this._hasContentSpecificPlaylist=!(!h.video.contentSpecificPlaylists||!nf(h.video.contentSpecificPlaylists));this._playerElement=document.createElement("div");this._canSkip=!1;this._autoplayStationaryPlayer=this._shouldStationaryAutoplay();if(m||this._autoplayStationaryPlayer)this._playerConfig={...this._playerConfig,...this._autoplayBehaviorConfig},this.initialAuctionPlayer=
!0,this._stickyElement=null,this._playerContainer=this._pageElement}_appendPlayer(){let a=document.createElement("div");a.id=this._playlistId;a.className="adthrive-jw-static-player";this._isCollapsible?(this._pageElement.id="adthrive-contextual-container",this._playerElement.className="adthrive-player-position",this._playerElement.id="adthrive-contextual-position",this.isTopCenterCollapse()&&this._createTopCenterBackground(this._pageElement),this._config.video.removeVideoTitleWrapper?this._addCloseWithoutWrapper():
this.isTopCenterCollapse()?this._addTopCenterWrapper():this._addPlayerWithoutWrapper(),this._playerElement.appendChild(a),this._pageElement.appendChild(this._playerElement)):this._pageElement.appendChild(a)}setup(){this._isFirstPlay&&this._appendPlayer();this.playerInstance=window.jwplayer(this._playlistId);if(this._isCollapsible){let a={playerElement:this._playerElement,playerContainer:this._pageElement,footerElement:this._config.video.footerSelector?document.querySelector(this._config.video.footerSelector):
null,stickyElement:this._stickyElement,mobileHeaderSelector:this._mobileHeaderSelector||null};this._createCollapsibleCollection(a);this._playerConfig.playlist=ja.addMaxResolutionQueryParam(this._playerConfig.playlist)}this._jwSetup(this._playerConfig);this._config.video.contextualPlayerAdded=!0}_handleNextButton(){this._hideWrapperBar();super._handleNextButton()}_playerReady(a){super._playerReady(a);this._initRelatedPlaylist();let b=this._autoplayStationaryPlayer;if(b||this.collapseCollection)a.viewable&&
void this._inViewPlay(),b&&this._logStationaryAutoplay();this._isCollapsible&&this._setupCollapsible()}_logStationaryAutoplay(){this._config.video.logAdLifeCycle&&r.event("JwPlayer","StaticPlayer",{message:`Static Player set to autoplay for playlist id ${this._playlistId}`,...this._getPlayerVersions()})}_loadPlaylistPlayerVideos(){this._config.video.jwPlaylist.then(a=>{a.playlist&&a.playlist.length&&(a=this._hasContentSpecificPlaylist?a.playlist:ja.shufflePlaylist(a.playlist),a=this.playerInstance.getPlaylist().concat(a),
this.playerInstance.once("userInactive",()=>{var b;(null===(b=this.collapseCollection)||void 0===b?0:b.mediaStarted)||this._handleScroll().catch(()=>{})}),this.playerInstance.load(a),this._handleScroll().catch(()=>!1))}).catch(()=>!1)}_setupAllowSkip(){this._config.video.advancePlaylist.relatedPlayer.applyToFirst&&(this._canSkip=!0);this.playerInstance.once("complete",()=>{this._hideWrapperBar();this._canSkip=!0})}_shouldStationaryAutoplay(){return!this._config.video.playlistPlayerAdded&&!!document.querySelector("body.adthrive-video-autoplay")}_setWrapperBar(){this._wrapperBar=
this._playerElement.querySelector(".adthrive-wrapper-bar")}_hideWrapperBar(){let a=this._wrapperBar,b=this._playerElement;!this._wrapperBarRemoved&&a&&(this._wrapperBarRemoved=!0,a.parentNode&&a.parentNode.removeChild(a),this._wrapperBar=null,b.insertBefore(this._createPlayerCloseButton(),b.firstChild),this.collapseCollection&&(this.collapseCollection.closeButton=this._closeButton,this._displayCloseButton()))}_addCloseWithoutWrapper(){this._playerElement.appendChild(this._createPlayerCloseButton());
this._playerElement.classList.add("adthrive-player-without-wrapper-text")}_addTopCenterWrapper(){this._playerElement.appendChild(this._createPlayerWrapper(!1));this._playerElement.appendChild(this._createTopCollapseWrapper(!1));this._playerElement.classList.add("adthrive-player-with-wrapper-text")}_addPlayerWithoutWrapper(){this._playerElement.appendChild(this._createPlayerWrapper(!1));this._playerElement.classList.add("adthrive-player-without-wrapper-text")}_initRelatedPlaylist(){this._config.video.advancePlaylist.relatedPlayer.shouldRun.then(a=>
{a&&(this._loadPlaylistPlayerVideos(),this._setupAllowSkip(),this.playerInstance.on("firstFrame",()=>this._handleFirstFrame()),this.playerInstance.getContainer().addEventListener("click",()=>this._handleVideoPlayerClicked()),this._initSkipContainer())}).catch(()=>!1)}_setTitleTextForVideoTitleElement(a){var b=this.playerInstance.getPlaylistItem(0);b=Ja(b,"title")?b.title:null;a.innerText="string"===typeof b?b:""}_setupCollapsible(){this._setWrapperBar();this._wrapperBar&&this._wrapperBar.style.setProperty("display",
"flex");this._videoTitleElement&&this._setTitleTextForVideoTitleElement(this._videoTitleElement);this._topCollapseVideoTitleElement&&this._setTitleTextForVideoTitleElement(this._topCollapseVideoTitleElement);this._handleResize()}};pd=l([n("ContextualPlayer"),k("design:paramtypes",[Object,String,String,Array,HTMLElement,Pa,y,Boolean,String,String,W,tb,Boolean,String,Object])],pd);let Kh=class extends bk{constructor(a,b,c,d,e,g,h,m,q="adthrive-collapse-float",w,u,v,A,G,L,J,D,P){super(a,b,c,d,g,h,m.video.vastTimeout,
m,q,w,u,v,"playlist",!0,A,J,G);this._sharedVideoSettings=e;this._title=D;this._shuffle=P;this._topBackgroundElement=null;this._isCollapsible=!0;this._playerConfig={playlist:`https://cdn.jwplayer.com/v2/playlists/${this._playlistId}`,related:{autoplaytimer:0}};this._playerContainer=(this._clsPlayerContainer=document.querySelector(`#cls-video-container-${this._playlistId} > div`))?this._clsPlayerContainer:document.createElement("div");this._playerElement=document.createElement("div");a=(a=this._config.video.contentSpecificPlaylists)&&
nf(a);this._hasContentSpecificPlaylist=!!a;a&&(this._playlistId=a,this._playerConfig.playlist=`https://cdn.jwplayer.com/v2/playlists/${a}`);this._playerConfig={...this._playerConfig,...this._autoplayBehaviorConfig};this.initialAuctionPlayer=!0;this._stickyElement=null;this._checkVideoClose()&&(this._state=7);this._footerElement=this._config.video.footerSelector?document.querySelector(this._config.video.footerSelector):null;this._createCollapsibleCollection({playerElement:this._playerElement,playerContainer:this._playerContainer,
footerElement:this._footerElement,stickyElement:this._stickyElement,mobileHeaderSelector:L||null})}setup(){this._isFirstPlay&&this._appendPlayer();this.playerInstance=window.jwplayer(this._playlistId);this.collapseCollection&&(this.collapseCollection.playerInstance=this.playerInstance,this.collapseCollection.playerContainer=this._playerContainer,this.collapseCollection.playerElement=this._playerElement,this.collapseCollection.topBackgroundElement=this._topBackgroundElement);this._isCollapsible&&(this._playerConfig.playlist=
ja.addMaxResolutionQueryParam(this._playerConfig.playlist));this._jwSetup(this._playerConfig);this._config.video.playlistPlayerAdded=!0}_appendPlayer(){let a=document.createElement("div");this._playerContainer.classList.add("adthrive-player-container");this._playerContainer.classList.add("adthrive-collapse-player");this._playerContainer.id="adthrive-collapse-container";this._playerElement.className="adthrive-player-position";this._playerElement.id="adthrive-collapse-position";a.id=this._playlistId;
let b=this._getTitle();if(b){let c=document.createElement("h3");c.innerText=b;c.className="adthrive-player-title";c.id="adthrive-collapse-title";this._playerElement.appendChild(c)}this._config.video.removeVideoTitleWrapper?(this._playerElement.appendChild(this._createPlayerCloseButton()),this._playerElement.classList.add("adthrive-player-without-wrapper-text")):"adthrive-collapse-mobile"===this._collapseType&&this._isTopCollapse?(this._playerElement.appendChild(this._createPlayerWrapper(!0)),this._playerElement.appendChild(this._createTopCollapseWrapper()),
this._playerElement.classList.add("adthrive-player-with-wrapper-text")):(this._playerElement.appendChild(this._createPlayerWrapper(!0)),this._playerElement.classList.add("adthrive-player-without-wrapper-text"));this.collapseCollection.closeButton=this._closeButton;this._playerElement.appendChild(a);this.isTopCenterCollapse()&&this._createTopCenterBackground(this._playerContainer);this._playerContainer.appendChild(this._playerElement);this._clsPlayerContainer||this._pageElement.insertAdjacentElement(this._sharedVideoSettings.position,
this._playerContainer)}_linkProvidedByPublisher(a){return!a.startsWith("https://cdn.jwplayer.com")}_playerReady(a){var b;super._playerReady(a);null===(b=this._playerElement.querySelector(".adthrive-wrapper-bar"))||void 0===b?void 0:b.style.setProperty("display","flex");this._getShuffle()&&!this._hasContentSpecificPlaylist&&(b=this.playerInstance.getPlaylist(),this.playerInstance.load(ja.shufflePlaylist(b)));this._config.video.advancePlaylist.playlistPlayer.enabled&&(this.playerInstance.on("firstFrame",
()=>this._handleFirstFrame()),this.playerInstance.getContainer().addEventListener("click",()=>this._handleVideoPlayerClicked()),this._initSkipContainer());this.playerInstance.on("playlistItem",c=>{c=c.item;let d=this._playlistId,e=document.getElementById(`${d}-learn-more-link`),g=document.getElementById(`${d}-svg-link`);this._videoTitleElement&&Ja(c,"title")&&"string"===typeof c.title&&(this._videoTitleElement.innerText=c.title);this._topCollapseVideoTitleElement&&Ja(c,"title")&&"string"===typeof c.title&&
(this._topCollapseVideoTitleElement.innerText=c.title);this._wrapperTitleWrapperElement&&Ja(c,"link")&&"string"===typeof c.link&&this._linkProvidedByPublisher(c.link)&&(this._wrapperTitleWrapperElement.href=c.link,g||this._wrapperTitleWrapperElement.prepend(this._createLinkIcon(d)));this._wrapperText&&Ja(c,"link")&&"string"===typeof c.link&&this._linkProvidedByPublisher(c.link)&&(this._wrapperText.href=c.link,e||this._wrapperText.append(this._createLearnMoreLink(d)));c&&Ja(c,"link")&&"string"===typeof c.link&&
!this._linkProvidedByPublisher(c.link)&&(null===g||void 0===g?void 0:g.remove(),null===e||void 0===e?void 0:e.remove())});this._handleResize();a.viewable&&void this._inViewPlay()}_getShuffle(){return this._shuffle?this._shuffle:!1}_getTitle(){return this._title?this._title:""}_checkVideoClose(){return this._saveVideoCloseState&&this._config.video.videoWasClosed}};Kh=l([n("PlaylistPlayer"),k("design:paramtypes",[String,String,String,Array,Object,HTMLElement,Pa,y,String,String,W,tb,Boolean,String,Object,
Boolean,String,Boolean])],Kh);let qd=class extends Xa{constructor(a,b,c){super();this._siteExperiments=a;this._pubabgroup=b;this.storagePrefix="se";this._choices=[];this._result=!1;this.key=sa.StickyOutstreamOnStickyPlayer;this.experimentConfig=this._siteExperiments.getSiteExperimentByKey(this.key);this.enabled&&this.experimentConfig&&yj(c)&&(this._choices=this.experimentConfig.variants,this._result=this.run(),this.setExperimentTargeting())}run(){return(new O(this._choices[0].weight/100)).get()}setExperimentTargeting(){if(this.enabled&&
this.experimentConfig){var a=`${this.experimentConfig.key.toLowerCase()}-${this.experimentConfig.id}`;this._pubabgroup.set(a,this._result?"on":"off")}else r.error("StickyOutstreamOnStickyPlayerPagesSiteExperiment","setExperimentTargeting","() => %o","Experiment targeting requires an experiment config")}};l([N(),k("design:type",Function),k("design:paramtypes",[]),k("design:returntype",void 0)],qd.prototype,"run",null);qd=l([p(),U(2,T("AdThrive")),k("design:paramtypes",[Da,ya,Object])],qd);let rd=class extends K{constructor(a,
b){super();this._result=!0;this.key="sospp";this._choices=[{choice:!0},{choice:!1}];this.weight=1;if(b=b.getCoreExperimentButMutateWeights(this.key))this.weight=b.variants[0].weight,this._result=this.run(),a.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return(new O(this.weight)).get()}};l([N(),k("design:type",Function),k("design:paramtypes",[]),k("design:returntype",void 0)],rd.prototype,"run",null);rd=l([n("StickyOutstreamOnStickyPlayerPagesExperiment"),p(),k("design:paramtypes",
[I,aa])],rd);class hm extends C{constructor(a,b){super();this._videoConfig=a;this._component=b;this._stickyRelatedOnPage=!1;this._contextualMediaIds=[];this._device=qa()?"desktop":"mobile";this._potentialPlayerMap=this.setPotentialPlayersMap()}setPotentialPlayersMap(){var a=this._videoConfig.players||[];let b=this._filterPlayerMap();a=a.filter(c=>"stationaryRelated"===c.type&&c.enabled);b.stationaryRelated=a;return this._potentialPlayerMap=b}_filterPlayerMap(){let a=this._videoConfig.players,b={stickyRelated:[],
stickyPlaylist:[],stationaryRelated:[]};return a&&a.length?a.filter(c=>{var d;return null===(d=c.devices)||void 0===d?void 0:d.includes(this._device)}).reduce((c,d)=>{c[d.type]||(r.event(this._component,"constructor","Unknown Video Player Type detected",d.type),c[d.type]=[]);d.enabled&&c[d.type].push(d);return c},b):b}_checkPlayerSelectorOnPage(a){a=this._potentialPlayerMap[a].map(b=>({player:b,playerElement:this._getPlacementElement(b)}));return a.length?a[0]:{player:null,playerElement:null}}_getOverrideElement(a,
b,c){if(a&&b)c=document.createElement("div"),b.insertAdjacentElement(a.position,c);else{let {player:d,playerElement:e}=this._checkPlayerSelectorOnPage("stickyPlaylist");d&&e&&(a=document.createElement("div"),e.insertAdjacentElement(d.position,a),c=a)}return c}_shouldOverrideElement(a){a=a.getAttribute("override-embed");return"true"===a||"false"===a?"true"===a:this._videoConfig.contextualSettings?this._videoConfig.contextualSettings.overrideEmbedLocation:!1}_getPlacementElement(a){var b;let c=hb(a.pageSelector),
d=oj(a.elementSelector);if(!c.valid)return r.error("VideoUtils","getPlacementElement",Error(`${a.pageSelector} is not a valid selector`)),null;if(a.pageSelector&&(null===(b=c.elements)||void 0===b||!b.length))return r.event("VideoUtils","getPlacementElement",Error(`PSNF: ${a.pageSelector} does not exist on the page`)),null;if(!d.valid)return r.error("VideoUtils","getPlacementElement",Error(`${a.elementSelector} is not a valid selector`)),null;if(d.elements.length>a.skip)return d.elements[a.skip];
r.event("VideoUtils","getPlacementElement",Error(`ESNF: ${a.elementSelector} does not exist on the page`));return null}_getEmbeddedPlayerType(a){(a=a.getAttribute("data-player-type"))&&"default"!==a||(a=this._videoConfig.contextualSettings?this._videoConfig.contextualSettings.defaultPlayerType:"static");this._stickyRelatedOnPage&&(a="static");return a}_getUnusedMediaId(a){return(a=a.getAttribute("data-video-id"))&&!this._contextualMediaIds.includes(a)?(this._contextualMediaIds.push(a),a):!1}_createRelatedPlayer(a,
b,c){"collapse"===b?this._createCollapsePlayer(a,c):"static"===b&&this._createStaticPlayer(a,c)}_createCollapsePlayer(a,b){let {player:c,playerElement:d}=this._checkPlayerSelectorOnPage("stickyRelated"),e=c?c:this._potentialPlayerMap.stationaryRelated[0];e&&e.playerId?(this._shouldOverrideElement(b)&&(b=this._getOverrideElement(c,d,b)),b=document.querySelector(`#cls-video-container-${a} > div`)||b,this._createStickyRelatedPlayer({...e,mediaId:a},b)):r.error(this._component,"_createCollapsePlayer",
"No video player found")}_createStaticPlayer(a,b){this._potentialPlayerMap.stationaryRelated.length&&this._potentialPlayerMap.stationaryRelated[0].playerId?this._createStationaryRelatedPlayer({...this._potentialPlayerMap.stationaryRelated[0],mediaId:a},b):r.error(this._component,"_createStaticPlayer","No video player found")}_shouldRunAutoplayPlayers(){return this._isVideoAllowedOnPage()&&(this._potentialPlayerMap.stickyRelated.length||this._potentialPlayerMap.stickyPlaylist.length)?!0:!1}_determineAutoplayPlayers(){let a=
this._component,b="VideoManagerComponent"===a,c=this._config;if(this._stickyRelatedOnPage)r.event(a,"stickyRelatedOnPage",b&&{device:c&&c.context.device,isDesktop:this._device}||{});else{var {player:d,playerElement:e}=this._checkPlayerSelectorOnPage("stickyPlaylist");d&&d.playerId&&d.playlistId&&e?this._createPlaylistPlayer(d,e):r.event(a,"noStickyPlaylist",b&&{vendor:"none",device:c&&c.context.device,isDesktop:this._device}||{})}}_initializeRelatedPlayers(a){for(let b=0;b<a.length;b++){let c=a[b],
d=this._getEmbeddedPlayerType(c),e=this._getUnusedMediaId(c);e&&this._createRelatedPlayer(e,d,c)}}}let Lh=class{constructor(a,b,c,d,e,g,h){this._abgroup=a;this._config=b;this._gam=c;this._irisTv=d;this._floors=e;this._videoEventBus=g;this._slotEventBus=h;this._apstagSlotBids=new Map;this._prebidSlotTargetingMap=new Map;this.shouldPrebidRun=!1;this._videoEventBus.addAPStagSlotBidResponse.on(({playlistId:m,bid:q})=>this._addAPStagSlotBidResponse(m,q));this._slotEventBus.addPrebidSlotTargeting.on(({adUnitCode:m,
slotTargeting:q})=>this._addPrebidSlotTargeting(m,q))}_addAPStagSlotBidResponse(a,b){this._apstagSlotBids.set(a,b)}_addPrebidSlotTargeting(a,b){this._prebidSlotTargetingMap.set(a,b)}getVideoTargeting(a,b){let c=this._irisTv.irisContextualData,d={};Object.keys(b).forEach(e=>{let g=this._abgroup.get("rvadv_ab1");"abgroup"===e&&g&&b[e].push(`${"rvadv_ab1"}:${g}`);d[e]=encodeURIComponent(b[e].toString())});d.vprenum=String(a._prerollNum);d.jwv=a.jwVersion||"";d.imav=a.imaVersion||"";d.voba=this._config.videoOpenBidding.bidders.toString();
c&&(d.iris_context=c.toString());return d}_getVideoBid(a){let b=this._apstagSlotBids.get(a);if(b)return this._apstagSlotBids.delete(a),b}getAmazonBidTargeting(a){if(a=(a=this._getVideoBid(a))&&a.targeting||a)return{...(a.amznbid&&{amznbid:a.amznbid}),...(a.amzniid&&{amzniid:a.amzniid}),...(a.amznp&&{amznp:a.amznp}),...(a.amznp_sp&&{amznp_sp:a.amznp_sp}),...(a.amzndeal_sp&&{amzndeal_sp:a.amzndeal_sp}),...(a.amznbid_sp&&{amznbid_sp:a.amznbid_sp}),...(a.amz_pb&&{amz_pb_sp:a.amz_pb}),...(a.amz_bidder&&
{amz_bidder:a.amz_bidder}),...(a.amz_pb_sp&&{amz_pb_sp:a.amz_pb_sp}),...(a.amz_bidder_sp&&{amz_bidder:a.amz_bidder_sp}),...(a.amzniid_sp&&{amzniid_sp:a.amzniid_sp})}}getPrebidNoBidTargeting(a){if(a=this.getPrebidSlotTargeting(a).noBid)return{hb_bidder:a}}getPrebidSlotTargeting(a){return this._prebidSlotTargetingMap.get(a)||{}}convertFlagSlotValues(a){let b=[];Object.keys(a).forEach(c=>{let d=a[c];"string"===typeof d?b.push(`${c}%3A${d}`):Array.isArray(d)&&0<d.length&&b.push(d.map(e=>`${c}%3A${e}`).join(","))});
return b.join(",")}getCustParams(a){let b=this._gam.getTargetingMap(),c=this.getAmazonBidTargeting(a._playlistId),d={...("playlist"===a.isPlayerType&&{plid:a._playlistId}),...this._floors.getVideoFlagSlot(a.name),idp:a.userIdTargetingData,tid:a.transactionId};return{...(d&&{flag_slot:this.convertFlagSlotValues(d)}),...this.getVideoTargeting(a,b),...this.getPrebidNoBidTargeting(a.name),...c}}handleGdprConsent(){let a={gdpr:1,gdpr_consent:"tcunavailable"};"function"===typeof window.__tcfapi&&window.__tcfapi("getFullTCData",
2,b=>{b&&b.tcString.length&&(a.gdpr_consent=b.tcString);b&&b.addtlConsent.length&&(a.addtl_consent=b.addtl_consent)});return a}getConsentParams(){if(this._config.gdpr.enabled)this.handleGdprConsent();else if(this._config.ccpa.privacyString)return{us_privacy:this._config.ccpa.privacyString}}getDefaultVideoUrlParams(a){let b=window.location.origin;return{iu:`/${this._config.gam.account}/${this._config.gam.prefix}_${a.name}/${this._config.site.id}`,sz:a.size.join("x"),hl:"en",output:"vast",url:"__page-url__",
vad_type:"linear",description_url:`${encodeURIComponent(encodeURIComponent(b))}`,pp:"10_VAST%20redirects_video%2Fmp4_VPAID%20JavaScript",vpos:"preroll",wta:1}}buildGAMVideoUrl(a){var b=this.getConsentParams(),c=ja.createQueryString(this.getCustParams(a));c=ja.createEncodedQueryString({cust_params:c});a=this.getDefaultVideoUrlParams(a);b={env:"vp",gdfp_req:"1",unviewed_position_start:"1",correlator:Date.now(),...a,...b};return`${"https://securepubads.g.doubleclick.net/gampad/ads"}?${ja.createQueryString(b)}&${c}`}buildGAMVideoUrlPrebid(a){let b=
a.videoAdUnit||{},c=this.getCustParams(a);a=this.getDefaultVideoUrlParams(a);return window.pbjs.adServers.dfp.buildVideoUrl({adUnit:b,params:{...a,cust_params:c}})}buildVideoUrl(a){return this.shouldPrebidRun?this.buildGAMVideoUrlPrebid(a):this.buildGAMVideoUrl(a)}};Lh=l([n("VideoUrlBuilder"),p(),k("design:paramtypes",[I,y,E,$a,xa,Ca,Ha])],Lh);let im=(a=>{let b=!1;return async()=>{if(!b){try{await be(a)}catch(c){}b=!0}}})({condition:()=>!1,delay:500,maxAttempts:8}),sd=class extends ea{init(){this._key=
"vcsu";this._default=!1}run(){return super.run()}};l([N(),k("design:type",Function),k("design:paramtypes",[]),k("design:returntype",void 0)],sd.prototype,"run",null);sd=l([n("VideoCollapseScrollUpExperiment"),p()],sd);let Mh=class extends hm{constructor(a,b,c,d,e,g,h,m,q,w,u,v,A,G,L,J,D,P,M){super(a.video,"VideoManagerComponent");this._config=a;this._bootstrapConfig=b;this._prebidMethods=c;this._auctionManagers=d;this._jwBoostExperiment=e;this._userPageDataLoggingEvent=g;this._collapsibleVideoLoggingStore=
h;this._videoRequestManager=m;this._eventProxy=q;this._mediaType=w;this._stickyOutstreamOnStickyPlayerPagesExperiment=u;this._stickyOutstreamOnStickyPlayerPagesSiteExperiment=v;this._videoUrlBuilder=A;this._irisTv=G;this._events=L;this._spaEventBus=J;this._instreamFloors=D;this._floors=P;this._videoCollapseScrollUpExperiment=M;this._jwPlayers=[];this._spaListeners=[];this._IN_POST_SELECTOR=".adthrive-video-player";this._shouldCollapseOnScrollUp=!1;this._shouldCollapseOnScrollUp=this._videoCollapseScrollUpExperiment.result&&
!Q()}async init(){var a,b;(((null!==(b=null===(a=document.querySelector("meta[name=generator]"))||void 0===a?void 0:a.content)&&void 0!==b?b:null)||"").includes("Wix")||window.wixPerformanceMeasurements||window["wix-perf-measure"]||window.wixDevelopersAnalytics)&&await im();this._setupSpaListeners();this._handleCollapsibleVideoLogging();this._initializePlayers();this._mediaType.runOneStreamExperiment()}_setupSpaListeners(){this._spaEventBus.routeChanged.on(()=>{this._removeExistingSpaListeners();
this._removePlayers();this._stickyRelatedOnPage=!1;this._contextualMediaIds=[];this.setPotentialPlayersMap()});this._spaEventBus.resetCompleted.on(()=>{this._handleCollapsibleVideoLogging();this._initializePlayers()})}_removeExistingSpaListeners(){this._spaListeners.forEach(a=>a());this._spaListeners.length=0}_removePlayers(){this._jwPlayers.forEach(a=>a.playerInstance.remove());this._jwPlayers.length=0}_initializePlayers(){let a=document.querySelectorAll(this._IN_POST_SELECTOR);a.length&&this._initializeRelatedPlayers(a);
if(this._shouldRunAutoplayPlayers()){this._determineAutoplayPlayers();try{this._importScripts()}catch(b){r.error("VideoManagerComponent","initializePlayers",b)}}else try{this._importScripts()}catch(b){r.error("VideoManagerComponent","initializePlayers",b)}}_createStationaryRelatedPlayer(a,b){a=new pd(a.playerId,a.mediaId,x.Video_In_Post_ClicktoPlay_SoundOn,"mobile"===this._device?[400,225]:[640,360],b,this._eventProxy,this._config,!1,"adthrive-collapse-mobile","adthrive-collapse-medium",this._prebidMethods,
this._auctionManagers,this._shouldCollapseOnScrollUp);this._jwPlayers.push(a)}_createStickyRelatedPlayer(a,b){let c="mobile"===this._device?[400,225]:[640,360],d=x.Video_Individual_Autoplay_SOff,e=this._getCollapseType();this._collapsibleVideoLoggingStore.playerName=d;this._stickyRelatedOnPage=!0;this._config.video.mobileStickyPlayerOnPage="mobile"===this._device?!0:!1;a=new pd(a.playerId,a.mediaId,d,c,b,this._eventProxy,this._config,!0,e,"adthrive-collapse-medium",this._prebidMethods,this._auctionManagers,
this._shouldCollapseOnScrollUp,a.mobileLocation,a.mobileHeaderSelector);this._jwPlayers.push(a)}_createPlaylistPlayer(a,b){let c=a.playerId,d=a.playlistId,e=this._getCollapseType(),g="adthrive-collapse-mobile"===e?[400,225]:[640,360],h="mobile"===this._device?x.Video_Coll_SOff_Smartphone:x.Video_Collapse_Autoplay_SoundOff,m={classNames:[],enabled:!0,pageSelector:a.pageSelector,elementSelector:a.elementSelector,position:a.position,skip:a.skip};this._config.video.mobileStickyPlayerOnPage=!0;a=new Kh(c,
d,h,g,m,b,this._eventProxy,this._config,e,"adthrive-collapse-medium",this._prebidMethods,this._auctionManagers,this._shouldCollapseOnScrollUp,a.mobileLocation,a.mobileHeaderSelector,a.saveVideoCloseState,a.title,a.shuffle);this._collapsibleVideoLoggingStore.playerName=h;this._jwPlayers.push(a)}_initJwBoost(){this._prebidMethods.setConfig({...(this._jwBoostExperiment.result&&this._jwPlayers.length&&{realTimeData:{dataProviders:[{name:"jwplayer",params:{mediaIDs:this._contextualMediaIds}}]}})})}_hasViewableCollapsiblePlayer(a){return a.length?
a.some(b=>b.collapsible&&ja.playerViewable(b._pageElement)):!1}_hasCollapsiblePlayer(a){return a.length?a.some(b=>b.collapsible):!1}_hasViewableAutoplayStationaryPlayer(a){return a.length?a.some(b=>!b.collapsible&&ja.playerViewable(b._pageElement)):!1}_setPlayerInstance(a){void this._resetPlayer(a)}_resetPlayer(a){a.init()}_delayVideoBid(a){return this._floors.handleDelayedBids("Video_StickyInstream",a).then(()=>{this._floors.removeDelayedBid("Video_StickyInstream",a)}).catch(b=>{r.error("VideoManagerComponent",
"_delayVideoBid","Error trying to request delayed bid",b)})}async _initializePlayer(a,b){let c=this._videoRequestManager;a.setDefaults(window.jwplayer.defaults);window.jwplayer.defaults={};await this._bootstrapConfig.bootstrapLoaders[ra.Prebid].then(()=>{this._videoUrlBuilder.shouldPrebidRun=!0}).catch(()=>{});b&&this._contextualMediaIds[0]&&await this._irisTv.setContextualData(this._contextualMediaIds[0]);c.addVideoSlots([a]);a.setPlayerInstance=this._setPlayerInstance.bind(this);let d=async e=>
await c.requestVideoBids(e);a.requestVideoBids=async e=>{if(this._config.floors.floorsExperiment.instream){let g=[],{nondelayed:h,eligibleInstream:m}=this._instreamFloors.splitOutEligibleInstream(e);0<h.length&&g.push(d(h));0<m.length&&(await this._delayVideoBid(this._instreamFloors.instreamName),g.push(d(m)));return Promise.all(g)}return d(e)};a.waitForConsent=this.gdprConsentWait.bind(this);E.pushToQueue(()=>{a.buildVideoUrl=this._videoUrlBuilder.buildVideoUrl.bind(this._videoUrlBuilder);a.init()})}async gdprConsentWait(){return new Promise(a=>
{this._events.consentCaptured.on(b=>{b&&a(!0)})})}_importScripts(){this._config.video.preventStickyOutstream=this._preventStickyOutstream();this._config.ccpa.userOptedOut||this._initJwBoost();this._jwPlayers.length&&(this._config.video.hasJwPlayer=!0);this._jwPlayers.forEach(a=>{let b="contextual"===a.isPlayerType;b&&this._config.video.setupAdvanceRelatedExperiment(a.collapsible);va(`https://content.jwplatform.com/libraries/${a._playerId}.js`).then(async()=>this._initializePlayer(a,b)).catch(c=>r.error("VideoManagerComponent",
"importScripts",c))})}_preventStickyOutstream(){let a=this._hasViewableCollapsiblePlayer(this._jwPlayers),b=!a&&this._hasViewableAutoplayStationaryPlayer(this._jwPlayers),c=this._disableStickyOutstreamInPresenceOfCollapsiblePlayer();return a||b||c}_disableStickyOutstreamInPresenceOfCollapsiblePlayer(){return this._hasCollapsiblePlayer(this._jwPlayers)?this._stickyOutstreamOnStickyPlayerPagesSiteExperiment.enabled&&this._stickyOutstreamOnStickyPlayerPagesSiteExperiment.result?!1:this._stickyOutstreamOnStickyPlayerPagesExperiment.result?
!1===this._config.video.stickyOutstreamSettings.allowForPageWithStickyPlayer.enabled:!0:!1}_isVideoAllowedOnPage(){return this._config.disableAds.video?(this._config.disableAds.reasons.has("video_tag")?r.error("VideoManagerComponent","isVideoAllowedOnPage",Error("DBP: Disabled by publisher via video tag")):this._config.disableAds.reasons.has("video_plugin")?r.error("VideoManagerComponent","isVideoAllowedOnPage",Error("DBP: Disabled by publisher via video plugin")):this._config.disableAds.reasons.has("video_page")?
r.error("VideoManagerComponent","isVideoAllowedOnPage",Error("DBP: Disabled by publisher via command queue")):r.error("VideoManagerComponent","isVideoAllowedOnPage",Error("DBP: Disabled by publisher via other")),!1):!0}_getCollapseType(){return"mobile"===this._device?"adthrive-collapse-mobile":"adthrive-collapse-float"}_handleCollapsibleVideoLogging(){this._spaListeners.push(ba.collapseEvent.on(()=>{this._collapsibleVideoLoggingStore.startedCollapsedTime=ia()}));this._spaListeners.push(ba.uncollapseEvent.on(()=>
{this._collapsibleVideoLoggingStore.totalTimeCollapsed+=this._collapsibleVideoLoggingStore.startedCollapsedTime?ia()-this._collapsibleVideoLoggingStore.startedCollapsedTime:0;this._collapsibleVideoLoggingStore.startedCollapsedTime=void 0}));this._spaListeners.push(ba.closeEvent.on(()=>{this._collapsibleVideoLoggingStore.wasClosed=!0}));ba.startEvent.once(()=>{this._collapsibleVideoLoggingStore.wasStarted=!0});this._spaListeners.push(this._userPageDataLoggingEvent.loggingData.on(()=>{this._collapsibleVideoLoggingStore.startedCollapsedTime&&
(this._collapsibleVideoLoggingStore.totalTimeCollapsed+=ia()-this._collapsibleVideoLoggingStore.startedCollapsedTime)}))}};Mh=l([n("VideoManagerComponent"),t(),k("design:paramtypes",[y,ma,W,tb,Yb,kb,Zc,Qa,Pa,za,rd,qd,Lh,$a,Za,ka,fd,xa,sd])],Mh);let td=class extends C{constructor(a,b){super();this._bootstrapConfig=a;this._pageManager=b;this._maxTimeOnPage=36E5;this._webVitals=[];this._webVitalsSent=!1;this._visibilityChangeOff=this._pageManager.visibilityChange.on(()=>this.logWebVitals())}init(){bj().then(()=>
{let a=window.webVitals,b=this.addWebVital;a.onFID(b);a.onCLS(b);a.onLCP(b);a.onFCP(b);a.onINP(b);a.onTTFB(b)}).catch(()=>!1);window.addEventListener("LogWebVital",a=>{this._webVitals.push(a.detail)});setTimeout(()=>{this.logWebVitals()},this._maxTimeOnPage)}addWebVital({name:a,delta:b,value:c,id:d}){a=new CustomEvent("LogWebVital",{detail:{name:a,delta:b,value:c,id:d}});window.dispatchEvent(a)}logWebVitals(){if(!this._webVitalsSent){var a={webVitals:this._webVitals,gptLoad:!0,gptv:googletag&&googletag.getVersion&&
googletag.getVersion()};this._webVitalsSent=!0;this._visibilityChangeOff();this._bootstrapConfig.gptLibFailed&&(a.gptLoad=!1);r.fetchEvent("WebVitalsComponent","logWebVital",a)}}get enabled(){return this._bootstrapConfig.webVitalsEnabled}};td=l([n("WebVitalsComponent"),t(),k("design:paramtypes",[ma,wa])],td);let Nh=class extends K{constructor(a,b){super();this._result=!1;this.key="logcls";this._choices=[{choice:!0},{choice:!1}];this.weight=.1;b=b.getCoreExperimentButMutateWeights(this.key);Ua()&&
b&&(this.weight=b.variants[0].weight,this._result=this.run(),a.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return(new O(this.weight)).get()}};Nh=l([n("LayoutShiftExperiment"),p(),k("design:paramtypes",[I,aa])],Nh);let ud=class extends C{constructor(a,b,c,d,e,g){super();this._gam=a;this._slotManager=b;this._slots=c;this._videoRequestManager=d;this._layoutShiftExperiment=e;this._pageManager=g;this._events=[];this._maxTimeOnPage=36E5;this._screenHeightsWithin=5;this._previousSiblings=
3;this._layoutShiftData=[];this._slotResize={};this._loggedInitialLoadShift=!1;this._maxPayloadSize=3062}init(){this.watchSlotShift()}get enabled(){return this._layoutShiftExperiment.result&&"ResizeObserver"in window&&"PerformanceObserver"in window&&PerformanceObserver.supportedEntryTypes.includes("layout-shift")}watchSlotShift(){this.setPerformanceObserver();this.setResizeEvents();this.setEventListeners()}setPerformanceObserver(){if(!this._layoutObserver)try{this._layoutObserver=new PerformanceObserver(a=>
{this.analyzeEntries(a.getEntries())}),this._layoutObserver.observe({type:"layout-shift",buffered:!1})}catch(a){r.error("LayoutShiftComponent","SetPerformanceObserver",a)}}setResizeEvents(){this._events.push(this._videoRequestManager.requestingVideoBids.on(a=>{a.forEach(b=>{this.setResizeObservers(b._playlistId,b._pageElement)})}));this._events.push(this._gam.slotRequested.on(({slot:a})=>{this.setResizeObservers(a.element.id,a.element)}));this._slotManager.refreshing.once(()=>{this.logLayoutShift()})}setEventListeners(){this._events.push(this._pageManager.beforeUnload.on(()=>
this.logLayoutShift()));this._events.push(this._pageManager.visibilityChange.on(()=>this.logLayoutShift()));setTimeout(()=>{this.logLayoutShift()},this._maxTimeOnPage)}setResizeObservers(a,b){this._slotResize[a]||(this._slotResize[a]={hasResized:!1,resizeObserver:new ResizeObserver(c=>{c.forEach(()=>{this._slotResize[a].hasResized=!0;this._slotResize[a].ro_ts=Date.now();this._slotResize[a].resizeObserver.disconnect()})})},this._slotResize[a].resizeObserver.observe(b))}analyzeEntries(a){let b=Date.now();
for(let c of a){let {value:d,sources:e,hadRecentInput:g}=c;if(!g){a={value:d,po_ts:b,nodes:[]};for(let h of e)if(h.node){let m=xb(h.node),q=m.split(":")[1];a.nodes.push({identifier:m,posDiff:h.currentRect.top-h.previousRect.top,absPos:window.pageYOffset+Number(h.currentRect.top),prevEls:this.getPreviousSibling(h.node,this._previousSiblings),parent:xb(h.node.parentNode),hasResized:this.checkResizes(h.node),...(this._slotResize[q]&&this._slotResize[q].ro_ts&&{ro_ts:this._slotResize[q].ro_ts})})}this._layoutShiftData.push(a)}}}getPreviousSibling(a,
b=3){a=a.previousElementSibling;let c=0,d=[];for(;a&&c<b;)++c,d.push(xb(a)),a=a.previousElementSibling;return d}checkResizes(a){let b=xb(a).split(":")[1];return this._slotResize[b]&&this._slotResize[b].hasResized?this.checkIsSticky(b)||this.checkElementPlacement(a):!1}checkIsSticky(a){return(a=this._slots.get(a))&&a.isSticky}checkElementPlacement(a){var b=a.getBoundingClientRect();if(b=0<=b.top&&0<=b.left&&b.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&b.right<=(window.innerWidth||
document.documentElement.clientWidth)||window.pageYOffset>a.getBoundingClientRect().top+window.pageYOffset)b=this._screenHeightsWithin,b=window.pageYOffset-(a.getBoundingClientRect().top+window.pageYOffset)<window.innerHeight+window.innerHeight*b;return b}logLayoutShift(){this._loggedInitialLoadShift||(this._loggedInitialLoadShift=!0,this.checkAndTrim(this._layoutShiftData).forEach(a=>{r.event("LayoutShiftComponent","logLayoutShift",a)}),this.cleanUp())}checkAndTrim(a=[]){if(!a.length)return[];a=
[...a].sort((c,d)=>d.value-c.value);var b=JSON.stringify(a);if(b.length>this._maxPayloadSize){if(2>=Math.ceil(b.length/this._maxPayloadSize))return[a.slice(0,Math.ceil(a.length/2)),a.slice(Math.ceil(a.length/2))];b=this._maxPayloadSize/b.length*(Math.ceil(b.length/this._maxPayloadSize)/2);let c=a.slice();c.length=Math.floor(a.length*b);return this.checkAndTrim(c)}return[a]}cleanUp(){this.disconnectObservers();this.removeEventListeners()}removeEventListeners(){this._events.forEach(a=>{a()})}disconnectObservers(){this._layoutObserver.disconnect();
let a=Object.keys(this._slotResize);for(let b of a)this._slotResize[b].resizeObserver.disconnect()}};ud=l([n("LayoutShiftComponent"),t(),k("design:paramtypes",[E,V,la,Qa,Nh,wa])],ud);let vd=class extends Fa{constructor(){super(...arguments);this.stickyContainerAdStylingApplied=new z}};vd=l([p()],vd);let Oh=class extends C{constructor(a,b,c,d,e,g){super();this._gam=a;this.parallaxAdsExperiment=b;this._pageManager=c;this._config=d;this._slotManager=e;this._stickyContainerAdsEventBus=g;this._parallaxSlotMap=
new Map;this._parallaxScrollEventOffMap=new Map;this._slotRebuildComplete=new Map;this._stickyContainerAdsApplied=!1}get enabled(){return this.parallaxAdsExperiment.result}start(){this._setupListeners()}_setupListeners(){this._stickyContainerAdsEventBus.stickyContainerAdStylingApplied.on(()=>{this._stickyContainerAdsApplied=!0},{handleEventsAlreadyEmitted:!0});this._gam.slotOnload.on(({slot:a})=>{if("Content"===a.location){let b=a.element;this._stickyContainerAdsApplied&&this._removeParallaxCSS(b);
this._removeParallaxScrollEvent(b);this._isParallaxAd(b)&&(r.event("ParallaxComponent","_setupListeners","parallax_rendered",a.element.id,a.refreshCount),this._parallaxSlotMap.set(b.id,!0),this._setParallaxSlotCSS(b),this._parallaxAdOnScroll(b))}});this._slotManager.refreshing.on(a=>{a.forEach(b=>{let c=b.element.id;"Content"!==b.location||this._slotRebuildComplete.get(c)||this._parallaxSlotMap.get(c)||this._stickyContainerAdsApplied||this._rebuildSlot(b)})})}_setParallaxSlotCSS(a){a.classList.add("adthrive-parallax-slot");
(a=a.firstChild)&&a.classList.add("adthrive-parallax-ad")}_removeParallaxCSS(a){a.classList.remove("adthrive-parallax-slot");(a=a.firstChild)&&a.classList.remove("adthrive-parallax-ad")}_removeParallaxScrollEvent(a){(a=this._parallaxScrollEventOffMap.get(a.id))&&a()}_parallaxAdOnScroll(a){let b=Number(a.getBoundingClientRect().top)+window.pageYOffset,c=()=>{const d=a.firstChild?a.firstChild:void 0,e=this._isParallaxAd(a),g=.5*(window.pageYOffset-b+300);d&&e&&(d.style.transform=`translateY(-${205<
g?205:g}px)`)};this._parallaxScrollEventOffMap.set(a.id,this._pageManager.scroll.on(()=>c()))}_isParallaxAd(a){a=(a=a.firstChild?a.firstChild:void 0)?getComputedStyle(a).height:"0px";a=Number(a.slice(0,-2));return 600<=a&&750>=a}_rebuildSlot(a){a.sizes=a.sizes.filter(b=>600>b[1]);this._slotManager.rebuild(a);this._slotRebuildComplete.set(a.element.id,!0)}};Oh=l([t(),n("ParallaxAdsComponent"),k("design:paramtypes",[E,xc,wa,y,V,vd])],Oh);let cc=class{constructor(){this.contentAdded=new z}};cc=l([n("InfiniteScrollEvents"),
p()],cc);let Ph=class extends C{constructor(a,b){super();this._config=a;this._events=b;this._ajaxSelector="#ajax-load-more";this._heightThreshold=1E3;this._infiniteScrollElement=null}start(){this.detectInfiniteScroll()}detectInfiniteScroll(){this.checkForCustomConfig();let a=new MutationObserver((b,c)=>{b.filter(({type:d,addedNodes:e})=>"childList"===d&&0<e.length).reduce((d,{addedNodes:e})=>[...d,...Array.prototype.slice.call(e)],[]).filter(d=>d instanceof HTMLElement&&d.clientHeight>this._heightThreshold).forEach(d=>
{d.parentElement&&(c.disconnect(),c.observe(d.parentElement,{childList:!0}),this._infiniteScrollElement&&c.observe(this._infiniteScrollElement,{childList:!0,subtree:!0}));try{this._events.contentAdded.emit(d)}catch(e){r.error("InfiniteScrollDetectionComponent","addMutationObserver","added",e)}})});this._infiniteScrollElement?a.observe(this._infiniteScrollElement,{childList:!0,subtree:!0}):Array.prototype.slice.call(document.querySelectorAll("body *")).filter(b=>b instanceof HTMLElement&&b.offsetHeight>
this._heightThreshold).forEach(b=>{a.observe(b,{childList:!0})})}checkForCustomConfig(){let {heightThreshold:a,selector:b}=this._config.adOptions.infiniteScrollOptions;var c=b?document.querySelector(b):null;if(c)this._infiniteScrollElement=c;else if(c=document.querySelector(this._ajaxSelector))this._config.infiniteScroll.ajaxType=!0,this._infiniteScrollElement=c;a&&0<a&&(this._heightThreshold=a)}get enabled(){return this._config.adOptions.infiniteScroll&&"MutationObserver"in window}};Ph=l([n("InfiniteScrollDetectionComponent"),
t(),k("design:paramtypes",[y,cc])],Ph);let Qh=class extends Rg{constructor(a,b){super(b);this._config=a;this._adInjectionMap=b;this._count=1}getDynamicElementId(){return`${this._config.gam.prefix}_Infinite_${this._count++}`}};Qh=l([n("InfiniteScrollDynamicAdsInjector"),t(),k("design:paramtypes",[y,ab])],Qh);let Rh=class extends C{constructor(a,b,c,d,e){super();this._config=a;this._events=b;this._injector=c;this._slotManager=d;this._gam=e;this._page=1}init(){this._events.contentAdded.on(a=>{this._page++;
this._config.context.pageviewKey=ib();this._gam.setTargeting({key:"pvk",value:this._config.context.pageviewKey});this.slotsAlreadyInjectedInElement(a)||this.addSlots(a)})}slotsAlreadyInjectedInElement(a){return!!a.querySelector("[id*='AdThrive_Content']")}addSlots(a){let b=this._config.dynamicAds.filter(c=>!(this._config.infiniteScroll.ajaxType&&"Sidebar"===c.location)).filter(c=>ae(this._config,c)).filter(c=>c.devices.includes(this._config.context.device)).filter(c=>0===c.pageSelector.length||null!==
document.querySelector(c.pageSelector));a=this._injector.inject(b,a);this._slotManager.add(a).then(c=>{c.forEach(d=>{E.pushToQueue(()=>{d.setTargeting({key:"inf_scroll",value:this._page.toString()})})})}).catch(c=>{r.error("InfiniteScrollDynamicAdsComponent","addSlots",c)})}get enabled(){return this._config.adOptions.infiniteScroll}};Rh=l([n("InfiniteScrollDynamicAdsComponent"),t(),k("design:paramtypes",[y,cc,Qh,V,E])],Rh);let Sh=class extends C{constructor(a,b,c,d){super();this._config=a;this._events=
b;this._slotManager=c;this._slots=d;this._debounce=new Uk(1E3)}start(){this._observer=this.getIntersectionObserver();this._events.contentAdded.on(a=>{this._observer&&this._observer.observe(a)})}getIntersectionObserver(){return new IntersectionObserver(a=>{for(let b of a)0<b.intersectionRatio&&b.isIntersecting&&this._debounce.limit(b.target.id).then(()=>this.refresh()).catch(c=>{r.error("InfiniteScrollRefreshComponent","getIntersectionObserver","refresh",c)})},{threshold:[.08]})}refresh(){this._config.adOptions.infiniteScrollRefresh&&
this._slots.get().filter(a=>this._config.infiniteScroll.refreshSlots.has(a.location)&&a.isSticky&&!a.isRefreshing).forEach(a=>{this._slotManager.updateRefreshTimeout(a,1001)})}get enabled(){return this._config.adOptions.infiniteScroll&&"IntersectionObserver"in window}};Sh=l([n("InfiniteScrollRefreshComponent"),t(),k("design:paramtypes",[y,cc,V,la])],Sh);let Th=class extends C{constructor(a){super();this._googleAdManager=a}init(){this._googleAdManager.slotResponseReceived.on(({slot:a})=>{this.slotResponseReceived(a)})}slotResponseReceived(a){a.alwaysInView=
"Footer"===a.location||"Video_StickyOutstream"===a.location}};Th=l([n("AlwaysInViewComponent"),t(),k("design:paramtypes",[E])],Th);let Uh=class extends C{constructor(a){super();this._slotManager=a;window.addEventListener("message",b=>{b&&b.data&&"set_adthrive_slot_timeout"===b.data.message&&b.data.slot_id&&0<=b.data.refresh_interval&&this._slotManager.updateRefreshTimeout(b.data.slot_id,b.data.refresh_interval)},!1)}};Uh=l([n("ChangeSlotRefreshComponent"),t(),k("design:paramtypes",[V])],Uh);let Vh=
class extends C{constructor(a,b,c){super();this._slotManager=a;this._slots=b;this._pageManager=c}init(){this._pageManager.visibilityChange.on(()=>this.documentVisibilityChanged())}documentVisibilityChanged(){let a=document.visibilityState,b=this._slots.get();"visible"===a?this._slotManager.resumeRefresh(b):"hidden"===a&&this._slotManager.pauseRefresh(b)}};Vh=l([n("DocumentHiddenPauseRefreshComponent"),t(),k("design:paramtypes",[V,la,wa])],Vh);let Wh=class extends C{constructor(a,b){super();this._googleAdManager=
a;this._slotManager=b;this._inViewPercentage=50}init(){this._googleAdManager.impressionViewable.on(({slot:a})=>{this.processImpressionViewable(a)});this._googleAdManager.slotVisibilityChanged.on(({slot:a,event:b})=>{this.processVisibilityChanged(a,b)})}processImpressionViewable(a){a.outOfViewGPT=!1;this._slotManager.inView(a)}processVisibilityChanged(a,b){this.check(a,b.inViewPercentage)}check(a,b){b&&b>=this._inViewPercentage||"Video_StickyOutstream"===a.location?(a.outOfViewGPT=!1,this._slotManager.inView(a)):
(a.outOfViewGPT=!0,this._slotManager.outOfView(a))}};Wh=l([n("ImpressionViewableRefreshComponent"),t(),k("design:paramtypes",[E,V])],Wh);let Xh=class extends C{constructor(a,b,c){super();this._googleAdManager=a;this._slotManager=b;this._slots=c;this._inViewPercentage=50;this._trackSlotEvents=new Map}init(){this._observer=this.getIntersectionObserver();this._googleAdManager.slotResponseReceived.on(({slot:a})=>{this.slotResponseReceived(a);this._trackSlotEvents.set(a.id,"slotResponseReceived")});this._googleAdManager.slotRenderEnded.on(({slot:a})=>
{this.slotResponseReceived(a);this._trackSlotEvents.delete(a.id)});this._googleAdManager.slotRequested.on(({slot:a})=>{this._trackSlotEvents.set(a.id,"slotRequested")});this._slotManager.refreshing.on(a=>{for(let b of a)this._trackSlotEvents.get(b.id)&&(this._slotManager.rebuild(b),this._trackSlotEvents.delete(b.id));this.refreshing(a)})}get enabled(){return"IntersectionObserver"in window}slotResponseReceived(a){this._observer&&a.element&&this._observer.observe(a.element)}refreshing(a){if(this._observer)for(let b of a)b.element&&
this._observer.unobserve(b.element)}getIntersectionObserver(){return new IntersectionObserver(a=>{for(let b of a)(a=this._slots.get(b.target.id))&&this.check(a,100*b.intersectionRatio)},{threshold:[0,this._inViewPercentage/100]})}check(a,b){b>=this._inViewPercentage||"Video_StickyOutstream"===a.location?(a.outOfViewIO=!1,this._slotManager.inView(a)):(a.outOfViewIO=!0,this._slotManager.outOfView(a))}};Xh=l([n("IntersectionObserverRefreshComponent"),t(),k("design:paramtypes",[E,V,la])],Xh);let Yh=class extends C{constructor(a,
b){super();this._config=a;this._gdprEvents=b;this._comscoreId="20567959";this._gdprEnabled=!1;this._gdprEnabled=this._config.gdpr.enabled}init(){var a=this._config.ccpa.comscoreParams||"0";a={c1:"2",c2:this._comscoreId,...((this._gdprEnabled||this._config.ccpa.required)&&{cs_ucfr:a})};window._comscore=window._comscore||[];window._comscore.push(a);if(this._gdprEnabled)this._gdprEvents.consentCaptured.on(()=>{va(`${"https://sb.scorecardresearch.com"}/cs/${this._comscoreId}/beacon.js`).catch(()=>{})});
else return va("https://sb.scorecardresearch.com/beacon.js")}get enabled(){return!0}};Yh=l([n("ComscoreTrackerComponent"),t(),k("design:paramtypes",[y,Za])],Yh);let Zh=class extends C{constructor(a,b){super();this._gam=a;this._config=b;this._trackerHoldoutKey="hawk"}init(){this._gam.slotOnload.once(()=>{this.import().then(()=>this.syncData()).catch(a=>r.error("HawkeyeTrackerComponent","init","slotOnload",a))})}get enabled(){return this._config.tkho.tracker!==this._trackerHoldoutKey}async import(){return await va("https://pghub.io/js/pandg-sdk.js",
!0)}syncData(){window.Tapad.init({ccpa:this._config.ccpa.privacyString?this._config.ccpa.privacyString:null,bp_id:"cafemedia"},{name:"P&G",pixelUrl:"https://pandg.tapad.com/tag"}).sync({}).then(a=>{})}};Zh=l([n("HawkeyeTrackerComponent"),t(),k("design:paramtypes",[E,y])],Zh);let $h=class extends C{constructor(a,b){super();this._config=a;this._gam=b;this._trackerHoldoutKey="ats"}init(){try{this._gam.slotOnload.once(()=>{this._importATS()})}catch(a){r.error("LiveRampAtsTrackerComponent","init",a)}}get enabled(){return this._config.liveRampAts.enabled&&
!this._config.disableAds.all&&this._config.tkho.tracker!==this._trackerHoldoutKey}_importATS(){va(this._config.liveRampAts.url).then(()=>{r.log("LiveRampAtsTrackerComponent","import liveramp with ATS")}).catch(a=>{r.error("LiveRampAtsTrackerComponent","error importing liveramp with ATS",a)})}};$h=l([n("LiveRampAtsTrackerComponent"),t(),k("design:paramtypes",[y,E])],$h);let ai=class extends C{constructor(a,b){super();this._config=a;this._gam=b;this.ptk="17c1789b-e660-493b-aa74-3c8fb990dc5f";this.pubid=
"CAFEMEDIA";this.merkleStorageKey="IXWRAPPERMerkleIp"}init(){H.getLocalStorageValue(`${this.merkleStorageKey}`);this._gam.slotOnload.once(()=>{this.load().then(a=>{a instanceof Error||!Object.keys(a).length||(H.setLocalStorageValue(`${this.merkleStorageKey}`,encodeURIComponent(JSON.stringify(a)),!1),this.spoof())}).catch(()=>{})})}async load(){let a=`https://mid.rkdms.com/idsv2?ptk=${this.ptk}&pubid=${this.pubid}`;return new Promise((b,c)=>{let d=new XMLHttpRequest;d.open("get",a);d.withCredentials=
!0;d.addEventListener("load",()=>200!==d.status?c(Error(`Error status: ${d.status} response: ${d.responseText}`)):b(JSON.parse(d.responseText)));d.addEventListener("error",()=>c(Error("Request failed")));d.send()})}spoof(){window.headertag||(window.headertag={getIdentityInfo:()=>{var a;let b=JSON.parse(decodeURIComponent(H.getLocalStorageValue("pbjs-unifiedid",!1)||"{}")),c=JSON.parse(decodeURIComponent(H.getLocalStorageValue(`${this.merkleStorageKey}`,!1)||"{}"));return{AdserverOrgIp:{data:{source:"adserver.org",
uids:Object.keys(b).map(d=>({id:b[d],ext:{rtiPartner:d}}))},responsePending:!1},MerkleIp:{data:{source:"merkleinc.com",uids:[{id:null===(a=null===c||void 0===c?void 0:c.ppid)||void 0===a?void 0:a.id,ext:{enc:0}}]},responsePending:!1}}}})}get enabled(){return!this._config.gdpr.enabled&&!this._config.ccpa.enabled}};ai=l([n("MerkleTrackerComponent"),t(),k("design:paramtypes",[y,E])],ai);let bi=class extends K{constructor(a){super();this._result=!1;this.key="NielsenTrackerExperiment";this._choices=[{choice:!0},
{choice:!1}];this.weight=.01;a=a.getCoreExperimentButMutateWeights(this.key);Ua()&&a&&(this.weight=a.variants[0].weight,this._result=this.run())}get result(){return this._result}run(){return(new O(this.weight)).get()}};bi=l([n("NielsenTrackerExperiment"),t(),k("design:paramtypes",[aa])],bi);let ci=class extends C{constructor(a,b,c){super();this._config=a;this._nielsenTrackerExperiment=b;this._gam=c}init(){try{this._gam.slotOnload.once(()=>{this.loadImage()})}catch(a){r.error("NielsenTrackerComponent",
"init",a)}}get enabled(){return this._nielsenTrackerExperiment.result}loadImage(){let a=this._config.context.device,b="https://secure-gl.imrworldwide.com/cgi-bin/m?am=3&at=view&rt=banner&st=image&cr=adthrive&ce=cafemedia",c={phone:"nlsn290957",tablet:"nlsn291137",desktop:"nlsn291136"}[a],d={phone:"nlsn287186",tablet:"nlsn287188",desktop:"nlsn287187"},e=Wd(this._config.context.savedReferrer);e&&(e.toLowerCase().includes("instagram.com")||e.toLowerCase().includes("pinterest.com"))&&(c=d[a]);b+=`&ci=${"nlsnci542"}&ca=${c}&pc=${window.location.host}&r=${Date.now()}`;
(new Image).src=`${b}`}};ci=l([n("NielsenTrackerComponent"),t(),k("design:paramtypes",[y,bi,E])],ci);let di=class extends C{constructor(a,b,c){super();this._config=a;this._gam=b;this._slotManager=c;this._accountId="2773249";this._adId="81938";this._configId="2092";this._affDomain="goto.target.com";this._targetDomain="www.target.com";this._commonPath=this._commonParams="";this._trackerHoldoutKey="tgtaff";this._commonParams=nl({subid1:this._config.site.id,subid2:location.href,sharedid:this._config.site.name});
this._commonPath=`${this._accountId}/${this._adId}/${this._configId}`}init(){try{let a=setTimeout(()=>{this.rewriteAllTargetLinksOnPage()},5E3);this._slotManager.added.once(()=>{this._gam.slotOnload.once(()=>{a&&clearTimeout(a);this.rewriteAllTargetLinksOnPage()})})}catch(a){r.error("TargetRewriteTrackerComponent","getAllTargetLinksOnPage",a)}}rewriteAllTargetLinksOnPage(){let a=0;Array.prototype.map.call(document.querySelectorAll(`a[href*="${this._targetDomain}"]`),b=>b).filter(b=>this.isTargetLink(b)).forEach(b=>
{this.fireImpression(b.href);this.replaceTargetLink(b);a++});a&&r.event("TargetRewriteTrackerComponent","logTargetRewrite",{message:"targetRewrite",countRewrite:a})}fireImpression(a){a=this.getImpressionPixel(a);return(new Image).src=a}getImpressionPixel(a){let b=`https://${this._affDomain}/i/${this._commonPath}?`,c=`U1|${this.getUUID()}`;b+=`_ir=${encodeURIComponent(c)}`+"&"+this._commonParams+"&subid3="+encodeURIComponent(a);a=a.split("?");1<a.length&&(b+="&"+a[1]);return b}getUUID(){return`${Date.now().toString()}.${Math.random().toString(36).substring(2,
15)}`}replaceTargetLink(a){var b=this.removeHashtagsFromUrl(a.href);b=encodeURIComponent(b);a.classList.add(...["noskimlinks","norewrite"]);a.href=`https://${this._affDomain}/c/${this._commonPath}?${this._commonParams}&subid3=${b}&u=${b}#donotlink`}removeHashtagsFromUrl(a){return a.split("#")[0]}isTargetLink(a){return(a=this.extractDomain(a.href))&&!a.includes(this._affDomain)}extractDomain(a){return(a=/^https?:\/\/([^\/:?#]+)(?:[\/:?#]|$)/i.exec(a))&&a[1]||""}get enabled(){return this._config.tkho.tracker!==
this._trackerHoldoutKey&&!this._config.ccpa.enabled&&this._config.adOptions.targetAff}};di=l([n("TargetRewriteTrackerComponent"),t(),k("design:paramtypes",[y,E,V])],di);let ei=class extends C{constructor(a){super();this._gam=a}init(){try{this._gam.slotOnload.once(()=>{this.loadImage()})}catch(a){r.error("TheTradeDeskTrackerComponent","init",a)}}get enabled(){return!0}loadImage(){(new Image).src="https://insight.adsrvr.org/track/evnt/?adv=z127r4i&ct=0:p21aj7j&fmt=3"}};ei=l([n("TheTradeDeskTrackerComponent"),
t(),k("design:paramtypes",[E])],ei);let fi=class extends ea{init(){this._key="sre";this._default=!1}};fi=l([p()],fi);let gi=class extends C{constructor(a,b,c){super();this.slotResizeExperiment=c;this._slotSizeMap=new Map;this._gamSlotOnLoad=a.slotOnload;this._stickyContentEnabled=b.adOptions.stickyContentEnabled||!1}get enabled(){return this.slotResizeExperiment.result}start(){this._setupListeners()}_setupListeners(){this._gamSlotOnLoad.on(({slot:a})=>{"Content"===a.location&&this._compareSlot(a)})}_compareSlot(a){let b=
this._slotSizeMap.get(a.id),c=getComputedStyle(a.element).height,d=Number(c.slice(0,-2));if(!b||b<d)this._resize(a.element,c),this._setSlotSizeMap(a.element.id,d);this._stickyContentEnabled||this._align(a.element)}_resize(a,b){a.style.minHeight=b}_setSlotSizeMap(a,b){this._slotSizeMap.set(a,b)}_align(a){let {top:b,bottom:c}=a.getBoundingClientRect();a.style.alignContent=b<window.innerHeight-c?"end":"start"}};gi=l([t(),n("SlotResizeComponent"),k("design:paramtypes",[E,y,fi])],gi);let ck=a=>{if(a&&
a.length){let b=0;for(let c=0;c<a.length;c++){const d=hb(a[c]);if(d.valid&&d.elements&&d.elements[0]){b=Td(d.elements[0]).height;break}}return b}},hi=(a=5)=>{a=5<a?a:5;fb(`
    .adthrive-recipe-sticky-container > div {
      flex-basis: unset;
      position: sticky !important;
      display: block;
      flex-direction: column;
      top: ${a}px;
    }
    .adthrive-sticky-container > div {
      flex-basis: unset;
      position: sticky !important;
      display: block;
      flex-direction: column;
      top: ${a}px;
    }
  `)},jm=a=>a.some(b=>null!==document.querySelector(b)),ii=class extends ea{init(){this._key="scatcve";this._default=!1}};ii=l([t(),n("StickyContainerAdsTopCenterVideoDependencyExperiment")],ii);let dk=(a,b=!1)=>{let c=Infinity,d=null;for(let h=0;h<a.length;h++){const m=a[h];if(!b||"fixed"===window.getComputedStyle(m).getPropertyValue("position")){const q=m.getBoundingClientRect();var e=m,g=q;const w="hidden"===getComputedStyle(e).visibility;e="none"===getComputedStyle(e).display;0<g.height&&0<g.width&&
!w&&!e&&q.top<c&&(c=q.top,d=m)}}return d},ji=class extends ea{init(){this._key="dovh";this._default=!1}};ji=l([n("DetectOverlappingHeaderExperiment"),p()],ji);let ki=class{constructor(a,b,c){this._googleAdManager=a;this._pageManager=b;this._topMostElement=null;this._slots={};this._scrollListener=[];this._hasFired=!1;this._slot={slot:null,element:null};c.result&&(this._topMostElement=dk(Array.from(document.body.querySelectorAll("*")),!0))&&this._addContentSlotListeners()}_addContentSlotListeners(){this._addScrollListener();
this._googleAdManager.slotVisibilityChanged.on(({slot:a})=>{if(-1<a.element.id.indexOf("AdThrive_Content")&&!a.outOfViewGPT&&(this._slots[a.id]=a,this._slot.element||(this._slot={slot:a,element:a.element.firstChild||a.element}),this._slot.element)){let b=dk([this._slot.element,a.element]);(null===b||void 0===b?void 0:b.id)!==a.element.id&&(this._slot={slot:a,element:a.element.firstChild||a.element})}})}_addScrollListener(){let a=0;this._scrollListener.push(this._pageManager.scroll.on(()=>{a++;20<
a&&(a=0,this._topMostElement&&this._slot.slot&&this._shouldFireLogger(!1===this._slot.slot.outOfViewGPT)&&(this._hasFired=!0,this._scrollListener[0](),r.event("DetectOverlappingHeader","_addScrollListener","overlapped",xb(this._topMostElement))))}))}_shouldFireLogger(a){if(a=!this._hasFired&&a&&this._topMostElement&&this._slot.slot&&this._slot.element&&!this._adCreativeIsStuckToBottomOfContainer()){var b=this._topMostElement;a=this._slot.element.getBoundingClientRect();b=b.getBoundingClientRect();
a=!(a.right<b.left||a.left>b.right||a.bottom<b.top||a.top>b.bottom)}return!!a}_adCreativeIsStuckToBottomOfContainer(){var a;let b=this._slot.element,c=null===(a=this._slot.element)||void 0===a?void 0:a.parentElement;return b&&c?Math.round(b.getBoundingClientRect().bottom)===Math.round(c.getBoundingClientRect().bottom):!1}};ki=l([n("DetectOverlappingHeader"),t(),k("design:paramtypes",[E,wa,ji])],ki);let li=class extends C{constructor(a,b,c){super();this._videoEventBus=b;this._stickyContainerAdEventBus=
c;this.stickyContainerRecipeExperimentResult=this.stickyContainerAdsExperimentResult=!1;this.stickyBlockedSelectors=[];this.stickyContainerTopCenterVideoExperimentResult=!1;this.stickyContentHeight=a.adOptions.stickyContentHeight;this.stickyRecipeHeight=a.adOptions.stickyRecipeHeight;this.stickyHeaderHeight=ck(a.adOptions.stickyHeaderSelectors);this.stickyContainerRecipeExperimentResult=F.resolve(rb).result;a.adOptions.stickyContentEnabled&&(this.stickyContainerAdsExperimentResult=F.resolve(cd).result,
this.stickyBlockedSelectors=a.adOptions.stickyBlockedSelectors||[],this.stickyContainerTopCenterVideoExperimentResult=Q()?F.resolve(ii).result:!1,F.resolve(ki))}get enabled(){return(this.stickyContainerAdsExperimentResult||this.stickyContainerRecipeExperimentResult)&&!jm(this.stickyBlockedSelectors)}start(){this.setCSS();this.logOverflow();this._stickyContainerAdEventBus.stickyContainerAdStylingApplied.emit()}setCSS(){if(this.stickyContainerAdsExperimentResult){var a=this.stickyContentHeight;fb(`
  .adthrive-device-phone .adthrive-sticky-content {
    height: 450px !important;
    margin-bottom: 100px !important;
  }
  .adthrive-content.adthrive-sticky {
    position: -webkit-sticky;
    position: sticky !important;
    top: 42px !important;
    margin-top: 42px !important;
  }
  .adthrive-content.adthrive-sticky:after {
    content: "\u2014 Advertisement. Scroll down to continue. \u2014";
    font-size: 10pt;
    margin-top: 5px;
    margin-bottom: 5px;
    display:block;
    color: #888;
  }
  .adthrive-sticky-container {
    position: relative;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    align-items: center;
    min-height:${a?a:400}px !important;
    margin: 10px 0 10px 0;
    background-color: #FAFAFA;
    padding-bottom:0px;
  }
  `);hi(this.stickyHeaderHeight)}this.stickyContainerRecipeExperimentResult&&(a=this.stickyRecipeHeight,fb(`
  .adthrive-recipe.adthrive-sticky {
    position: -webkit-sticky;
    position: sticky !important;
    top: 42px !important;
    margin-top: 42px !important;
  }
  .adthrive-recipe-sticky-container {
    position: relative;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    align-items: center;
    min-height:${a?a:400}px !important;
    margin: 10px 0 10px 0;
    background-color: #FAFAFA;
    padding-bottom:0px;
  }
  `));this.stickyContainerTopCenterVideoExperimentResult&&this.addListeners()}addListeners(){this._videoEventBus.topCenterVideoCollapsed.on(a=>{this.stickyAdTopProperty||(this.stickyAdTopProperty=this.getStickyAdTopProperty(a));hi(this.stickyAdTopProperty)});this._videoEventBus.topCenterVideoUnCollapsed.on(()=>{hi(this.stickyHeaderHeight)})}logOverflow(){var a=document.querySelector(".adthrive-sticky-container");a&&oc(a);(a=document.querySelector(".adthrive-recipe-sticky-container"))&&oc(a)}getStickyAdTopProperty(a){let {playerElement:b,
topBackgroundElement:c,collapseMobileSubType:d,mobileHeaderSelector:e}=a;if("adthrive-collapse-bottom-left"===d||"adthrive-collapse-bottom-right"===d)return this.stickyHeaderHeight;a=c?Number(c.getBoundingClientRect().height):Number(b.getBoundingClientRect().height);let g=ck([e?e:""]);return g?Number(g)+a:a}};li=l([n("StickyContainerAdsComponent"),t(),k("design:paramtypes",[y,Ca,vd])],li);let km=a=>{const b=encodeURIComponent(location.href),c=`https://${"ads.adthrive.com"}/api/v1/marmalade?siteid=${a}&url=${b}&experiments=rubiconFloors,recencyFrequency`;
return fetch?fetch(c).then(d=>d.json()).catch(d=>{r.error("getMarmaladeData","Unable to get marmalade data. Error:",d);return null}):new Promise(d=>{const e=new XMLHttpRequest;e.onload=()=>{200===e.status&&d(e.response)};e.open("GET",c,!0);e.responseType="json";e.send()})},mi=class extends C{constructor(a,b,c){super();this._spaEventBus=a;this._marmaladeEventBus=b;this._config=c;this._siteId=this._config.site.id}init(){this._spaEventBus.routeChanged.on(async()=>{let a=await km(this._siteId);a&&(this._config.marmalade=
new Dc(a,this._marmaladeEventBus),this._marmaladeEventBus.marmaladeResponseLoaded.emit(a))})}get enabled(){return!0}};mi=l([n("SPAMarmaladeComponent"),t(),k("design:paramtypes",[ka,Ga,y])],mi);let ni=class extends C{constructor(a,b,c){super();this._gdprEnforcement=a;this.gppComponent=b;this._config=c;this._cb=null;this._facebookVendorId=20089;this._fbEventsUrlPattern=/connect\.facebook\.net\/en_US\/fbevents.js/;this._userInteractionEvents=["mousemove","keydown","touchstart","wheel"];this._consent=
"revoke";this._throttleInterval=500}init(){this.checkGPPConsentForFacebook();this._config.gdpr.enabled&&this._gdprEnforcement.checkConsentOnLoad().then(a=>{a?this.checkGDPRConsentForFacebook():this.listenForUserActionComplete()}).catch(()=>{})}checkGPPConsentForFacebook(){this.gppComponent.enabled&&(this._consent=this.gppComponent.gpcEnabled?"revoke":"grant",this._config.ccpa.consentChange.on(a=>{this._consent=a!==this.gppComponent.ccpaOptOut?"grant":"revoke";this.handleFacebookPixelConsent()}),this.handleFacebookPixelConsent())}checkGDPRConsentForFacebook(){this._gdprEnforcement.checkConsentForVendor(this._facebookVendorId,
[1]).then(a=>{this._consent=a?"grant":"revoke";this.handleFacebookPixelConsent()}).catch(()=>{})}listenForUserActionComplete(){window.__tcfapi("addEventListener",2,(a,b)=>{b&&a&&"useractioncomplete"===a.eventStatus&&this.checkGDPRConsentForFacebook()})}checkFBEventsJSExists(){return Array.from(document.querySelectorAll("head > script:not([src]), body > script:not([src])")).some(a=>this._fbEventsUrlPattern.test(a.innerHTML))}removeUserInteractionListeners(){this._cb&&(this._userInteractionEvents.forEach(a=>
window.removeEventListener(a,this._cb)),this._cb=null)}addUserInteractionListeners(a){this._cb=Jd(()=>{a()&&this.removeUserInteractionListeners()},this._throttleInterval,{leading:!1});this._userInteractionEvents.forEach(b=>window.addEventListener(b,this._cb))}handleFacebookPixelConsent(){window.fbq&&"function"===typeof window.fbq?(window.fbq("consent",this._consent),this.removeUserInteractionListeners()):!this._cb&&this.checkFBEventsJSExists()&&this.addUserInteractionListeners(this.handleFacebookPixelConsent.bind(this))}get enabled(){return this._config.gdpr.enabled||
this.gppComponent.enabled}};ni=l([n("FacebookPixelComponent"),t(),k("design:paramtypes",[qb,gd,y])],ni);let oi=class extends ea{init(){this._key="ssau";this._default=!1}};oi=l([n("SlickstreamAdsExperiment"),p()],oi);let pi=class extends Rg{constructor(a,b){super(b);this._config=a;this._adInjectionMap=b;this._count=0}injectSlickstreamAdSlots(a,b=document,c){let d=[];b=this._getElements(".slick-search-ad-slot div",b);this._count=c+1;a=this._repeatSpecificDynamicAds(a,b.length,this._count).map(m=>{m.lazy=
!0;return m});for(c=0;c<b.length;c++){var e=b.item(c);let m=a[c],q=`${m.location}_${m.sequence}`;if(!d.some(w=>w.name===q)){var g=this.getDynamicElementId(),h=`adthrive-${m.location.replace("_","-").toLowerCase()}`;h=[h,`${h}-${m.sequence}`,...m.classNames,"adthrive-slicksearch"];if(e=this.addAd(e,g,m.position,h,m.location))g=this._filterAdUnitSizes(m,e),g.length&&(d.push(this.createSlot(m,e,g,!1)),this._count++)}}return d}getDynamicElementId(){return`${this._config.gam.prefix}_Content_${this._count}_${this._config.context.device}`}};
pi=l([n("SlickstreamAdsInjector"),t(),k("design:paramtypes",[y,ab])],pi);let qi=class extends C{constructor(a,b,c,d){super();this._config=a;this._injector=b;this._slotManager=c;this._slickstreamAdsExperiment=d;this._slickstreamAdSlots=[];this._contentSlotsCount=0}get enabled(){return this._slickstreamAdsExperiment.result}init(){document.addEventListener("slick-search-panel-show",()=>{let a=document.querySelector("slick-search-panel");a&&!this.slotsAlreadyInjectedInElement(a)&&this._addSlots(a)});
document.addEventListener("slick-search-panel-hide",()=>{0<this._slickstreamAdSlots.length&&this._removeSlots()});this._slotManager.added.on(a=>{for(let b of a)"Content"===b.location&&this._contentSlotsCount++})}_addSlots(a){let b=this._config.dynamicAds.filter(c=>"Content"===c.location).filter(c=>ae(this._config,c)).filter(c=>c.devices.includes(this._config.context.device));0<b.length&&(a=this._injector.injectSlickstreamAdSlots(b[0],a,this._contentSlotsCount),this._slotManager.add(a).then(c=>{c.forEach(d=>
{this._slickstreamAdSlots.push(d);E.pushToQueue(()=>{d.setTargeting({key:"slicksearch",value:"true"});d.setSlotTargetingFlag("slicksearch",["true"])})})}).catch(c=>{r.error("SlickstreamAdsComponent","_addSlots",c)}))}_removeSlots(){this._slotManager.destroy(this._slickstreamAdSlots);this._slotManager.removeElement(this._slickstreamAdSlots);this._contentSlotsCount-=this._slickstreamAdSlots.length;this._slickstreamAdSlots.length=0}slotsAlreadyInjectedInElement(a){return!!a.querySelector("[id*='AdThrive_Content']")}};
qi=l([n("SlickstreamAdsComponent"),t(),k("design:paramtypes",[y,pi,V,oi])],qi);let wd=class extends ee{constructor(a,b,c,d){var e;super();this._siteExperiments=a;this._pubabgroup=b;this._clsOptions=c;this._choices=[];this._mappedChoices=[];this._result="";this.key=sa.AdLayout;this._resultValidator=g=>{if("string"!==typeof g)return!1;g=g.substring(1);return/^[-_a-zA-Z]+[-_a-zA-Z0-9]*$/.test(g)};(null===(e=d.siteAds)||void 0===e?0:e.siteExperiments)?this.experimentConfig=(new fe(d.siteAds)).getSiteExperimentByKey(this.key):
this.experimentConfig=this._siteExperiments.getSiteExperimentByKey(this.key);a=this._clsOptions.getWeightedChoiceExperiment(this.key,!0);this.enabled&&this._isValidResult(a)?(this._result=a,this.setExperimentTargeting()):this.enabled&&this.experimentConfig&&(this._choices=this.experimentConfig.variants,this._mappedChoices=this._mapChoices(),this._result=this.run(),this.setExperimentTargeting())}run(){if(!this.enabled)return r.error("AdLayoutSiteExperiment","run","() => %o","No experiment config found. Defaulting to empty class name."),
"";let a=(new ta(this._mappedChoices)).get();if(this._isValidResult(a))return a;r.error("AdLayoutSiteExperiment","run","() => %o","Invalid result from experiment choices. Defaulting to empty class name for result",a);return""}setExperimentTargeting(){if(this.enabled&&this._isValidResult(this._result)){var a=this.experimentConfig;a=`${a.key.toLowerCase()}-${a.id}`;this._pubabgroup.set(a,this._result)}else r.error("AdLayoutSiteExperiment","setExperimentTargeting","() => %o","Experiment targeting requires an experiment config and valid result")}_mapChoices(){return this._choices.map(({weight:a,
value:b})=>({weight:a,choice:b}))}};l([N(),k("design:type",Function),k("design:paramtypes",[]),k("design:returntype",void 0)],wd.prototype,"run",null);wd=l([p(),U(3,T("AdthriveCLS")),k("design:paramtypes",[Da,ya,Hb,Object])],wd);let ri=class extends C{constructor(a){super();this._adLayoutSiteExperiment=a}get enabled(){return this._adLayoutSiteExperiment.enabled}init(){let a=this._adLayoutSiteExperiment.result,b=this._adLayoutSiteExperiment.result.substring(1);if(/^[-_a-zA-Z]+[-_a-zA-Z0-9]*$/.test(b))try{document.body.classList.add(b)}catch(c){r.error("AdLayoutComponent",
"init",`Uncaught CSS Class Name error: ${c}`)}else r.error("AdLayoutComponent","init",`Invalid class name: ${a}`)}};ri=l([n("AdLayoutComponent"),t(),k("design:paramtypes",[wd])],ri);let si=class extends C{constructor(a){super();this._footerConfigEventBus=a}init(){this._footerConfigEventBus.comscoreInitialized.on(a=>{a&&this._footerConfigEventBus.footerElementAdded.emit({order:2,element:"<span>A Raptive Partner Site</span>"})},{handleEventsAlreadyEmitted:!0})}};si=l([t(),k("design:paramtypes",[Db])],
si);let ti=class{constructor(a,b,c,d,e,g,h,m,q,w,u,v,A,G,L,J,D,P,M,ca,fa,lb,mb,nb,Qb,Rb,ob,Sb,pb,Tb,Ub,Ya,uf,vf,wf,xf,Nc,lm,mm,nm,om,ek,fk,pm,qm,rm,sm,tm,um,vm,wm,xm,ym,zm,Am,gk,Bm,Cm,hk,Dm,Em,Fm,Gm,Hm,Im){this._config=a;this._components=[b,c,d,e,g,h,m,q,w,u,v,A,G,L,J,D,P,M,ca,fa,lb,mb,nb,Qb,Rb,ob,Sb,Tb,Ub,pb,Ya,uf,vf,wf,xf,Nc,mm,nm,lm,om,ek,fk,pm,qm,rm,sm,tm,vm,wm,xm,um,ym,zm,Am,gk,Bm,hk,Cm,Dm,Em,Fm,Gm,Hm,Im];this._nonCCPAComponents=[M,ek,fk,gk,hk]}init(){let a=this._config.ccpa;this._components.filter(b=>
!a.enabled||a.enabled&&!this._nonCCPAComponents.includes(b)).forEach(b=>void 0!==b.init&&b.enabled&&b.init())}start(){this._components.forEach(a=>void 0!==a.start&&a.enabled&&a.start())}};ti=l([n("Components"),t(),k("design:paramtypes",[y,Hg,Ig,Th,Jg,Lg,Mg,ad,Uh,lh,si,Yh,Og,Pg,Ng,Qg,Vh,ed,kh,Tg,ni,Ug,Wg,ch,dh,ph,gd,eh,fh,Zh,rh,Wh,Ph,Rh,Sh,Xh,jh,ud,$h,qh,th,ai,ci,uh,Ah,Bh,Ch,Fh,gi,Dh,Eh,mi,ld,li,di,ei,Gh,Fg,Qc,Hh,Mh,td,qi,Oh,ri])],ti);fb(".adthrive-ad{clear:both;line-height:0;margin-bottom:10px;margin-top:10px;overflow-x:visible;text-align:center}.adthrive-ad-cls{align-items:center;display:flex;flex-wrap:wrap;justify-content:center}.adthrive-ad-cls>div,.adthrive-ad-cls>iframe{flex-basis:100%}.adthrive-interstitial{margin-bottom:0;margin-top:0}.adthrive-native-recipe{display:inline-block}.adthrive-recipe{min-width:300px}.adthrive-device-desktop .adthrive-recipe,.adthrive-device-tablet .adthrive-recipe{max-width:320px}.adthrive-stuck.adthrive-sticky.adthrive-header,.adthrive-stuck.adthrive-sticky.adthrive-sidebar{position:fixed;top:0;z-index:9999}.adthrive-stuck.adthrive-header{margin-top:0}.adthrive-sticky-sidebar{align-items:center;display:flex;flex-direction:column;justify-content:flex-start;margin:10px 0;min-height:1200px!important;padding-bottom:0;position:relative}.adthrive-sticky-sidebar div{flex-basis:unset;position:sticky;top:5px}.adthrive-sticky.adthrive-footer{background-color:hsla(0,0%,100%,.8);border-top:2px solid hsla(0,0%,88%,.8);bottom:0;box-sizing:content-box;left:0;margin:0;max-height:100px;overflow:hidden;position:fixed;text-align:center;width:100%;z-index:1000001}.adthrive-sticky.adthrive-footer>.adthrive-close{background:#fff;border:1px solid #b2b2b2;border-radius:20px;color:#b2b2b2;cursor:pointer;display:inline-block;font-family:arial,sans-serif;font-size:20px;line-height:20px;padding:0 5px;position:absolute;right:5px;top:5px}.adthrive-device-desktop .adthrive-sticky.adthrive-footer>.adthrive-close{right:10px;top:10px}.adthrive-ccpa-link,.adthrive-footer-message,.adthrive-privacy-preferences{margin-top:5px;text-align:center}.adthrive-footer>div,.adthrive-header>div{max-width:1200px}#next-video,#stay-video{background-color:#333;color:#fff;cursor:pointer;height:40px;line-height:40px;margin:10px;opacity:.9;text-align:center;width:100px}#next-video{box-shadow:inset 0 0 0 0 #333;transition:box-shadow 5s linear}#next-stay-container.loaded #next-video{box-shadow:inset 100px 0 0 0 red}.jw-flag-small-player #next-video,.jw-flag-small-player #stay-video{height:30px;line-height:30px;width:75px}#next-stay-container{bottom:25%;margin:12px;position:absolute;right:0}.jw-flag-small-player #next-stay-container{margin:0}.video-box-shadow{box-shadow:0 0 10px rgba(0,0,0,.5)}.adthrive-wrapper-bar{background-color:#595959;border-top-left-radius:5px;border-top-right-radius:5px;display:none;font-family:Arial,Helvetica,sans-serif;height:36px}.adthrive-video-title{color:#fff;font-size:13px;font-weight:700;text-decoration:none}.adthrive-wrapper-title-wrapper{align-items:center;display:inline-flex;justify-content:center;margin-left:10px;margin-right:10px;min-width:0}.adthrive-wrapper-title-wrapper>a>svg,.adthrive-wrapper-title-wrapper>div>svg{fill:#fff;margin-right:5px;vertical-align:middle}.adthrive-wrapper-title-wrapper>a{text-decoration:none}.adthrive-video-text-cutoff{color:#fff;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.adthrive-collapse-player{border-bottom:1px solid #dbdbdb;border-top:1px solid #dbdbdb;margin-left:auto;margin-right:auto;padding:8px!important;width:90%}.adthrive-outstream-container{flex-basis:unset!important;margin:0 auto;position:relative}.adthrive-player-idle{display:none;transition:all .5s ease-out;transition-delay:.5s}.adthrive-player-playing{display:block;transition:all .5s ease-in;transition-delay:.5s}.adthrive-sticky-outstream-active.adthrive-new-outstream-player{animation-duration:.5s;animation-iteration-count:1;animation-name:adthrive-fade-in;animation-timing-function:ease-in;opacity:1}.adthrive-sticky-outstream-idle.adthrive-new-outstream-player{animation-duration:.5s;animation-iteration-count:1;animation-name:adthrive-fade-out;animation-timing-function:ease-out;display:block;opacity:0}@keyframes adthrive-fade-in{0%{opacity:0}to{opacity:1}}@keyframes adthrive-fade-out{0%{opacity:1}to{opacity:0}}.adthrive-player-ad-controls-play,.adthrive-player-ad-controls-volume{display:inline-block;margin-top:-8px;padding:8px 0 0}.adthrive-player-icon{cursor:pointer;display:inline-block;margin:0 10px!important}.adthrive-player-icon-hidden{display:none}.adthrive-player-icon svg{filter:drop-shadow(3px 5px 3px rgb(0 0 0/.5));pointer-events:none}.adthrive-player-ad-container{bottom:0;margin:0;position:absolute}.adthrive-sticky-outstream.adthrive-sticky-outstream-mobile .adthrive-player-ad-container{margin-bottom:2px;margin-top:2px}.adthrive-player-ad-controls{bottom:6px;height:26px;left:0;line-height:18px;padding:0;position:absolute;text-align:left;width:100%;z-index:1000000}.adthrive-player-volume-control{height:30px;left:6px;margin:0!important;position:absolute;top:-66px;transform:rotate(-90deg);width:100px;z-index:10000}.adthrive-player-volume-control input[type=range]{-webkit-appearance:none;background-color:#777;border:0;border-radius:20px;height:10px;margin:6px 6px 0;outline:0;overflow:hidden;padding:0;vertical-align:bottom;width:100px}.adthrive-player-volume-control input[type=range]::-webkit-slider-runnable-track{-webkit-appearance:none;color:#777;height:10px;margin-top:-1px}.adthrive-player-volume-control input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;background:#fff;border-radius:50%;box-shadow:-325px 0 0 320px #ccc,inset 0 0 0 40px #fff;cursor:pointer;height:10px;position:relative;width:10px}.adthrive-player-volume-control input[type=range]:active::-webkit-slider-thumb{background:#fff;box-shadow:-325px 0 0 320px #ddd,inset 0 0 0 3px #fff}.adthrive-player-volume-control input[type=range]::-moz-range-progress{background-color:#ddd;box-shadow:-325px 0 0 320px #ddd,inset 0 0 0 3px #ddd}.adthrive-player-volume-control input[type=range]::-moz-range-track{background-color:#777}.adthrive-player-volume-control input[type=range]::-ms-fill-lower{background-color:#ddd;box-shadow:-325px 0 0 320px #ddd,inset 0 0 0 3px #ddd}.adthrive-player-volume-control input[type=range]::-ms-fill-upper{background-color:#777}.adthrive-player-position.adthrive-collapse-float{position:fixed;width:300px;z-index:2147483644}.adthrive-player-position.adthrive-collapse-float.adthrive-collapse-right{right:5px;top:0}.adthrive-player-position.adthrive-collapse-float.adthrive-collapse-bottom-right{bottom:100px;right:5px}.adthrive-player-position.adthrive-collapse-float.adthrive-collapse-bottom-left{bottom:100px;left:5px}.adthrive-player-position.adthrive-collapse-float>.adthrive-player-title{display:none}.adthrive-player-position.adthrive-collapse-sticky{padding-bottom:20px;padding-top:20px;position:fixed;z-index:9999}.adthrive-player-position.adthrive-collapse-sticky>.adthrive-player-title{display:none}.adthrive-collapse-mobile-background{background-color:#000;left:0;position:fixed;top:0;z-index:99990}.adthrive-top-collapse-close{left:-30px;position:fixed;top:5px;z-index:1}.adthrive-sticky-outstream-top-center>.adthrive-top-collapse-close{left:10px;position:fixed;top:48px}.adthrive-sticky-outstream-top-center.adthrive-sticky-outstream-mobile>.adthrive-top-collapse-close{top:10px}.adthrive-top-collapse-wrapper-bar>* .adthrive-top-collapse-close{left:0;position:relative;top:0}.adthrive-top-collapse-wrapper-bar>* .adthrive-wrapper-float-close{display:none;float:none;margin-bottom:0}.adthrive-player-position.adthrive-collapse-mobile{position:fixed;width:300px;z-index:99998}.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-medium,.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-small{width:272px}.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-top-right{right:10px;top:26px}.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-top-left{left:5px;top:26px}.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-bottom-left{bottom:52px;left:5px}.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-bottom-right{bottom:52px;right:10px}.adthrive-player-position.adthrive-collapse-mobile>.adthrive-player-title{display:none}.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-top-center>.adthrive-wrapper-bar{display:none!important}.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-top-center>.adthrive-top-collapse-wrapper-bar{display:block}.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-top-center.adthrive-player-without-wrapper-text{left:50%;padding-bottom:5px;padding-top:5px;top:0;transform:translateX(-50%)}.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-top-center.adthrive-player-with-wrapper-text{padding-bottom:5px;padding-top:5px;right:5px;top:0}.adthrive-top-collapse-wrapper-bar{color:#fff;display:none;left:5px;padding-bottom:5px;padding-top:5px;position:fixed;top:0;width:-webkit-calc(100% - 282px);width:-moz-calc(100% - 282px);width:calc(100% - 282px);z-index:99998}.adthrive-top-collapse-wrapper-video-title{-webkit-line-clamp:3;line-clamp:3;-webkit-box-orient:vertical;color:#fff;display:-webkit-box;font-size:13px;font-weight:700;line-height:1.2;overflow:hidden;text-decoration:none;text-overflow:ellipsis}.adthrive-top-collapse-wrapper-bar a a.adthrive-learn-more-link{color:#fff;display:inline-block;font-size:13px;line-height:1.2}h3.adthrive-player-title{margin:10px 0}.adthrive-wrapper-close{align-items:center;color:#fff;font-size:36px;height:36px;justify-content:center;margin-left:auto;margin-right:0;min-width:36px}.adthrive-wrapper-float-close{cursor:pointer;display:none;float:right;margin-bottom:5px}.adthrive-top-left-outer{height:78px;left:-30px;position:absolute;top:-55px;width:78px}.adthrive-top-left-outer>svg{bottom:30px;left:30px;position:absolute}.adthrive-top-left-inner{position:absolute;top:0}.adthrive-top-left-inner.adthrive-wrapper-float-close{background:rgba(0,0,0,.5);color:#fff;padding:2px;pointer-events:none;width:100%;z-index:99}.adthrive-new-outstream-player .adthrive-top-left-inner.adthrive-wrapper-float-close{z-index:10000}.adthrive-new-outstream-player .adthrive-ad{margin-bottom:0;margin-top:0}.adthrive-top-left-inner-wrapper.adthrive-wrapper-float-close{background:rgba(0,0,0,.5);color:#fff;padding:2px;pointer-events:none;position:absolute;top:36px;width:100%;z-index:10000}.adthrive-sticky-outstream>.adthrive-wrapper-float-close{position:absolute;right:1px;top:32px}.adthrive-sticky-outstream>.adthrive-wrapper-float-close.adthrive-wrapper-close-outside-left{left:2px}.adthrive-sticky-outstream>.adthrive-wrapper-float-close.adthrive-wrapper-close-bkgd-50{background:rgba(0,0,0,.5);color:#fff;left:0;padding:2px;pointer-events:none;top:52px}.adthrive-new-outstream-player{margin-bottom:20px;padding:0!important}.adthrive-new-outstream-player>.adthrive-wrapper-float-close.adthrive-wrapper-close-bkgd-50{top:0}.adthrive-wrapper-close-bkgd-50>#adthrive-sticky-outstream-close{padding:2px 0 0 2px;pointer-events:all}.adthrive-sticky-outstream{display:none;overflow:hidden;padding-top:20px;position:fixed;z-index:2147483644}.adthrive-sticky-outstream.adthrive-sticky-outstream-mobile{bottom:52px;right:10px}.adthrive-sticky-outstream.adthrive-sticky-outstream-active.adthrive-sticky-outstream-top-center{background:#000;bottom:auto;left:0;right:0;top:0;transform:none}.adthrive-sticky-outstream.adthrive-sticky-outstream-desktop{bottom:100px;right:5px}.adthrive-sticky-outstream.adthrive-sticky-outstream-top-center.adthrive-sticky-outstream-desktop,.adthrive-sticky-outstream.adthrive-sticky-outstream-top-center.adthrive-sticky-outstream-mobile{bottom:auto}.adthrive-sticky-outstream.adthrive-sticky-outstream-top-center.adthrive-sticky-outstream-mobile .adthrive-stickyoutstream-container{margin:0 auto}.adthrive-sticky-outstream.adthrive-sticky-outstream-active{display:block}.adthrive-video-stickyoutstream div:first-of-type{margin:-1px}.adthrive-video-stickyoutstream-new-player div:first-of-type{margin:0}.adthrive-instream-close{pointer-events:all}.adthrive-instream-close.adthrive-float-left{float:left}.adthrive-ccpa-link,.adthrive-ccpa-link span,.adthrive-footer-message span,.adthrive-privacy-preferences a{color:#a9a9a9;font-family:Arial,Helvetica Neue,Helvetica,sans-serif;font-size:13px}.adthrive-ccpa-link a{cursor:pointer;text-decoration:underline}.adthrive-device-phone .adthrive-footer-message{margin-bottom:60px}.adthrive-footer-message{margin-bottom:100px}.adthrive-footer-message>span{border-top:1px solid #b2b2b2;padding-top:5px;text-transform:uppercase}.adthrive-parallax-slot{height:400px;overflow:hidden;padding-top:5px}.adthrive-parallax-ad{transform:translateY(0);transition:transform .3s ease-out}.adthrive-sticky-container.adthrive-parallax-slot{flex-direction:row;justify-content:center;padding-top:10px}#_inv_voicefive___{display:none}");
class Jm{constructor(){this.healthReport={}}addHealthReport(a,b){this.healthReport[a]=this.healthReport[a]||{details:[]};this.healthReport[a].details.push(b)}log(){gb.event("HealthReporter","log",this.healthReport)}}class Km extends Jm{constructor(){super(...arguments);this._reporter="CLSReporter"}start(){this._clsType();this._clsSlots()}_clsType(){let a=window.adthriveCLS,b=a&&!a.injectedFromPlugin&&a.injectedFromSiteAds;this.addHealthReport(this._reporter,{metric:"clsType",value:a&&a.injectedFromPlugin&&
"plugin"||b&&"nonplugin"||"none"})}_clsSlots(){var a=window.adthriveCLS;let b=a&&a.injectedSlots;a=a&&a.injectedVideoSlots;this.addHealthReport(this._reporter,{metric:"clsSlots",value:(b&&b.length||0)+(a&&a.length||0)})}}let ui=class{constructor(a){this._healthReporters=[a]}start(){this._healthReporters.forEach(a=>{a.start();a.log()})}};ui=l([t(),k("design:paramtypes",[Km])],ui);let xd=class{constructor(a,b,c,d,e,g,h,m,q,w){this.config=a;this.cmd=b;this.slotManager=c;this.slots=d;this._auctionManagers=
e;this._coreExperimentConfig=g;this._googleAdManager=h;this._components=m;this._healthReporters=q;this._siteExperimentEventBus=w;this.marmalade={mcmp:null};this.marmaladeFinished=u=>u;this.rubiconFloorsFinished=u=>u;this._apiReady=new Promise(u=>u(!1));this.bucket=this.config.context.bucket;this.branch=this.config.context.branch;this.invalidTraffic=this.config.context.invalidTraffic;this.deployment=this.config.context.deployment;this.abgroup=this.config.abGroup.groups;this.pubab=this.config.pubAbGroup.groups;
this.siteAds=window.adthrive.siteAds;this.buildDate=window.adthrive.buildDate;this.windowPerformance=window.adthrive.windowPerformance;this.marmaladeFinished=window.adthrive.marmaladeFinished||this.marmaladeFinished;this.rubiconFloorsFinished=window.adthrive.rubiconFloorsFinished||this.rubiconFloorsFinished;this.coreExperiments=this._coreExperimentConfig.coreExperiments;this.siteAds.targeting={push:this._googleAdManager.setTargeting};this._siteExperimentEventBus.targetingReady.on(()=>{this.pubab=
this.config.pubAbGroup.groups;this._googleAdManager.setTargeting({key:"pubab",value:this.pubab})});"off"===Va().get("at_sticky")&&this.clearSticky();"off"===Va().get("at_sticky_buckets")&&this.clearStickyBuckets()}init(){let a=0===window.adthrive.bucket.indexOf("hbs-q")||.01>Math.random();a&&gb.event("AdThrive","init","hcstart");this._apiReady=new Promise(c=>this.config.identityApi.apiReady.on(()=>c(!0)));let b=c=>{c.data={abgroup:this.config.abGroup.groupsAsObject,pubab:this.config.pubAbGroup.groupsAsObject,
sess:this.config.context.sessionKey,pvk:this.config.context.pageviewKey,hbho:this.config.hbho.bidders,vbho:this.config.vbho.bidders,spa:this.config.adOptions.spa,...(this.config.context.deliveryVersion&&{lmdv:this.config.context.deliveryVersion}),...(this.config.clsOptions&&this.config.clsOptions.branch&&{clsBranch:this.config.clsOptions.branch}),...(this.config.clsOptions&&this.config.clsOptions.bucket&&{clsBucket:this.config.clsOptions.bucket})}};r.sending.on(()=>b(r));gb.sending.on(()=>b(gb));
H.setSessionFpv();this.cmd.init();this._auctionManagers.init();this._googleAdManager.init();this._components.init();this._googleAdManager.start();this._components.start();window.adthriveCLS&&window.adthriveCLS.error&&r.error("AdThrive","init","Problem with AdThriveCLS SiteAds. CLS Disabled");this._healthReporters.start();a&&gb.event("AdThrive","init","hcend")}identityApi(a,b){return this._apiReady.then(()=>{this.config.identityApi.optIn.emit({data:a,cb:b})})}disableAds(a){this.config.disableAds.disableAllAds(a)}disableContentAds(a){this.config.disableAds.disableContentAds(a)}disablePlaylistPlayers(a){this.config.disableAds.disablePlaylistPlayers(a)}showPrivacyPreferences(){window.__tcfapi&&
window.__tcfapi("showConsentManager",2)}getConsentData(){window.__tcfapi&&window.__tcfapi("getFullTCData",2,a=>{})}getAdthriveFlippData(){return this.config.marmalade.flpProdIds.filter(La)}setTargetingFlag(a,b,c=!1){a&&"string"===typeof a&&b&&Array.isArray(b)&&0!==b.length&&this._googleAdManager.setTargetingFlag(a,b,c)}setTargeting(a){this._googleAdManager.setTargeting(a)}getTargeting(){return this._googleAdManager.getTargeting()}getTargetingMap(){return this._googleAdManager.getTargetingMap()}logError(a,
b,c){r.error(a,b,c)}refreshSlots(a){let b=this.slots.get();a&&a.length&&(b=b.filter(c=>a.includes(c.id)));b.forEach(c=>{this.slotManager.refresh(c,!1).then(()=>{this.slotManager.clearRefreshTimeout(c,!0)}).catch(()=>{})})}nmr(){r.event("adthrive","nmr","adthrive.nmr() has been called");return this.slotManager.updateRefreshTimeout(this.slots.get(),0)}clearSticky(){r.event("adthrive","clearSticky","adthrive.clearSticky() has been called");H.removeLocalStorageValue("abgroup")}clearStickyBuckets(){r.event("adthrive",
"clearStickyBuckets","adthrive.clearStickyBuckets() has been called");H.removeLocalStorageValue("branch");H.removeLocalStorageValue("at_sticky_data",!1)}};xd=l([n("AdThrive"),p(),k("design:paramtypes",[y,Cg,V,la,tb,aa,E,ti,ui,rc])],xd);let Lm={domain:"ads.adthrive.com",branch:"main",bucket:"prod",cmp:!0},vi=class extends K{constructor(){super();this.classList=["EmailCaptureHandler"];this._result=!1;this._choices=[{choice:!0},{choice:!1}];this.key="logfltr";this._result=this.run()}get result(){return this._result}run(){return(new O(0)).get()}};
vi=l([n("LoggerFilterExperiment"),p(),k("design:paramtypes",[])],vi);let wi=class{init(a){if(void 0!==window.__tcfapi&&"function"===typeof window.__tcfapi){var b=!1;window.__tcfapi("adthrive",2,c=>b=c);b&&("true"===a?window.__tcfapi("setGdprApplies",2,c=>c,!0):(this.clearQueue(),this.stubCommands()))}}processTcfCommand(a){let {command:b,callback:c}=a;!c||c&&"function"!==typeof c||("ping"===b||"addEventListener"===b?c({apiVersion:"2",cmpLoaded:!0,cmpStatus:"loaded",cmpId:void 0,cmpVersion:void 0,displayStatus:"disabled",
gdprApplies:!1,tcfPolicyVersion:void 0,gvlVersion:void 0},!0):"removeEventListener"===b&&c(!0))}clearQueue(){let a=window.__tcfapi();a&&Array.isArray(a)&&a.forEach(b=>this.processTcfCommand(b))}stubCommands(){window.__tcfapi=(a,b,c,d)=>{this.processTcfCommand({command:a,version:b,callback:c,parameter:d})}}};wi=l([n("StubCmp"),p()],wi);let Mm=()=>{var a,b,c;return navigator.userAgent&&(-1<navigator.userAgent.search(/GTmetrix/i)||-1<navigator.userAgent.search(/pingdom/i)||-1<navigator.userAgent.search(/Google Page Speed Insights/i)||
-1<navigator.userAgent.search(/Chrome-Lighthouse/i))?!0:(null===(c=null===(b=null===(a=window.navigator)||void 0===a?void 0:a.userAgentData)||void 0===b?void 0:b.brands)||void 0===c?0:c.map(d=>d.brand).includes("Lighthouse"))?!0:!1},Nm=a=>a instanceof xd||a instanceof Promise,oa=F.resolve(Fc),Om=async a=>{const b=ia(),c=window.adthrive.branch,d=H.getLocalStorageValue("branch");H.setLocalStorageValue("branch",{branch:c,enabled:c===(null===d||void 0===d?void 0:d.branch)});F.register("Build",{useValue:Lm});
F.register("AdThrive",{useValue:a});F.resolve(Xb);return await F.resolve(ve).run().then(({gam:e,marmalade:g,floors:h,webvitals:m})=>{const q=ia();F.register("RecencyFrequencyMarmaladeResponse",{useValue:g.result});window.adthrive=F.resolve(xd);oa.loading=b;oa.bootstrapFinished=q;oa.gamStarted=e.started;oa.gamFinished=e.finished;oa.gamDuration=e.duration;oa.marmaladeStarted=g.started;oa.marmaladeFinished=g.finished;oa.marmaladeDuration=g.duration;oa.floorsStarted=h.started;oa.floorsFinished=h.finished;
oa.floorsDuration=h.duration;oa.webVitalsStarted=m.started;oa.webVitalsFinished=m.finished;oa.webVitalsDuration=m.duration;return window.adthrive.init()}).catch(e=>{const g=e.marmalade;e=e.message||e;g&&Object.prototype.hasOwnProperty.call(g,"result")&&(F.register("RecencyFrequencyMarmaladeResponse",{useValue:g.result}),F.resolve(ud).init());F.resolve(td).init();return Promise.reject(e)})},Pm=({gdpr:a,baseUrl:b})=>"true"===a?`${b}/gdpr`:b,Qm=()=>{const a=window.adthrive.siteAds;var b=window.adthriveCLS;
b=b&&b.siteAds;var c=window.adthrive.siteAds.videoPlayers&&window.adthrive.siteAds.videoPlayers.contentSpecificPlaylists;c=c?[...c]:[];b&&pj(b)&&(a.adUnits=b.adUnits,a.video=b.video,a.videoPlayers=b.videoPlayers,a.breakpoints=b.breakpoints,a.videoPlayers&&(a.videoPlayers.contentSpecificPlaylists=c.filter(d=>!d.isDraft)))},Rm=a=>{var b=F.resolve(wa).setupOnceEventWithPromise;const c=[b("scroll"),b("mousemove"),b("keyup")];qa()||c.push(b("touchstart"));b=[b("load").then(()=>aj(a))];return Mm()?c:b.concat(c)},
Sm=a=>{B(a.siteAds.adOptions.delayLoading,!1)?(a=Rm(50),a=Promise.race(a)):a=Promise.resolve();return a},Tm=()=>{const a=window.adthrive;window.adthriveCLS&&!window.adthriveCLS.error?(F.register("AdthriveCLS",{useValue:window.adthriveCLS}),Qm()):F.register("AdthriveCLS",{useValue:{}});F.register("CoreExperimentValues",{useValue:a.core.coreExperiments});const b=Pm(a),c=il();var d=0===a.bucket.indexOf("hbs-q");d=c||d?"unsupported":a.bucket;const e=F.resolve(vi),g={...a,bucket:d,baseUrl:b,invalidTraffic:c,
loggerFilters:e.result?[]:e.classList};H.init(g);gb.init(g);r.init(g);const h=ia();F.resolve(wi).init(g.gdpr);Sm(g).then(()=>{const m=ia()-h;oa.delay=m;return Om(g)}).then(()=>{}).catch(m=>{"string"===typeof m?r.error("index","load",Error(m)):r.error("index","load",m)})};try{Nm(window.adthrive)||Tm()}catch(a){r.error("index","pre-init",a)}return window.adthrive}()
;